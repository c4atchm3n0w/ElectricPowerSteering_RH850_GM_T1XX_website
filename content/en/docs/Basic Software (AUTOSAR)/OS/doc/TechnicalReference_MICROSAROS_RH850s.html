---
title: TechnicalReference_MICROSAROS_RH850s
linkTitle: TechnicalReference_MICROSAROS_RH850s
weight: 16
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a>&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
<b>MICROSAR OS RH850&#160;<br/></b>Technical Reference&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
Authors&#160;<br/>
Senol&#160;Cendere,&#160;Yohan&#160;Humbert&#160;<br/>
Version&#160;<br/>
1.11&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
<hr/>
<a name=2></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>Document&#160;Information&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;&#160;Remarks&#160;</b><br/>
S.&#160;Cendere&#160;<br/>
2014-01-21&#160;&#160;1.00&#160;<br/>
Creation&#160;<br/>
S.&#160;Cendere&#160;<br/>
2014-02-03&#160;&#160;1.01&#160;<br/>
Release&#160;for&#160;RH850 SafeContext&#160;<br/>
S.&#160;Cendere&#160;<br/>
2014-04-24&#160;&#160;1.02&#160;<br/>
Release&#160;for&#160;RH850 P1M&#160;<br/>
S.&#160;Cendere&#160;<br/>
2014-09-30&#160;&#160;1.03&#160;<br/>
Added&#160;error&#160;numbers&#160;for&#160;interrupt&#160;consistency&#160;checks&#160;<br/>
Y.&#160;Humbert&#160;<br/>
2014-10-14&#160;&#160;1.04&#160;<br/>
Update&#160;<br/>
Y.&#160;Humbert&#160;<br/>
2015-01-29&#160;&#160;1.05&#160;<br/>
Added&#160;ASID&#160;support&#160;<br/>
Y.&#160;Humbert&#160;<br/>
2015-02-26&#160;&#160;1.06&#160;<br/>
Added&#160;D1M,&#160;E1L,&#160;E1M&#160;and&#160;F1M&#160;<br/>
Y.&#160;Humbert&#160;<br/>
2015-06-10&#160;&#160;1.07&#160;<br/>
Added&#160;Multicore&#160;chapter&#160;<br/>
S.&#160;Cendere&#160;<br/>
2015-06-29&#160;&#160;1.08&#160;<br/>
Added&#160;Timing&#160;Protection&#160;chapter&#160;<br/>
S.&#160;Cendere&#160;<br/>
2015-08-20&#160;&#160;1.09&#160;<br/>
Removed&#160;core&#160;exception&#160;attributes&#160;<br/>
Y.&#160;Humbert&#160;<br/>
2015-11-10&#160;<br/>
1.10&#160;<br/>
Support&#160;Multicore&#160;SC3&#160;<br/>
S.&#160;Cendere&#160;<br/>
2016-01-22&#160;&#160;1.11&#160;<br/>
Added&#160;description&#160;for&#160;osCheckAndRefreshTimer&#160;<br/>
<b>&#160;</b><br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>Ref.&#160;&#160;Source&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;</b><br/>
[1]&#160;<br/>
AUTOSAR&#160;<br/>
AUTOSAR&#160;Operating&#160;System&#160;Specification&#160;<br/>
3.0.x&#160;<br/>
(downloadable from&#160;www.Autosar.org)&#160;<br/>
4.0.x&#160;<br/>4.1.x&#160;<br/>
[2]&#160;<br/>
OSEK&#160;<br/>
OSEK/VDX&#160;Operating&#160;System&#160;Specification&#160;<br/>
2.2.3&#160;<br/>
(downloadable from&#160;www.osek-vdx.org)&#160;<br/>
[3]&#160;<br/>
Vector&#160;Informatik&#160;GmbH&#160;<br/>
Technical&#160;Reference&#160;MICROSAR&#160;OS&#160;<br/>
9.01&#160;<br/>
<b>&#160;</b><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>2</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Os/doc/TechnicalReference_MICROSAROS_RH850-3_1.jpg"/><br/>
Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>Scope&#160;of&#160;the&#160;Document</b>&#160;<br/>
This&#160;&#160;technical&#160;&#160;reference&#160;&#160;describes&#160;&#160;the&#160;&#160;specific&#160;&#160;use&#160;&#160;of&#160;&#160;the&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;for&#160;&#160;Renesas&#160;<br/>RH850.&#160;It&#160;supplements&#160;the&#160;general technical reference&#160;for MICROSAR OS&#160;[3].&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>We&#160;have configured&#160;the&#160;programs&#160;in&#160;accordance&#160;with your&#160;specifications&#160;in the&#160;<br/>
<b>&#160;&#160;</b>questionnaire.&#160;Whereas&#160;the&#160;programs&#160;do&#160;support&#160;other&#160;configurations&#160;than&#160;the&#160;one&#160;<br/>
specified&#160;in your&#160;questionnaire,&#160;Vector´s&#160;release&#160;of&#160;the&#160;programs&#160;delivered to&#160;your&#160;<br/>company&#160;is&#160;expressly&#160;restricted&#160;to&#160;the&#160;configuration&#160;you&#160;have specified&#160;in&#160;the&#160;<br/>questionnaire.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Overview&#160;</b><br/>
This&#160;&#160;document&#160;&#160;describes&#160;&#160;the&#160;&#160;implementation&#160;&#160;specific&#160;&#160;part&#160;&#160;of&#160;&#160;the&#160;&#160;AUTOSAR&#160;&#160;operating&#160;<br/>system&#160;for&#160;the&#160;Renesas&#160;RH850&#160;microcontroller&#160;family.&#160;In&#160;this&#160;document&#160;a&#160;processor&#160;of&#160;the&#160;<br/>family&#160;may&#160;be&#160;referred&#160;as RH850.&#160;<br/>The&#160;common&#160;part of&#160;all&#160;MICROSAR OS&#160;implementations is&#160;described&#160;in&#160;document&#160;[3].&#160;<br/>The&#160;implementation&#160;is&#160;based&#160;on&#160;the&#160;OSEK-OS-specification&#160;2.2.3&#160;and&#160;on&#160;AUTOSAR&#160;OS&#160;<br/>specifications&#160;3.0.x/4.0.x/4.1.x.&#160;This&#160;document&#160;assumes&#160;that&#160;the&#160;reader&#160;is&#160;familiar&#160;with&#160;the&#160;<br/>OSEK&#160;and&#160;AUTOSAR&#160;OS&#160;specifications.&#160;<br/>OSEK/VDX&#160;&#160;is&#160;&#160;a&#160;&#160;registered&#160;&#160;trademark&#160;&#160;of&#160;&#160;Continental&#160;&#160;Automotive&#160;&#160;GmbH&#160;&#160;(until&#160;&#160;2007:&#160;<br/>Siemens&#160;AG).&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>3</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=4></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#8"><b>1</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#8"><b>Overview&#160;of&#160;MICROSAR&#160;OS&#160;.........................................................................................&#160;8</b>&#160;<br/>1.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#8">Overview&#160;of&#160;Properties&#160;.......................................................................................&#160;8&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#9"><b>2</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#9"><b>Installation&#160;.....................................................................................................................&#160;9</b>&#160;<br/>2.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#9">OIL-Configurator&#160;................................................................................................&#160;9&#160;<br/>2.1.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#9">OIL-Implementation&#160;Files&#160;...................................................................&#160;9&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#10"><b>3</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#10"><b>Configuration&#160;..............................................................................................................&#160;10</b>&#160;<br/>3.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#10">XML&#160;Configuration&#160;...........................................................................................&#160;10&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#10">3.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#10">OIL&#160;Configuration&#160;.............................................................................................&#160;10&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#11">3.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#11">OS&#160;Attributes&#160;....................................................................................................&#160;11&#160;<br/></a><a href="TechnicalReference_MICROSAROS_RH850s.html#13">3.3.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#13">MpuRegion&#160;Sub-Attributes (SC3&#160;and&#160;SC4)&#160;......................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#14">3.3.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#14">PeripheralRegion&#160;Sub-Attributes&#160;(SC3&#160;and SC4)&#160;.............................&#160;14&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#15">3.4&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#15">Counter&#160;Attributes&#160;............................................................................................&#160;15&#160;<br/>3.4.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#15">OSTM&#160;Sub-Attributes&#160;.......................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#15">3.4.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#15">OSTM_HIRES&#160;Sub-Attributes&#160;..........................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#16">3.5&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#16">ISR&#160;Attributes&#160;...................................................................................................&#160;16&#160;<br/>3.5.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#16">ExceptionType&#160;Sub-Attributes&#160;..........................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#17">3.6&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#17">Application&#160;Attributes&#160;.......................................................................................&#160;17&#160;<br/>3.6.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#17">Attribute MpuRegion&#160;........................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#18">3.7&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#18">Event&#160;Attributes&#160;................................................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#18">3.8&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#18">Linker&#160;Include Files (SC3 and SC4)&#160;.................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#19"><b>4</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#19"><b>System&#160;Generation&#160;.....................................................................................................&#160;19</b>&#160;<br/></a><a href="TechnicalReference_MICROSAROS_RH850s.html#20">4.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#20">Code Generator&#160;...............................................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#21"><b>5</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#21"><b>Stack Handling&#160;............................................................................................................&#160;21</b>&#160;<br/>5.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#21">Task&#160;Stacks&#160;......................................................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#21">5.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#21">ISR&#160;Stacks&#160;.......................................................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#21">5.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#21">System&#160;Stack&#160;...................................................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#21">5.4&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#21">Startup&#160;Stack&#160;....................................................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#21">5.5&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#21">Stack&#160;Usage Size&#160;.............................................................................................&#160;21&#160;<br/></a><a href="TechnicalReference_MICROSAROS_RH850s.html#22">5.5.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#22">Task&#160;Stack&#160;Usage&#160;............................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#22">5.5.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#22">System&#160;Stack&#160;Usage&#160;........................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#22">5.5.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#22">ISR&#160;Stack&#160;Usage&#160;..............................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#23"><b>6</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#23"><b>Interrupt&#160;Handling&#160;.......................................................................................................&#160;23</b>&#160;<br/>6.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#23">Interrupt&#160;Vectors&#160;..............................................................................................&#160;23&#160;<br/>6.1.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#23">Reset&#160;Vector&#160;....................................................................................&#160;23&#160;</a><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>4</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=5></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#23">6.1.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#23">Level&#160;Initialization&#160;.............................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#24">6.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#24">Interrupt&#160;Level&#160;and Category&#160;............................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#24">6.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#24">Interrupt&#160;Category&#160;1&#160;.........................................................................................&#160;24&#160;<br/>6.3.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#24">Interrupt&#160;Processing&#160;in&#160;C&#160;..................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#24">6.3.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#24">Unhandled&#160;Exception&#160;Determination&#160;................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#25">6.4&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#25">Interrupt&#160;Category&#160;2&#160;.........................................................................................&#160;25&#160;<br/>6.4.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#25">Interrupt&#160;Entry&#160;..................................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#25">6.4.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#25">Interrupt&#160;Exit&#160;....................................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#25">6.4.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#25">CAT2&#160;ISR&#160;Function&#160;..........................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#25">6.5&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#25">Disabling&#160;Interrupts&#160;..........................................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#26"><b>7</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#26"><b>MPU&#160;Handling&#160;(SC3 and SC4)&#160;....................................................................................&#160;26</b>&#160;<br/>7.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#26">MPU&#160;Region&#160;Usage&#160;.........................................................................................&#160;26&#160;<br/>7.1.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#26">MPU&#160;Region&#160;0&#160;..................................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#26">7.1.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#26">Static&#160;MPU&#160;Regions&#160;.........................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#27">7.1.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#27">Dynamic&#160;MPU&#160;Regions&#160;....................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#28"><b>8</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#28"><b>RH850 Peripherals&#160;......................................................................................................&#160;28</b>&#160;<br/>8.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#28">Supported&#160;System&#160;Timer&#160;..................................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#28">8.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#28">Supported&#160;Time Monitoring&#160;Timer&#160;....................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#28">8.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#28">Initialization&#160;......................................................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29"><b>9</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29"><b>Implementation&#160;Specifics&#160;...........................................................................................&#160;29</b>&#160;<br/>9.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29">API&#160;Functions&#160;..................................................................................................&#160;29&#160;<br/>9.1.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29">DisableAllInterrupts&#160;..........................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29">9.1.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29">EnableAllInterrupts&#160;...........................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29">9.1.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29">SuspendAllInterrupts&#160;........................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29">9.1.4&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29">ResumeAllInterrupts&#160;.........................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29">9.1.5&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#29">SuspendOSInterrupts&#160;.......................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.6&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">ResumeOSInterrupts&#160;.......................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.7&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">GetResource&#160;....................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.8&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">ReleaseResource&#160;............................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.9&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">GetAlarmBase&#160;..................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.10&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">osInitialize&#160;........................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.11&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#30">osInitINTC&#160;........................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#31">9.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#31">Peripheral&#160;Region&#160;API&#160;......................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#31">9.2.1.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#31">Read Functions&#160;..............................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#32">9.2.1.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#32">Write Functions&#160;..............................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#33">9.2.1.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#33">Modify&#160;Functions&#160;............................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#34">9.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#34">Peripheral&#160;Interrupt&#160;API&#160;Functions&#160;(SC3 and SC4)&#160;...........................................&#160;34&#160;<br/></a><a href="TechnicalReference_MICROSAROS_RH850s.html#35">9.3.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#35">Write&#160;to&#160;Interrupt&#160;Control&#160;Register&#160;....................................................&#160;35&#160;</a><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>5</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=6></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#37">9.3.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#37">Set&#160;or&#160;Clear&#160;Mask Flag&#160;....................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#38">9.3.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#38">Set&#160;or&#160;Clear&#160;ICR&#160;Request&#160;Flag&#160;.........................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#39">9.3.4&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#39">Read,&#160;Set&#160;or&#160;Clear&#160;Mask Bit&#160;in Registers&#160;IMRm&#160;...............................&#160;39&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#40">9.3.5&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#40">Write&#160;to Registers&#160;IMRm&#160;..................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">Hook&#160;Routines&#160;.................................................................................................&#160;41&#160;<br/>9.4.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">ErrorHook&#160;........................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">StartupHook&#160;.....................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">ShutdownHook&#160;.................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4.4&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">PreTaskHook....................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4.5&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">PostTaskHook&#160;..................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4.6&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#41">PreAlarmHook&#160;(SC1 only)&#160;................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#42">9.4.7&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#42">ISRHooks&#160;(SC1&#160;only)&#160;.......................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#42">9.4.8&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#42">Callbacks&#160;(SC1 only)&#160;........................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#42">9.4.9&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#42">ProtectionHook&#160;(SC3 and SC4)&#160;.......................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#43">9.5&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#43">Functions&#160;for&#160;MPU&#160;functionality&#160;checks&#160;............................................................&#160;43&#160;<br/>9.5.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#43">Function osCheckMPUAccess&#160;.........................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#44">9.5.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#44">Function osCheckAndRefreshMPU&#160;..................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#45">9.6&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#45">Function&#160;for&#160;OSTM&#160;functionality&#160;checks&#160;...........................................................&#160;45&#160;<br/>9.6.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#45">Function&#160;osCheckAndRefreshTimer&#160;.................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#46"><b>10</b>&#160;&#160;<b>Non-Trusted Functions&#160;(SC3 and&#160;SC4)&#160;.....................................................................&#160;46</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#46">10.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#46">Functionality&#160;.....................................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#47">10.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#47">API&#160;...................................................................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#48">10.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#48">Call&#160;Context&#160;.....................................................................................................&#160;48&#160;<br/></a><a href="TechnicalReference_MICROSAROS_RH850s.html#49">10.3.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#49">Example&#160;...........................................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#50"><b>11</b>&#160;&#160;<b>Multicore&#160;.....................................................................................................................&#160;50</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#50">11.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#50">Configuration&#160;...................................................................................................&#160;50&#160;<br/>11.1.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#50">Core&#160;IDs&#160;...........................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#50">11.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#50">Multi-Core&#160;start-up&#160;...........................................................................................&#160;50&#160;<br/></a><a href="TechnicalReference_MICROSAROS_RH850s.html#51">11.2.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#51">Both&#160;PEs&#160;controlled&#160;by&#160;OS&#160;...............................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#51">11.2.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#51">Only&#160;PE1 controlled&#160;by&#160;OS&#160;...............................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#52">11.2.3&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#52">Only&#160;PE2 controlled&#160;by&#160;OS&#160;...............................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#53"><b>12</b>&#160;&#160;<b>Timing&#160;Protection&#160;(SC4)&#160;.............................................................................................&#160;53</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#53">12.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#53">Configuration&#160;Attributes&#160;....................................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#53">12.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#53">Restrictions&#160;for&#160;SC4 Configurations&#160;.................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#54"><b>13</b>&#160;&#160;<b>Error&#160;Handling&#160;............................................................................................................&#160;54</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#54">13.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#54">MICROSAR&#160;OS&#160;RH850&#160;Error&#160;Numbers&#160;...........................................................&#160;54&#160;<br/>13.1.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#54">RH850 specific&#160;Error&#160;Numbers&#160;.........................................................&#160;54&#160;</a><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>6</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=7></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#56"><b>14</b>&#160;&#160;<b>Modules&#160;.......................................................................................................................&#160;56</b>&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#56">14.1&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#56">Source Files&#160;.....................................................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#57">14.2&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#57">Header&#160;Files&#160;....................................................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_MICROSAROS_RH850s.html#58"><b>15</b>&#160;&#160;<b>Contact&#160;........................................................................................................................&#160;58</b>&#160;<br/></a>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>7</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=8></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>1&#160;&#160;Overview&#160;of&#160;MICROSAR&#160;OS&#160;</b><br/>
<b>1.1&#160;</b><br/>
<b>Overview&#160;of&#160;Properties&#160;</b><br/>
<b>Property&#160;Class&#160;</b><br/>
<b>Version&#160;/&#160;Range&#160;/&#160;Support&#160;</b><br/>
AUTOSAR&#160;OS&#160;specification&#160;<br/>
3.0.x,&#160;4.0.x,&#160;4.1.x&#160;<br/>SC1&#160;<br/>
Scalability&#160;Classes&#160;supported&#160;<br/>
SC3&#160;(SafeContext)&#160;<br/>SC4 (SafeContext)&#160;<br/>SC1:&#160;BCC1,&#160;BCC2,&#160;ECC1,&#160;ECC2&#160;<br/>
Conformance&#160;Classes&#160;supported&#160;<br/>
SC3&#160;and SC4:&#160;ECC2&#160;<br/>SC1:&#160;full-,&#160;non-&#160;and&#160;mixed-preemptive&#160;<br/>
Scheduling&#160;policy&#160;<br/>
SC3 and SC4:&#160;full-&#160;and&#160;mixed-preemptive&#160;<br/>
Scheduling&#160;points&#160;<br/>
depending&#160;on&#160;scheduling policy&#160;<br/>
Maximum&#160;number&#160;of&#160;tasks&#160;<br/>
65535&#160;<br/>
Maximum&#160;number&#160;of&#160;events&#160;per&#160;task&#160;<br/>
32&#160;<br/>
Maximum&#160;number&#160;of&#160;activations per&#160;task&#160;&#160;255&#160;<br/>Maximum&#160;number&#160;of&#160;priorities&#160;<br/>
8192&#160;<br/>
Maximum&#160;number&#160;of&#160;counters&#160;<br/>
256&#160;<br/>
Maximum&#160;number&#160;of&#160;alarms&#160;<br/>
32767&#160;<br/>
Maximum&#160;number&#160;of&#160;resources&#160;<br/>
8192&#160;<br/>
Maximum&#160;number&#160;of&#160;resources locked&#160;<br/>
255&#160;<br/>
simultaneously&#160;<br/>Maximum&#160;number&#160;of&#160;schedule tables&#160;<br/>
65535&#160;<br/>65535 (cyclical&#160;expiry&#160;points&#160;counted&#160;by&#160;their&#160;<br/>
Maximum&#160;number&#160;of&#160;expiry&#160;points&#160;<br/>
multiplicity)&#160;<br/>
Maximum&#160;number&#160;of&#160;ISRs&#160;<br/>
depending&#160;on&#160;derivative&#160;<br/>SC1:&#160;STANDARD&#160;and EXTENDED&#160;<br/>
Status&#160;Levels&#160;<br/>
SC3:&#160;EXTENDED&#160;<br/>SC4:&#160;EXTENDED&#160;<br/>
Nested&#160;Interrupts&#160;<br/>
supported&#160;<br/>SC1:&#160;supported&#160;<br/>
Interrupt&#160;level&#160;resource&#160;handling&#160;<br/>
SC3:&#160;not&#160;supported&#160;<br/>SC4:&#160;not&#160;supported&#160;<br/>SC1:&#160;2.1&#160;Standard&#160;and&#160;2.1&#160;Additional&#160;<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;2.2&#160;Standard&#160;and&#160;2.2&#160;Additional&#160;<br/>
ORTI&#160;support&#160;<br/>
SC3:&#160;2.2&#160;Additional&#160;<br/>SC4:&#160;2.2&#160;Additional&#160;<br/>
Library&#160;Version&#160;<br/>
not&#160;supported&#160;<br/>
FPU&#160;support&#160;<br/>
supported&#160;(if&#160;provided by&#160;derivative)&#160;<br/>
Table&#160;1&#160;&#160;<br/>
OS&#160;Properties&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>8</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=9></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>2&#160;&#160;Installation&#160;&#160;</b><br/>
The&#160;general&#160;installation&#160;is described&#160;in&#160;the&#160;common&#160;document&#160;[3].&#160;<br/>The&#160;RH850&#160;specific&#160;files are&#160;described&#160;below.&#160;<br/>
<b>2.1&#160;</b><br/>
<b>OIL-Configurator&#160;</b><br/>
The&#160;&#160;OIL-configurator&#160;&#160;is&#160;&#160;a&#160;&#160;general&#160;&#160;tool&#160;&#160;for&#160;&#160;different&#160;&#160;AUTOSAR&#160;&#160;implementations.&#160;&#160;The&#160;<br/>implementation&#160;specific&#160;parts&#160;are&#160;the&#160;code&#160;generator&#160;and&#160;the&#160;OIL-implementation&#160;files&#160;for&#160;<br/>the&#160;code&#160;generator.&#160;<br/>
&#160;&#160;OIL-Configurator&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;root\OILTOOL&#160;<br/>
&#160;&#160;OIL-Implementation&#160;files&#160;&#160;&#160;&#160;root\OILTOOL\GEN&#160;<br/>
&#160;&#160;Code&#160;Generator&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;root\OILTOOL\GEN&#160;<br/>
&#160;<br/>
<b>2.1.1&#160;&#160;OIL-Implementation&#160;Files&#160;<br/></b>The&#160;implementation&#160;specific&#160;files&#160;will&#160;be&#160;copied&#160;onto&#160;the&#160;local&#160;hard&#160;disk.&#160;The&#160;OIL-tool&#160;has&#160;<br/>knowledge&#160;&#160;about&#160;&#160;these&#160;&#160;files&#160;&#160;through&#160;&#160;the&#160;&#160;file&#160;&#160;OILGEN.INI&#160;&#160;(the&#160;&#160;correct&#160;&#160;path&#160;&#160;is&#160;&#160;set&#160;&#160;by&#160;&#160;the&#160;<br/>installation&#160;program).&#160;<br/>
<b>CPU&#160;</b><br/>
<b>Implementation&#160;file&#160;</b><br/>
<b>Standard&#160;object&#160;file&#160;</b><br/>
<b>Description&#160;</b><br/>
D1L&#160;<br/>
RH850_D1L.i41&#160;<br/>
RH850_D1L.s41&#160;<br/>
Source code&#160;version&#160;<br/>
D1M&#160;<br/>
RH850_D1M.i41&#160;<br/>
RH850_D1M.s41&#160;<br/>
Source code&#160;version&#160;<br/>
E1L&#160;<br/>
RH850_E1L.i41&#160;<br/>
RH850_E1L.s41&#160;<br/>
Source code&#160;version&#160;<br/>
E1M&#160;<br/>
RH850_E1M.i41&#160;<br/>
RH850_E1M.s41&#160;<br/>
Source code&#160;version&#160;<br/>
E1x-FCC2&#160;&#160;RH850_E1x_FCC2.i41&#160;<br/>
RH850_E1x_FCC2.s41&#160;<br/>
Source code&#160;version&#160;<br/>
F1H&#160;<br/>
RH850_F1H.i41&#160;<br/>
RH850_F1H.s41&#160;<br/>
Source code&#160;version&#160;<br/>
F1L&#160;<br/>
RH850_F1L.i41&#160;<br/>
RH850_F1L.s41&#160;<br/>
Source code&#160;version&#160;<br/>
F1M&#160;<br/>
RH850_F1M.i41&#160;<br/>
RH850_F1M.s41&#160;<br/>
Source code&#160;version&#160;<br/>
P1M&#160;<br/>
RH850_P1M.i41&#160;<br/>
RH850_P1M.s41&#160;<br/>
Source code&#160;version&#160;<br/>
Table&#160;2&#160;&#160;<br/>
OIL&#160;implementation&#160;Files&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>9</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=10></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>3&#160;&#160;Configuration&#160;</b><br/>
Before&#160;an&#160;application&#160;can&#160;be&#160;compiled&#160;all&#160;static MICROSAR OS&#160;objects have&#160;to&#160;be&#160;defined&#160;<br/>in&#160;&#160;a&#160;&#160;configuration&#160;&#160;file.&#160;&#160;The&#160;&#160;OS&#160;&#160;generator&#160;&#160;generates&#160;&#160;code&#160;&#160;in&#160;&#160;accordance&#160;&#160;to&#160;&#160;this&#160;<br/>configuration&#160;file.&#160;<br/>The&#160;&#160;configuration&#160;&#160;can&#160;&#160;be&#160;&#160;done&#160;&#160;either&#160;&#160;in&#160;&#160;XML&#160;&#160;language&#160;&#160;(AUTOSAR&#160;&#160;ECU&#160;&#160;configuration&#160;<br/>format) or in&#160;OIL&#160;(OSEK&#160;implementation&#160;language).&#160;<br/>Chapter<a href="TechnicalReference_MICROSAROS_RH850s.html#19">&#160;4&#160;</a>shows&#160;the&#160;program&#160;flow&#160;of&#160;a&#160;configuration&#160;/&#160;generation&#160;/&#160;compilation&#160;process&#160;in&#160;<br/>detail.&#160;<br/>There&#160;&#160;are&#160;&#160;configuration&#160;&#160;attributes&#160;&#160;which&#160;&#160;are&#160;&#160;standard&#160;&#160;for&#160;&#160;all&#160;&#160;MICROSAR&#160;&#160;OS&#160;<br/>implementations.&#160;These&#160;are&#160;described&#160;in&#160;[3].&#160;<br/>Platform&#160;&#160;specific&#160;&#160;attributes&#160;&#160;(which&#160;&#160;only&#160;&#160;apply&#160;&#160;to&#160;&#160;this&#160;&#160;implementation&#160;&#160;of&#160;&#160;MICROSAR&#160;&#160;OS)&#160;<br/>are described&#160;hereafter.&#160;<br/>
<b>3.1&#160;</b><br/>
<b>XML Configuration&#160;</b><br/>
An&#160;XML&#160;configuration&#160;of&#160;the&#160;OS&#160;must&#160;conform&#160;to&#160;the&#160;AUTOSAR&#160;XML&#160;schema.&#160;To&#160;edit such&#160;<br/>a&#160;configuration&#160;the&#160;DaVinci configurator&#160;of&#160;Vector Informatik GmbH&#160;can&#160;be&#160;used.&#160;<br/>
<b>3.2&#160;</b><br/>
<b>OIL Configuration&#160;</b><br/>
MICROSAR OS&#160;systems&#160;for RH850&#160;can&#160;also&#160;be&#160;described&#160;using&#160;OIL.&#160;The&#160;OIL&#160;configurator&#160;<br/>tool&#160;is&#160;capable&#160;of&#160;reading&#160;and&#160;writing&#160;OIL&#160;files.&#160;The&#160;finished&#160;OIL&#160;file&#160;is&#160;passed&#160;to&#160;the&#160;code&#160;<br/>generator which&#160;generates the&#160;configuration&#160;files&#160;of&#160;the&#160;OS.&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>10</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=11></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>3.3&#160;</b><br/>
<b>OS&#160;Attributes&#160;</b><br/>
The&#160;OS&#160;object&#160;controls&#160;general&#160;aspects&#160;of&#160;the&#160;operating&#160;system.&#160;The&#160;following&#160;attributes&#160;<br/>are provided&#160;for&#160;scalability&#160;class&#160;SC1,&#160;SC3&#160;and&#160;SC4:&#160;<br/>
Attribute&#160;Name&#160;<br/>
Values&#160;<br/>
Description&#160;<br/>
Default&#160;&#160;value&#160;&#160;is&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
written&#160;in&#160;bold&#160;<br/>
Compiler&#160;<br/>
OsOSCompiler&#160;<br/>
<b>GHS&#160;</b><br/>
Selects&#160;the&#160;supported&#160;compiler.&#160;<br/>
SystemStackSize&#160;<br/>
OsOSSystemStackSize&#160;<br/>
0&#160;…&#160;0xFFFC&#160;&#160;Size&#160;of&#160;the system&#160;stack&#160;in&#160;bytes.&#160;<br/>
EnumeratedUnhandl<br/>
OsOSEnumeratedUnhandl<br/>
TRUE&#160;<br/>
This&#160;attribute determines&#160;handling&#160;<br/>
edISRs&#160;<br/>
edISRs&#160;<br/>
<b>FALSE&#160;</b><br/>
of&#160;unused&#160;interrupt sources.&#160;<br/>If&#160;set&#160;TRUE&#160;then&#160;variable&#160;<br/>ossUnhandledExceptionDetail&#160;is&#160;<br/>set&#160;to&#160;the exception number&#160;before&#160;<br/>calling&#160;osUnhandledException.&#160;<br/>
ORTIDebugSupport&#160;<br/>
OsOSORTIDebugSupport&#160;<br/>
TRUE&#160;<br/>
The&#160;RH850&#160;implementation&#160;<br/>
<b>FALSE&#160;</b><br/>
supports&#160;ORTI debug&#160;information&#160;if&#160;<br/>this&#160;attribute&#160;is&#160;selected.&#160;<br/>
ORTIDebugLevel&#160;<br/>
OsOSORTIDebugLevel&#160;<br/>
<b>ORTI_22_Ad</b><br/>
Support ORTI 2.2&#160;with&#160;additional&#160;<br/>
<b>ditional&#160;</b><br/>
features&#160;which&#160;require some&#160;<br/>additional&#160;runtime and&#160;memory.&#160;<br/>
UserConfigurationVe<br/>
OsOSUserConfigurationVer<br/>
0 ...&#160;0xFFFF&#160;<br/>
This&#160;value specifies&#160;the current&#160;<br/>
rsion&#160;<br/>
sion&#160;<br/>
user specific&#160;version&#160;of&#160;the&#160;OS&#160;<br/>configuration.&#160;It&#160;can&#160;be&#160;read back&#160;<br/>by&#160;the&#160;user&#160;for validation.&#160;<br/>
SupportFPU&#160;<br/>
OsOSSupportFPU&#160;<br/>
TRUE&#160;<br/>
Switches&#160;on&#160;the&#160;support for FPU.&#160;<br/>
<b>FALSE&#160;</b><br/>
(if&#160;provided by&#160;derivative)&#160;<br/>
TimingProtectionTim<br/>
OsOSTimingProtectionTime&#160;0 …&#160;999999&#160;<br/>
Only&#160;SC4:&#160;peripheral&#160;clock&#160;of&#160;timer&#160;<br/>
erClock&#160;<br/>
rClock&#160;<br/>
<b>No&#160;default&#160;</b><br/>
unit&#160;TAUJ0&#160;specified in&#160;[kHz]&#160;<br/>
Table&#160;1:&#160;RH850&#160;specific&#160;attributes&#160;of&#160;OS&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>11</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=12></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
For&#160;scalability&#160;class&#160;SC3&#160;and&#160;SC4&#160;the&#160;following&#160;additional attributes&#160;are provided:&#160;<br/>
Attribute&#160;Name&#160;<br/>
Values&#160;<br/>
Description&#160;<br/>
Default&#160;&#160;value&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
is&#160;&#160;written&#160;&#160;in&#160;<br/>bold&#160;<br/>
CheckIntAPIStatus&#160;<br/>
OsOSCheckIntAPIStatus&#160;<br/>
<b>TRUE&#160;</b><br/>
If&#160;set&#160;to&#160;FALSE&#160;then&#160;the&#160;OS&#160;API&#160;<br/>
FALSE&#160;<br/>
functions&#160;CallTrustedFunction&#160;and&#160;<br/>CallNonTrustedFunction&#160;do&#160;not&#160;<br/>check&#160;the interrupt status.&#160;<br/>
PeripheralRegion&#160;<br/>
OsOSPeripheralRegion&#160;<br/>
<b>No&#160;default&#160;</b><br/>
List of&#160;peripheral&#160;regions.&#160;<br/>A&#160;peripheral&#160;region defines&#160;an&#160;address&#160;<br/>range&#160;where&#160;access&#160;is&#160;allowed&#160;for&#160;<br/>selected&#160;applications&#160;(trusted&#160;or non-<br/>trusted).&#160;<br/>The&#160;access&#160;is&#160;granted&#160;by&#160;means&#160;of&#160;the&#160;<br/>API functions.&#160;<br/>
MemoryProtection&#160;<br/>
OsOSMemoryProtection&#160;<br/>
TRUE&#160;<br/>
Enables&#160;memory&#160;protection&#160;via MPU.&#160;<br/>
<b>FALSE&#160;</b><br/>
Mandatory&#160;for&#160;SC3&#160;and&#160;SC4.&#160;<br/>
MpuRegion&#160;<br/>
OsOSMpuRegion&#160;<br/>
<b>Enable&#160;</b><br/>
Configures&#160;static&#160;MPU regions&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>12</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=13></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>3.3.1&#160;&#160;MpuRegion Sub-Attributes&#160;(SC3&#160;and&#160;SC4)&#160;<br/></b>If&#160;a&#160;static&#160;MPU&#160;region&#160;is&#160;enabled&#160;then&#160;the&#160;memory&#160;area&#160;is&#160;specified&#160;by&#160;the&#160;following&#160;sub-<br/>attributes:&#160;<br/>
Sub-Attribute&#160;Name&#160;<br/>
Values&#160;<br/>
Description&#160;<br/>
(default&#160;value&#160;is&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
written&#160;in&#160;bold)&#160;<br/>
StartAddr&#160;<br/>
OsOSStartAddr&#160;<br/>
string&#160;<br/>
Start address&#160;of&#160;static&#160;MPU&#160;region&#160;<br/>
<b>No&#160;default&#160;</b><br/>
hexadecimal&#160;value:&#160;<br/>StartAddr&#160;=&#160;0x…&#160;<br/>or&#160;<br/>memory&#160;area&#160;specific&#160;linker&#160;symbol:&#160;<br/>StartAddr&#160;=&#160;&lt;linker_start_symbol&gt;&#160;<br/>
EndAddr&#160;<br/>
OsOSEndAddr&#160;<br/>
string&#160;<br/>
End&#160;address&#160;of&#160;static&#160;MPU&#160;region&#160;<br/>
<b>No&#160;default</b>&#160;<br/>
hexadecimal&#160;value:&#160;<br/>EndAddr =&#160;0x…&#160;<br/>or&#160;<br/>memory&#160;area&#160;specific&#160;linker&#160;symbol:&#160;<br/>EndAddr =&#160;&lt;linker_end_symbol&gt;&#160;<br/>
AccessRights&#160;<br/>
OsOSAccessRights&#160;&#160;uint32&#160;<br/>
MPU region&#160;access&#160;configuration&#160;<br/>
<b>No&#160;default</b>&#160;<br/>
ASID&#160;<br/>
OsOSASID&#160;<br/>
TRUE&#160;<br/>
Specifies,&#160;whether&#160;ASID matching is&#160;enabled&#160;<br/>
<b>FALSE</b>&#160;<br/>
for this&#160;MPU&#160;region.&#160;<br/>
Identifier&#160;<br/>
OsOSIdentifier&#160;<br/>
0 ...&#160;0x3FE&#160;<br/>
ASID value&#160;to be&#160;used&#160;as&#160;area&#160;match&#160;<br/>
<b>0x3FF&#160;</b><br/>
condition.&#160;The&#160;maximum&#160;value&#160;0x3FF&#160;is&#160;used&#160;<br/>as&#160;default&#160;value.&#160;<br/>
CORE&#160;<br/>
OsOSCORE&#160;<br/>
uint32&#160;<br/>
Only&#160;Multicore OS:&#160;Core&#160;assignment for&#160;<br/>
<b>No&#160;default&#160;</b><br/>
corresponding&#160;MPU region&#160;<br/>
&#160;<br/>
Value&#160;of&#160;StartAddr must&#160;always point&#160;to&#160;the&#160;first&#160;valid&#160;Byte&#160;in&#160;the&#160;specified&#160;memory&#160;area.&#160;<br/>Value&#160;of&#160;EndAddr must&#160;always point&#160;to&#160;the&#160;last&#160;valid&#160;Byte&#160;in&#160;the&#160;specified&#160;memory&#160;area.&#160;<br/>The&#160;number of&#160;configurable&#160;static MPU regions&#160;depends on&#160;the&#160;derivative.&#160;<br/>MpuRegion&#160;= Enable&#160;<br/>{&#160;<br/>&#160;<br/>
StartAddr&#160;&#160;=&#160;0x...&#160;;&#160;<br/>
&#160;<br/>
EndAddr&#160;&#160;=&#160;0x… ;&#160;<br/>
&#160;<br/>
AccessRights = 0x…;&#160;<br/>
&#160;<br/>
ASID =&#160;TRUE;&#160;<br/>
&#160;<br/>
Identifier =&#160;0x01;&#160;<br/>
&#160;<br/>
CORE = 0;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*&#160;Multicore&#160;OS&#160;*/&#160;<br/>
};&#160;<br/>&#160;<br/><b>&#160;<br/></b>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>13</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Os/doc/TechnicalReference_MICROSAROS_RH850-14_1.jpg"/><br/>
Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>3.3.2&#160;&#160;PeripheralRegion Sub-Attributes&#160;(SC3&#160;and SC4)&#160;</b><br/>
Sub-Attribute&#160;Name&#160;<br/>
Values&#160;<br/>
Description&#160;<br/>
(default&#160;value&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
is&#160;written&#160;in&#160;<br/>bold)&#160;<br/>
StartAddress&#160;<br/>
OsOSStartAddress&#160;<br/>
uint32&#160;<br/>
Numeric&#160;value.&#160;<br/>
<b>No&#160;default</b>&#160;<br/>
Specifies&#160;the start&#160;address&#160;of&#160;the peripheral&#160;region&#160;<br/>which shall&#160;be&#160;configured.&#160;<br/>Any&#160;32&#160;bit value&#160;can be&#160;used.&#160;<br/>
EndAddress&#160;<br/>
OsOSEndAddress&#160;<br/>
uint32&#160;<br/>
Numeric&#160;value.&#160;<br/>
<b>No&#160;default</b>&#160;<br/>
Specifies&#160;the&#160;end&#160;address&#160;of&#160;the peripheral&#160;region&#160;<br/>which shall&#160;be&#160;configured.&#160;<br/>Any&#160;32&#160;bit value&#160;can be&#160;used.&#160;<br/>
Identifier&#160;<br/>
OsOSIdentifier&#160;<br/>
string&#160;<br/>
C-String&#160;<br/>
<b>No&#160;default</b>&#160;<br/>
Must be&#160;a&#160;unique&#160;C Identifier which can&#160;be used in&#160;<br/>an&#160;application&#160;or BSW&#160;module&#160;to&#160;access&#160;the&#160;<br/>peripheral&#160;region.&#160;<br/>
ACCESSING_<br/>
OsOSAccessing&#160;<br/>
Application&#160;<br/>
Application reference.&#160;<br/>
APPLICATION&#160;&#160;Application&#160;<br/>
Type&#160;<br/>
Defines&#160;access&#160;rights&#160;of&#160;an&#160;application&#160;for this&#160;<br/>PeripheralRegion.&#160;<br/>This&#160;attribute can&#160;be&#160;defined multiple times, so that&#160;<br/>different applications&#160;might&#160;have access&#160;right to&#160;the&#160;<br/>same PeripheralRegion.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;application is allowed to&#160;access&#160;memory&#160;addresses&#160;in the&#160;interval&#160;of&#160;StartAddress&#160;<br/>
<b>&#160;&#160;</b>&lt;=&#160;memory&#160;to&#160;be&#160;accessed&#160;&lt;=&#160;EndAddress&#160;<br/>
The&#160;“EndAddress”&#160;value&#160;is&#160;included!&#160;All&#160;bytes of&#160;a&#160;peripheral&#160;access&#160;must&#160;fit&#160;into&#160;the&#160;<br/>peripheral&#160;region.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>14</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=15></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>3.4&#160;</b><br/>
<b>Counter&#160;Attributes&#160;</b><br/>
Platform&#160;specific attributes&#160;are located&#160;within&#160;the&#160;container “DRIVER”.&#160;<br/>
Sub-Attribute&#160;Name&#160;<br/>
Values&#160;<br/>
Description&#160;<br/>
(default&#160;value&#160;is&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
written&#160;in&#160;bold)&#160;<br/>
Timer&#160;<br/>
OsCounterTimer&#160;&#160;OSTM&#160;<br/>
Selects&#160;the timer hardware&#160;which&#160;drives&#160;the&#160;<br/>
OSTM_HIRES&#160;&#160;hardware&#160;counter.&#160;<br/><b>No&#160;default&#160;</b><br/>
OSTM:&#160;OSTM timer is&#160;used&#160;and&#160;generates&#160;cyclic&#160;<br/>interrupts.&#160;<br/>OSTM_HIRES: OSTM timer&#160;is&#160;used&#160;and&#160;runs&#160;in&#160;<br/>high resolution&#160;timer&#160;mode.&#160;<br/>Which interrupt&#160;channel&#160;is&#160;used&#160;for a specific&#160;<br/>derivative can&#160;be&#160;found in chapt<a href="TechnicalReference_MICROSAROS_RH850s.html#28">er&#160;8.1.</a>&#160;<br/>
&#160;<br/><b>3.4.1&#160;&#160;OSTM&#160;Sub-Attributes&#160;</b><br/>
Sub-Attribute&#160;Name&#160;<br/>
Values&#160;<br/>
Description&#160;<br/>
(default&#160;value&#160;is&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
written&#160;in&#160;bold)&#160;<br/>
EnableNesting&#160;<br/>
OsCounterEnabl<br/>
TRUE&#160;<br/>
Specifies&#160;whether&#160;the timer&#160;interrupt&#160;which&#160;drives&#160;<br/>
eNesting&#160;<br/>
FALSE&#160;<br/>
the&#160;hardware&#160;counter can&#160;be interrupted&#160;by&#160;<br/>
<b>No&#160;default</b>&#160;<br/>
higher&#160;priority&#160;interrupts.&#160;<br/>
InterruptPriority&#160;<br/>
OsCounterInterr<br/>
0 ...&#160;<b>15</b>&#160;<br/>
The&#160;priority&#160;of&#160;the&#160;timer ISR&#160;which&#160;drives&#160;the&#160;<br/>
uptPriority&#160;<br/>
0&#160;...&#160;<b>7&#160;</b>(F1L)&#160;<br/>
hardware&#160;counter.&#160;<br/>
StackSize&#160;<br/>
OsCounterStack<br/>
0&#160;… 0xFFFC&#160;<br/>
Stack&#160;size of&#160;the&#160;timer ISR&#160;which&#160;drives&#160;the&#160;<br/>
Size&#160;<br/>
hardware&#160;counter.&#160;<br/>
&#160;<br/><b>3.4.2&#160;&#160;OSTM_HIRES&#160;Sub-Attributes&#160;</b><br/>
Sub-Attribute&#160;Name&#160;<br/>
Values&#160;<br/>
Description&#160;<br/>
(default&#160;value&#160;is&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
written&#160;in&#160;bold)&#160;<br/>
EnableNesting&#160;<br/>
OsCounterEnabl<br/>
TRUE&#160;<br/>
Specifies&#160;whether&#160;the timer&#160;interrupt&#160;which&#160;drives&#160;<br/>
eNesting&#160;<br/>
FALSE&#160;<br/>
the&#160;hardware&#160;counter can&#160;be interrupted&#160;by&#160;<br/>
<b>No&#160;default</b>&#160;<br/>
higher&#160;priority&#160;interrupts.&#160;<br/>
InterruptPriority&#160;<br/>
OsCounterInterr<br/>
0 ...&#160;<b>15</b>&#160;<br/>
The&#160;priority&#160;of&#160;the&#160;timer ISR&#160;which&#160;drives&#160;the&#160;<br/>
uptPriority&#160;<br/>
0&#160;...&#160;<b>7&#160;</b>(F1L)&#160;<br/>
hardware&#160;counter.&#160;<br/>
StackSize&#160;<br/>
OsCounterStack<br/>
0&#160;… 0xFFFC&#160;<br/>
Stack&#160;size of&#160;the&#160;timer ISR&#160;which&#160;drives&#160;the&#160;<br/>
Size&#160;<br/>
hardware&#160;counter.&#160;<br/>
MinTimeBetween<br/>
OsCounterMinTi<br/>
uint32&#160;<br/>
Defines&#160;the number&#160;of&#160;timer ticks&#160;which at&#160;least&#160;<br/>
TimerIrqs&#160;<br/>
meBetweenTim<br/>
<b>0&#160;</b><br/>
must be between two&#160;timer interrupts&#160;(shortest&#160;<br/>
erIrqs&#160;<br/>
possible time between two&#160;timer interrupts).&#160;<br/>
&#160;<br/>Detailed&#160;description&#160;how&#160;to&#160;configure&#160;software and&#160;hardware counter can&#160;be&#160;found&#160;in&#160;[3].&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>15</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=16></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>3.5&#160;</b><br/>
<b>ISR&#160;Attributes&#160;</b><br/>
Attribute&#160;Name&#160;<br/>
Values&#160;<br/>
Description&#160;<br/>
Default&#160;value&#160;is&#160;written&#160;in&#160;bold&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
ExceptionType&#160;<br/>
OsOSExceptionType&#160;&#160;GENERAL_EXCEPTION&#160;<br/>
Select EIINT&#160;for EI&#160;level&#160;interrupts.&#160;<br/>
<b>EIINT&#160;</b><br/>
Select GENERAL_EXCEPTION&#160;for&#160;<br/>core&#160;exceptions.&#160;<br/>
EnableNesting&#160;<br/>
OsOSEnableNesting&#160;<br/>
TRUE&#160;<br/>
Must be&#160;set&#160;FALSE&#160;if&#160;the &#160;<br/>
FALSE&#160;<br/>
configured&#160;CAT2&#160;ISR shall&#160;not be&#160;<br/>interrupted&#160;by&#160;CAT1 or&#160;CAT2&#160;ISRs&#160;<br/>with&#160;higher&#160;priority&#160;level.&#160;This&#160;<br/>attribute&#160;is&#160;ignored for CAT1&#160;ISRs.&#160;<br/>
UseSpecialFunc<br/>
OsOSUseSpecialFun<br/>
TRUE&#160;<br/>
This&#160;is&#160;a&#160;feature for mapping&#160;<br/>
tionName&#160;<br/>
ctionName&#160;<br/>
<b>FALSE&#160;</b><br/>
different interrupt /&#160;exception&#160;<br/>sources&#160;to&#160;one interrupt handler.&#160;<br/>This&#160;feature is&#160;supported&#160;as&#160;<br/>described&#160;in&#160;[3].&#160;<br/>
Table&#160;2:&#160;RH850&#160;specific&#160;ISR&#160;attributes&#160;<br/>
&#160;<br/><b>3.5.1&#160;&#160;ExceptionType&#160;Sub-Attributes&#160;<br/>&#160;<br/>ExceptionType&#160;=&#160;GENERAL_EXCEPTION&#160;</b><br/>
Attribute&#160;Name&#160;<br/>
Values&#160;<br/>
Description&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
ExceptionAddress&#160;<br/>
OsOSExceptionAddress&#160;<br/>
<b>No&#160;default&#160;</b><br/>
Interrupt&#160;vector address&#160;offset.&#160;<br/>
Table&#160;3:&#160;Sub-attributes&#160;of&#160;ExceptionType=GENERAL_EXCEPTION&#160;<br/>
<b>&#160;<br/>ExceptionType&#160;=&#160;EIINT&#160;</b><br/>
Attribute&#160;Name&#160;<br/>
Values&#160;<br/>
Description&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
IntChannel&#160;<br/>
OsOSIntChannel&#160;<br/>
0&#160;…&#160;511&#160;&#160;<br/>
Channel&#160;index&#160;of&#160;EI&#160;level&#160;<br/>
<b>No&#160;default&#160;</b><br/>
interrupt.&#160;<br/>Max&#160;channel&#160;number&#160;depends&#160;<br/>on&#160;used CPU derivative.&#160;<br/>
InterruptPriority&#160;<br/>
OsOSInterruptPriority&#160;<br/>
SC1&#160;and&#160;SC3:&#160;0…15&#160;&#160;<br/>
Defines&#160;the interrupt&#160;priority&#160;&#160;<br/>
SC4:&#160;1…15&#160;<br/>
level&#160;of&#160;the ISR.&#160;Lower&#160;value&#160;<br/>
<b>No&#160;default&#160;</b><br/>
means&#160;higher priority.&#160;<br/>
InterruptStackSize&#160;<br/>
OsOSInterruptStackSize&#160;<br/>
0 …&#160;0xFFFC&#160;<br/>
Size&#160;of&#160;the ISR stack&#160;<br/>
<b>No&#160;default&#160;</b><br/>
Table&#160;4:&#160;Sub-attributes&#160;of&#160;ExceptionType=EIINT&#160;<br/>
&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>16</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=17></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>3.6&#160;</b><br/>
<b>Application&#160;Attributes&#160;</b><br/>
The&#160;following&#160;specific&#160;attributes are&#160;provided&#160;for SC3&#160;and&#160;SC4:&#160;<br/>
Attribute&#160;Name&#160;<br/>
Values&#160;<br/>
Description&#160;<br/>
Default&#160;&#160;value&#160;&#160;is&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
written&#160;in&#160;bold&#160;<br/>
ASID&#160;<br/>
OsApplicationASID&#160;<br/>
0&#160;…&#160;0x3FE&#160;<br/>
Value&#160;to be&#160;written&#160;to&#160;ASID&#160;register&#160;<br/>
<b>0x3FF&#160;</b><br/>
on&#160;application&#160;switch.&#160;The&#160;<br/>maximum&#160;value 0x3FF&#160;is&#160;used&#160;as&#160;<br/>default&#160;value.&#160;<br/>
MpuRegion&#160;<br/>
OsApplicationMpuRegion&#160;<br/>
Enable&#160;<br/>
Configures&#160;application specific&#160;<br/>dynamic&#160;MPU region&#160;<br/>
Table&#160;5:&#160;RH850:&#160;Application&#160;specific&#160;attributes&#160;<br/>
<b>3.6.1&#160;&#160;Attribute&#160;MpuRegion&#160;<br/></b>Attribute&#160;&#160;MpuRegion&#160;&#160;must&#160;&#160;be&#160;&#160;configured&#160;&#160;for&#160;&#160;non-trusted&#160;&#160;applications&#160;&#160;which&#160;&#160;need&#160;&#160;write&#160;<br/>access&#160;to&#160;application&#160;specific&#160;memory&#160;areas.&#160;If&#160;dynamic&#160;MPU&#160;region&#160;is&#160;enabled&#160;then&#160;the&#160;<br/>memory&#160;area&#160;is specified&#160;by&#160;following&#160;sub-attributes:&#160;<br/>
<b>Sub-Attribute&#160;Name&#160;</b><br/>
<b>Values&#160;</b><br/>
<b>Description&#160;</b><br/>
(default&#160;value&#160;<br/>
OIL&#160;<br/>
XML&#160;<br/>
is&#160;written&#160;in&#160;<br/>bold)&#160;<br/>
StartAddr&#160;<br/>
OsApplication<br/>
string&#160;<br/>
Start address&#160;of&#160;application&#160;specific&#160;MPU&#160;region&#160;<br/>
StartAddr&#160;<br/>
<b>No&#160;default</b>&#160;<br/>
hexadecimal&#160;value:&#160;<br/>StartAddr&#160;=&#160;0x…&#160;<br/>or&#160;application specific&#160;linker symbol:&#160;<br/>StartAddr&#160;=&#160;&lt;appl_linker_start_symbol&gt;&#160;<br/>
EndAddr&#160;<br/>
OsApplication<br/>
string&#160;<br/>
End&#160;address&#160;of&#160;application&#160;specific&#160;MPU region&#160;<br/>
EndAddr&#160;<br/>
<b>No&#160;default</b>&#160;<br/>
hexadecimal&#160;value:&#160;<br/>EndAddr =&#160;0x…&#160;<br/>or&#160;application specific&#160;linker symbol:&#160;<br/>EndAddr =&#160;&lt;appl_linker_end_symbol&gt;&#160;<br/>
Value&#160;of&#160;StartAddr&#160;must&#160;always&#160;point&#160;to&#160;the&#160;first&#160;valid&#160;Byte&#160;in&#160;the&#160;specified&#160;memory&#160;area.&#160;<br/>Value&#160;of&#160;EndAddr&#160;must&#160;always&#160;point&#160;to&#160;the&#160;last&#160;valid&#160;Byte&#160;in&#160;the&#160;specified&#160;memory&#160;area.&#160;<br/>MpuRegion&#160;= Enable&#160;<br/>{&#160;<br/>&#160;<br/>
StartAddr&#160;&#160;=&#160;0x... ;&#160;<br/>
&#160;<br/>
EndAddr&#160;&#160;=&#160;0x... ;&#160;<br/>
};&#160;<br/>&#160;<br/>The&#160;total&#160;number&#160;of&#160;used&#160;dynamic&#160;MPU&#160;regions&#160;depends&#160;on&#160;the&#160;application&#160;which&#160;has&#160;the&#160;<br/>most&#160;number of&#160;dynamic regions.&#160;&#160;<br/>Example:&#160;&#160;if&#160;&#160;an&#160;&#160;application&#160;&#160;has&#160;&#160;3&#160;&#160;dynamic&#160;&#160;regions&#160;&#160;and&#160;&#160;other&#160;&#160;application&#160;&#160;has&#160;&#160;5&#160;&#160;dynamic&#160;<br/>regions then&#160;the&#160;total number of&#160;used&#160;dynamic MPU regions is 5.&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>17</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=18></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>3.7&#160;</b><br/>
<b>Event&#160;Attributes&#160;</b><br/>
Events&#160;in&#160;the&#160;MICROSAR OS&#160;operating&#160;system&#160;are&#160;always implemented&#160;as&#160;bits in&#160;bit&#160;<br/>fields.&#160;The&#160;user could&#160;use&#160;bit&#160;masks like&#160;‘0x00000001’&#160;but&#160;to&#160;achieve&#160;portability&#160;between&#160;<br/>different&#160;MICROSAR&#160;OS&#160;implementation&#160;he&#160;should&#160;use&#160;event&#160;names which&#160;are mapped&#160;<br/>by&#160;the&#160;code&#160;generator&#160;to&#160;the&#160;defined&#160;bits.&#160;The&#160;MICROSAR&#160;OS&#160;RH850&#160;implementation&#160;<br/>allows up&#160;to&#160;32&#160;events&#160;per task.&#160;The&#160;required&#160;size&#160;of&#160;the&#160;event&#160;masks is calculated&#160;<br/>automatically&#160;by&#160;the&#160;code&#160;generator.&#160;Possible&#160;event&#160;mask sizes are 8,&#160;16&#160;and&#160;32&#160;Bits.&#160;<br/>
<b>3.8&#160;</b><br/>
<b>Linker Include&#160;Files&#160;(SC3&#160;and SC4)&#160;</b><br/>
The&#160;&#160;generated&#160;&#160;linker&#160;&#160;include&#160;&#160;files&#160;&#160;osdata.dld,&#160;&#160;osrom.dld,&#160;&#160;ossdata.dld,&#160;&#160;osstacks.dld&#160;&#160;and&#160;<br/>ostdata.dld&#160;are&#160;example&#160;files which&#160;can&#160;be&#160;used&#160;for mapping&#160;the&#160;OS&#160;and&#160;application&#160;data.&#160;<br/>
<b>osdata.dld&#160;<br/></b>Include&#160;file&#160;osdata.dld&#160;contains&#160;mapping&#160;for&#160;application&#160;and&#160;OS&#160;data.&#160;It&#160;should&#160;be&#160;included&#160;<br/>immediately&#160;after the&#160;default&#160;.data&#160;section.&#160;<br/>
<b>osrom.dld&#160;<br/></b>Include&#160;osrom.dld&#160;contains&#160;the&#160;mapping&#160;of&#160;initialized&#160;data&#160;which&#160;is&#160;copied&#160;by&#160;the&#160;&#160;start-up&#160;<br/>code&#160;from&#160;ROM to&#160;RAM&#160;area.&#160;It&#160;should&#160;be&#160;included&#160;at&#160;end&#160;of&#160;ROM&#160;section.&#160;<br/>
<b>ossdata.dld&#160;<br/></b>Include&#160;file&#160;ossdata.dld&#160;contains&#160;the&#160;mapping&#160;of&#160;application&#160;and&#160;OS&#160;data&#160;in&#160;SDA&#160;section.&#160;<br/>Due&#160;to&#160;limited&#160;number&#160;of&#160;MPU&#160;protection&#160;areas&#160;the&#160;SDA&#160;section&#160;of&#160;non-trusted&#160;application&#160;<br/>contain&#160;SDA&#160;and&#160;non-SDA&#160;data.&#160;This&#160;affects&#160;also&#160;the&#160;global&#160;shared&#160;data&#160;sections.&#160;This&#160;file&#160;<br/>must&#160;be&#160;included&#160;after&#160;the&#160;.sdata&#160;section.&#160;<br/>
<b>osstacks.dld&#160;<br/></b>Include&#160;file&#160;osstacks.dld&#160;contains&#160;the&#160;mapping&#160;of&#160;system&#160;stack,&#160;all&#160;task&#160;and&#160;all&#160;ISR&#160;stacks.&#160;<br/>This&#160;file&#160;should&#160;be&#160;included&#160;before&#160;application&#160;specific&#160;data&#160;sections.&#160;<br/>
<b>ostdata.dld&#160;<br/></b>Include&#160;&#160;file&#160;&#160;ostdata.dld&#160;&#160;contains&#160;&#160;mapping&#160;&#160;for&#160;&#160;application&#160;&#160;data&#160;&#160;in&#160;&#160;TDA&#160;&#160;section.&#160;&#160;This&#160;&#160;file&#160;<br/>should&#160;be&#160;included&#160;after the&#160;.zdata&#160;section.&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>18</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=19></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>4&#160;&#160;System&#160;Generation&#160;<br/></b>The&#160;system&#160;generation&#160;process&#160;is&#160;described&#160;in&#160;the&#160;document&#160;&#160;[3]&#160;which&#160;&#160;is&#160;common&#160;to&#160;all&#160;<br/>implementation.&#160;The&#160;following&#160;section&#160;describes the&#160;RH850&#160;specific&#160;parts of&#160;the&#160;generating&#160;<br/>process.&#160;&#160;<br/>&#160;<br/>
Code<br/>
AUTOSAR&#160;XML<br/>
XML<br/>
generator<br/>
Configuration&#160;Tool<br/>
OIL<br/>
alternative<br/>
Configuration<br/>
OIL<br/>
Files&#160;*.c,&#160;*.h<br/>
Configurator<br/>
Compile&#160;&#160;&#160;and<br/>link<br/>
Application<br/>
OS&#160;source&#160;Files&#160;*.c,&#160;*.h<br/>
+<br/>
Files&#160;*.c,&#160;*.h<br/>
executable<br/>
&#160;<br/>
Figure&#160;4-1&#160;&#160;System&#160;Generation&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>19</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=20></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>4.1&#160;</b><br/>
<b>Code&#160;Generator&#160;</b><br/>
The&#160;following&#160;files&#160;are&#160;generated&#160;by&#160;the&#160;code&#160;generator&#160;genRH850.exe&#160;<br/>
&#160;&#160;config.xml&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;configuration&#160;information&#160;in&#160;XML-format&#160;<br/>&#160;&#160;intvect_c0.c&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;interrupt&#160;vector&#160;tables&#160;<br/>&#160;&#160;tcb.c&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;applications and&#160;OS&#160;configuration&#160;<br/>&#160;&#160;tcb.h&#160;<br/>&#160;&#160;tcbpost.h&#160;<br/>&#160;&#160;trustfct.h&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/>&#160;&#160;trustfct.c&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;trusted&#160;function&#160;stubs&#160;<br/>&#160;&#160;osConfigBlock.c&#160;&#160;&#160;&#160;contains&#160;the&#160;configuration&#160;block&#160;<br/>&#160;&#160;osStacks.h&#160;<br/>&#160;&#160;osStacks.c&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;stack&#160;definitions&#160;<br/>&#160;&#160;Os_MemMap.h&#160;&#160;&#160;&#160;contains&#160;definitions&#160;for&#160;MemMap&#160;usage&#160;<br/>&#160;&#160;OILFileName.ort&#160;<br/>&#160;&#160;OILFileName.htm&#160;<br/>&#160;<br/>
For SC3&#160;and&#160;SC4&#160;the&#160;following&#160;additional&#160;files&#160;are&#160;generated:&#160;<br/>
&#160;&#160;osdata.dld&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;example&#160;linker include&#160;file&#160;for application&#160;data&#160;<br/>&#160;&#160;osrom.dld&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;example&#160;linker include&#160;file&#160;for application&#160;data&#160;initialization&#160;<br/>&#160;&#160;ossdata.dld&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;example&#160;linker include&#160;file&#160;for application&#160;data&#160;in&#160;SDA&#160;<br/>&#160;&#160;osstacks.dld&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;example&#160;linker include&#160;file&#160;for stacks&#160;<br/>&#160;&#160;ostdata.dld&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;example&#160;linker include&#160;file&#160;for application&#160;data&#160;in&#160;TDA&#160;<br/>&#160;&#160;nontrustfct.h&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/>
&#160;<br/>For multicore&#160;systems&#160;the&#160;following&#160;additional&#160;files&#160;are&#160;generated:&#160;<br/>
&#160;ioc.h&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Header&#160;for&#160;IOC&#160;related&#160;functions&#160;<br/>&#160;ioc.c&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;IOC related&#160;functions&#160;<br/>&#160;ccb.h&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Header&#160;for multicore related&#160;attributes&#160;<br/>&#160;ccb.c&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Multicore&#160;related&#160;attributes&#160;<br/>&#160;intvect_c1.c&#160;&#160;&#160;&#160;Interrupt&#160;vector tables&#160;for second&#160;core&#160;<br/>
&#160;<br/>The&#160;files tcb.c,&#160;tcb.h,&#160;trustfct.c,&#160;trustfct.h&#160;and&#160;nontrustfct.h&#160;are described&#160;in&#160;document&#160;[3].&#160;<br/>The&#160;&#160;module&#160;&#160;intvect_c&lt;X&gt;.c&#160;&#160;contains&#160;&#160;the&#160;&#160;interrupt&#160;&#160;vector&#160;&#160;tables&#160;&#160;for&#160;&#160;the&#160;&#160;Green&#160;&#160;Hills&#160;<br/>compiler,&#160;where X&#160;is the&#160;corresponding&#160;logical core ID.&#160;<br/>The&#160;module&#160;<i>OILFileNam</i>e.ort is only&#160;generated&#160;if&#160;the&#160;configuration&#160;attribute&#160;<br/>O<i>RTIDebugSupport&#160;</i>is&#160;selected.&#160;<br/><i>OILFileNam</i>e.htm is containing&#160;information&#160;about&#160;the&#160;configuration&#160;settings.&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>20</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=21></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>5&#160;&#160;Stack&#160;Handling&#160;</b><br/>
<b>5.1&#160;</b><br/>
<b>Task&#160;Stacks&#160;</b><br/>
Each&#160;task&#160;runs&#160;on&#160;an&#160;own&#160;separate&#160;task&#160;stack.&#160;Tasks&#160;might&#160;share&#160;a&#160;stack&#160;as&#160;described&#160;in&#160;<br/>[3].&#160;The&#160;PreTaskHook&#160;function&#160;always&#160;uses&#160;the&#160;system&#160;stack.&#160;The&#160;PostTaskHook&#160;function&#160;<br/>uses&#160;the&#160;system&#160;stack&#160;or&#160;in&#160;case&#160;of&#160;a&#160;task&#160;termination,&#160;it&#160;uses&#160;the&#160;task&#160;stack&#160;of&#160;the&#160;task&#160;<br/>that&#160;is&#160;terminated.&#160;Note&#160;that&#160;all&#160;task&#160;stacks&#160;must&#160;provide&#160;sufficient&#160;size&#160;for&#160;the&#160;maximum&#160;<br/>nesting&#160;&#160;level&#160;&#160;of&#160;&#160;ISR&#160;&#160;category&#160;&#160;1.&#160;&#160;Therefore&#160;&#160;it&#160;&#160;is&#160;&#160;recommended&#160;&#160;to&#160;&#160;use&#160;&#160;ISR&#160;&#160;category&#160;&#160;2&#160;&#160;if&#160;<br/>possible.&#160;<br/>The&#160;size&#160;of&#160;&#160;each&#160;task&#160;stack&#160;is&#160;determined&#160;by&#160;the&#160;configuration&#160;attribute&#160;StackSize&#160;of&#160;&#160;the&#160;<br/>configuration&#160;object&#160;TASK.&#160;<br/>
<b>5.2&#160;</b><br/>
<b>ISR&#160;Stacks&#160;</b><br/>
An&#160;interrupt&#160;stack&#160;is&#160;defined&#160;for&#160;each&#160;interrupt&#160;priority&#160;level&#160;which&#160;is&#160;assigned&#160;to&#160;a&#160;CAT2&#160;<br/>ISR.&#160;Each&#160;CAT2&#160;ISR runs on&#160;the&#160;interrupt&#160;stack&#160;which&#160;is assigned&#160;to&#160;its priority&#160;level.&#160;<br/>
<b>5.3&#160;</b><br/>
<b>System&#160;Stack&#160;</b><br/>
The&#160;system&#160;stack&#160;is used&#160;by&#160;the&#160;dispatcher and&#160;by&#160;the&#160;hook wrappers.&#160;<br/>
<b>5.4&#160;</b><br/>
<b>Startup&#160;Stack&#160;</b><br/>
In&#160;function&#160;osStartOSasm&#160;the&#160;stack&#160;pointer is&#160;initialized&#160;to&#160;point&#160;to&#160;the&#160;system&#160;stack.&#160;<br/>The&#160;system&#160;stack&#160;can&#160;be&#160;used&#160;as&#160;start-up&#160;stack.&#160;<br/>The&#160;following&#160;linker&#160;symbol&#160;is&#160;provided&#160;for&#160;each&#160;core&#160;X&#160;to&#160;use&#160;the&#160;system&#160;stack&#160;as&#160;start-up&#160;<br/>stack:&#160;<br/>_osSystemStack_EndAddr_c&lt;X&gt;&#160;<br/>
<b>5.5&#160;</b><br/>
<b>Stack&#160;Usage&#160;Size&#160;</b><br/>
The&#160;OS&#160;offers the&#160;possibility&#160;to&#160;determine&#160;the&#160;maximum&#160;stack&#160;usage&#160;of&#160;the&#160;OS&#160;stacks.&#160;<br/>Please&#160;be&#160;aware,&#160;that&#160;the&#160;function&#160;stack&#160;usage&#160;determination&#160;for&#160;system&#160;stacks&#160;depends&#160;<br/>heavily&#160;on&#160;the&#160;positions in&#160;the&#160;code,&#160;where&#160;an&#160;ISR is interrupted&#160;by&#160;another ISR.&#160;<br/>In&#160;the&#160;single&#160;stack&#160;model,&#160;the&#160;measured&#160;value&#160;for&#160;the&#160;system&#160;stack&#160;usage&#160;also&#160;depends&#160;<br/>heavily&#160;on&#160;the&#160;position&#160;in&#160;the&#160;code,&#160;where&#160;a&#160;basic&#160;task&#160;is&#160;preempted&#160;by&#160;another&#160;task.&#160;For&#160;<br/>this&#160;&#160;reason,&#160;&#160;it&#160;&#160;is&#160;&#160;extremely&#160;&#160;difficult,&#160;&#160;to&#160;&#160;find&#160;&#160;a&#160;&#160;conclusion&#160;&#160;for&#160;&#160;the&#160;&#160;worst&#160;&#160;case&#160;&#160;system&#160;&#160;stack&#160;<br/>usage&#160;from&#160;the&#160;measured&#160;stack usage.&#160;<br/>NOTE:&#160;The&#160;API&#160;functions&#160;for&#160;determination&#160;of&#160;the&#160;stack&#160;usage&#160;are&#160;only&#160;available&#160;with&#160;the&#160;<br/>following&#160;configuration&#160;settings:&#160;<br/>
STACKMONITORING&#160;=&#160;TRUE&#160;<br/>StackUsageMeasurement&#160;=&#160;TRUE&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>21</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=22></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>5.5.1&#160;&#160;Task&#160;Stack&#160;Usage&#160;<br/></b>API&#160;function&#160;<i>osGetStackUsage</i>&#160;is described&#160;in&#160;[3].&#160;<br/>&#160;<br/><b>5.5.2&#160;&#160;System&#160;Stack&#160;Usage&#160;<br/></b>The&#160;usage&#160;of&#160;the&#160;system&#160;stack&#160;since&#160;the&#160;start&#160;of&#160;the&#160;OS&#160;can&#160;be&#160;determined&#160;by&#160;using&#160;the&#160;<br/>function&#160;<i>osGetSystemStackUsage</i>.&#160;<br/>Prototype:&#160;<br/>
<b>typedef osuint16 osStackUsageType;&#160;<br/>&#160;<br/>osStackUsageType osGetSystemStackUsage(void);&#160;</b><br/>
&#160;<br/>Argument:&#160;<br/>
&#160;&#160;none&#160;<br/>
Return value:&#160;&#160;&#160;Maximum&#160;stack usage&#160;(bytes)&#160;of&#160;the&#160;system&#160;stack since&#160;StartOS().&#160;<br/>&#160;<br/><b>5.5.3&#160;&#160;ISR&#160;Stack&#160;Usage&#160;<br/></b>The&#160;&#160;usage&#160;&#160;of&#160;&#160;the&#160;&#160;ISR&#160;&#160;stacks&#160;&#160;since&#160;&#160;the&#160;&#160;start&#160;&#160;of&#160;&#160;the&#160;&#160;OS&#160;&#160;can&#160;&#160;be&#160;&#160;determined&#160;&#160;by&#160;&#160;using&#160;&#160;the&#160;<br/>function&#160;<i>osGetISRStackUsage</i>.&#160;<br/>Prototype:&#160;<br/>
<b>typedef osuint16 osStackUsageType;&#160;<br/>&#160;<br/>osStackUsageType osGetISRStackUsage(ISRType IsrIndex);&#160;</b><br/>
&#160;<br/>Argument:&#160;<br/>
&#160;&#160;&#160;&#160;Index&#160;of&#160;the&#160;ISR&#160;&#160;<br/>
Return value:&#160;&#160;&#160;&#160;&#160;Maximum&#160;stack usage&#160;(bytes)&#160;of&#160;the&#160;ISR&#160;stack since&#160;StartOS().&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>22</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Os/doc/TechnicalReference_MICROSAROS_RH850-23_1.png"/><br/>
Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>6&#160;&#160;Interrupt&#160;Handling&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>This&#160;implementation&#160;supports&#160;interrupt&#160;handling&#160;according&#160;to&#160;the&#160;RH850&#160;“expanded&#160;<br/>
&#160;&#160;specifications”&#160;with a&#160;separate&#160;vector&#160;table&#160;for&#160;EIINT&#160;interrupts.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>6.1&#160;</b><br/>
<b>Interrupt&#160;Vectors&#160;</b><br/>
The&#160;code&#160;generator&#160;generates&#160;the&#160;interrupt&#160;vector&#160;tables.&#160;Therefore,&#160;all&#160;interrupt-service-<br/>routines&#160;have&#160;to&#160;be&#160;defined&#160;in&#160;the&#160;configuration.&#160;The&#160;interrupt&#160;vector&#160;tables&#160;are&#160;generated&#160;<br/>into&#160;&#160;the&#160;&#160;file&#160;&#160;intvect_c&lt;X&gt;.c&#160;&#160;for&#160;&#160;the&#160;&#160;Green&#160;&#160;Hills&#160;&#160;compiler,&#160;&#160;where&#160;&#160;X&#160;&#160;is&#160;&#160;the&#160;&#160;corresponding&#160;<br/>logical&#160;core ID.&#160;<br/>The&#160;interrupt&#160;vector&#160;tables&#160;are&#160;generated&#160;into&#160;three&#160;sections:&#160;<br/>
&#160;&#160;<b>&#34;.</b>&#160;<b>osExceptionVectorTable_c&lt;X&gt;&#34;&#160;</b><br/>
contains&#160;the&#160;core&#160;exception&#160;vector table&#160;<br/>
<b>&#160;</b><br/>
&#160;&#160;<b>&#34;.</b>&#160;<b>osEIINTVectorTable_c&lt;X&gt;&#34;&#160;</b><br/>
contains&#160;the&#160;EIINT exceptions vector table&#160;<br/>
<b>&#160;</b><br/>
&#160;&#160;<b>&#34;.os_text&#34;&#160;</b><br/>
Contains&#160;the&#160;ISR&#160;prologue&#160;for CAT2&#160;ISR wrappers&#160;<br/>
&#160;<br/>The&#160;length&#160;of&#160;the&#160;mentioned&#160;vector tables&#160;depends&#160;on&#160;the&#160;concrete&#160;derivative.<b>&#160;<br/>&#160;</b><br/>
<b>6.1.1&#160;&#160;Reset&#160;Vector&#160;</b><br/>
The&#160;user&#160;can&#160;specify&#160;an&#160;own&#160;reset&#160;vector.&#160;For&#160;this&#160;the&#160;user&#160;must&#160;configure&#160;a&#160;category&#160;1&#160;<br/>ISR&#160;which&#160;has&#160;the&#160;vector&#160;address 0x0,&#160;i.e.&#160;attribute&#160;ExceptionAddress=0x0.&#160;<br/>If&#160;a&#160;category&#160;1&#160;ISR&#160;is&#160;configured&#160;for&#160;vector&#160;0x0,&#160;this&#160;vector&#160;is&#160;generated&#160;as&#160;a&#160;jump&#160;to&#160;the&#160;<br/>specified&#160;address.&#160;<br/>If&#160;this vector is not&#160;configured&#160;in&#160;the&#160;configuration,&#160;the&#160;vector 0x0&#160;is&#160;generated&#160;as a&#160;jump&#160;to&#160;<br/>the&#160;startup&#160;code,&#160;delivered&#160;with&#160;the&#160;compiler.&#160;&#160;<br/>Please&#160;note&#160;that&#160;all&#160;examples&#160;use&#160;the&#160;start-up&#160;module&#160;which&#160;is&#160;delivered&#160;with&#160;the&#160;compiler.&#160;<br/>For&#160;the&#160;Green&#160;Hills&#160;compiler&#160;this module&#160;is&#160;crt0.o&#160;<br/>
<b>6.1.2&#160;&#160;Level&#160;Initialization&#160;</b><br/>
The&#160;user&#160;has&#160;to&#160;configure&#160;an&#160;interrupt&#160;priority&#160;level&#160;for&#160;all&#160;ISRs.&#160;MICROSAR&#160;OS&#160;initializes&#160;<br/>the&#160;&#160;appropriate&#160;&#160;interrupt&#160;&#160;control&#160;&#160;register&#160;&#160;with&#160;&#160;the&#160;&#160;level,&#160;&#160;configured&#160;&#160;by&#160;&#160;the&#160;&#160;user.&#160;&#160;The&#160;<br/>application&#160;is not&#160;allowed&#160;to&#160;change&#160;the&#160;interrupt&#160;priority&#160;level&#160;after&#160;StartOS&#160;is called.&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>23</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=24></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>6.2&#160;</b><br/>
<b>Interrupt&#160;Level&#160;and Category&#160;</b><br/>
The&#160;&#160;RH850&#160;&#160;controllers&#160;&#160;support&#160;&#160;interrupt&#160;&#160;levels.&#160;&#160;ISRs&#160;&#160;with&#160;&#160;lower&#160;&#160;level&#160;&#160;have&#160;&#160;priority&#160;&#160;over&#160;<br/>those&#160;with&#160;higher&#160;level.&#160;ISRs&#160;of&#160;lower&#160;level&#160;might&#160;therefore&#160;be&#160;nested&#160;into&#160;ISRs&#160;of&#160;higher&#160;<br/>level. Interrupt&#160;levels cannot&#160;be&#160;chosen&#160;independently&#160;from&#160;the&#160;category.&#160;<br/>Because&#160;ISRs&#160;of&#160;category&#160;2&#160;can&#160;activate&#160;tasks,&#160;the&#160;exit&#160;code&#160;&#160;of&#160;a&#160;non-nested&#160;category&#160;2&#160;<br/>ISR&#160;has&#160;to&#160;check,&#160;if&#160;a&#160;task&#160;has&#160;been&#160;activated&#160;by&#160;the&#160;ISR&#160;itself&#160;or&#160;by&#160;any&#160;nested&#160;ISRs.&#160;If&#160;<br/>so,&#160;a&#160;task&#160;switch&#160;has&#160;to&#160;be&#160;set&#160;off.&#160;As&#160;category&#160;1&#160;ISRs&#160;have&#160;no&#160;such&#160;exit&#160;code,&#160;they&#160;must&#160;<br/>not&#160;&#160;be&#160;&#160;interrupted&#160;&#160;by&#160;&#160;category&#160;&#160;2&#160;&#160;ISRs.&#160;&#160;For&#160;&#160;this&#160;&#160;reason,&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;checks,&#160;&#160;that&#160;&#160;all&#160;<br/>category&#160;1&#160;ISRs have&#160;lower or equal level&#160;value&#160;than&#160;the&#160;category&#160;2&#160;ISR with&#160;lowest&#160;level.&#160;<br/><b>Note:</b>&#160;Scalability&#160;class SC4&#160;does&#160;not&#160;allow&#160;use&#160;of&#160;category&#160;2&#160;ISRs with&#160;priority&#160;level 0&#160;<br/>
<b>6.3&#160;</b><br/>
<b>Interrupt&#160;Category&#160;1&#160;</b><br/>
For&#160;interrupts&#160;of&#160;category&#160;1&#160;no&#160;MICROSAR&#160;OS&#160;API&#160;functions&#160;can&#160;be&#160;used.&#160;Note&#160;that&#160;the&#160;<br/>category&#160;1&#160;ISR&#160;with&#160;highest&#160;priority&#160;value&#160;must&#160;have&#160;lower&#160;or&#160;equal&#160;priority&#160;value&#160;than&#160;the&#160;<br/>category&#160;2&#160;ISR&#160;with&#160;lowest&#160;priority&#160;value.&#160;<br/>Example:&#160;if&#160;category&#160;2&#160;ISRs&#160;have&#160;priority&#160;levels&#160;&#160;8,&#160;10,&#160;11&#160;and&#160;12&#160;then&#160;category&#160;1&#160;cannot&#160;<br/>use&#160;priority&#160;levels&#160;8&#160;...&#160;15.&#160;Category&#160;1&#160;ISRs must&#160;then&#160;use&#160;priority&#160;levels 0&#160;...&#160;7&#160;<br/><b>Note:</b>&#160;Scalability&#160;class SC4&#160;does not&#160;allow&#160;use&#160;of&#160;category&#160;1&#160;ISRs&#160;for EIINT&#160;exceptions&#160;<br/>
<b>6.3.1&#160;&#160;Interrupt&#160;Processing&#160;in C&#160;</b><br/>
Using&#160;&#160;the&#160;&#160;Green&#160;&#160;Hills&#160;&#160;compiler,&#160;&#160;category&#160;&#160;1&#160;&#160;interrupt&#160;&#160;functions&#160;&#160;written&#160;&#160;in&#160;&#160;C&#160;&#160;must&#160;&#160;be&#160;&#160;<br/>implemented&#160;as&#160;described&#160;in&#160;the&#160;compiler&#160;manual:&#160;<br/><i>For&#160;EIINT,&#160;you&#160;can&#160;use&#160;either&#160;of&#160;the&#160;following&#160;methods&#160;to&#160;declare&#160;a&#160;function&#160;as an&#160;interrupt&#160;<br/>routine:&#160;</i><br/>
&#160;<br/>
<i>Place&#160;#pragma&#160;ghs&#160;interrupt&#160;immediately before the&#160;function.&#160;</i><br/>
&#160;<br/>
<i>Prepend&#160;the&#160;__interrupt&#160;keyword to&#160;the&#160;function&#160;definition.&#160;</i><br/>
Independently&#160;from&#160;the&#160;compiler,&#160;the&#160;user&#160;should&#160;not&#160;provide&#160;the&#160;interrupt&#160;vector&#160;number&#160;<br/>to&#160;the&#160;compiler,&#160;as&#160;the&#160;compiler&#160;would&#160;generate&#160;an&#160;interrupt&#160;vector&#160;in&#160;this&#160;case.&#160;Interrupt&#160;<br/>vector generation&#160;is&#160;always done&#160;by&#160;the&#160;operating&#160;system.&#160;<br/>
<b>6.3.2&#160;&#160;Unhandled Exception&#160;Determination&#160;</b><br/>
If&#160;an&#160;unexpected&#160;interrupt&#160;occurs&#160;which&#160;is&#160;caused&#160;by&#160;an&#160;unused&#160;interrupts&#160;source&#160;then&#160;the&#160;<br/>ErrorHook and&#160;ShutdownHook&#160;are&#160;called&#160;and&#160;the&#160;system&#160;shutdown&#160;is requested.&#160;<br/>The&#160;error&#160;type&#160;is reported&#160;to&#160;the&#160;application&#160;via&#160;error&#160;code&#160;E_OS_SYS_ABORT.&#160;<br/>If&#160;&#160;an&#160;&#160;unhandled&#160;&#160;&#160;&#160;core&#160;&#160;exception&#160;&#160;has&#160;&#160;occurred&#160;&#160;then&#160;&#160;the&#160;&#160;error&#160;&#160;reason&#160;&#160;is&#160;&#160;reported&#160;&#160;to&#160;&#160;the&#160;<br/>application&#160;&#160;via&#160;&#160;error&#160;&#160;number&#160;&#160;osdErrUEUnhandledCoreException.&#160;&#160;The&#160;&#160;global&#160;&#160;variable&#160;<br/>ossUnhandledCoreExceptionDetail&#160;&#160;contains&#160;&#160;the&#160;&#160;content&#160;&#160;of&#160;&#160;register&#160;&#160;FEIC&#160;&#160;and&#160;&#160;the&#160;&#160;global&#160;<br/>variable&#160;ossUnhandledExceptionDetail&#160;contains&#160;the&#160;offset&#160;of&#160;the&#160;core exception.&#160;<br/>If&#160;&#160;an&#160;&#160;unhandled&#160;&#160;&#160;&#160;EIINT&#160;&#160;exception&#160;&#160;has&#160;&#160;occurred&#160;&#160;then&#160;&#160;the&#160;&#160;error&#160;&#160;reason&#160;&#160;is&#160;&#160;reported&#160;&#160;to&#160;&#160;the&#160;<br/>application&#160;&#160;via&#160;&#160;error&#160;&#160;number&#160;&#160;osdErrUEUnhandledEIINTException.&#160;&#160;The&#160;&#160;global&#160;&#160;variable&#160;<br/>ossUnhandledEIINTDetail&#160;&#160;contains&#160;&#160;the&#160;&#160;content&#160;&#160;of&#160;&#160;register&#160;&#160;EIIC&#160;&#160;and&#160;&#160;the&#160;&#160;global&#160;&#160;variable&#160;<br/>ossUnhandledExceptionDetail&#160;contains&#160;the&#160;index&#160;of&#160;the&#160;EIINT&#160;exception.&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>24</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Os/doc/TechnicalReference_MICROSAROS_RH850-25_1.jpg"/><br/>
Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>6.4&#160;</b><br/>
<b>Interrupt&#160;Category&#160;2&#160;</b><br/>
<b>6.4.1&#160;&#160;Interrupt&#160;Entry&#160;</b><br/>
The&#160;&#160;entry&#160;&#160;code&#160;&#160;of&#160;&#160;category&#160;&#160;2&#160;&#160;ISRs&#160;&#160;is&#160;&#160;automatically&#160;&#160;generated&#160;&#160;by&#160;&#160;MICROSAR&#160;&#160;OS.&#160;&#160;This&#160;<br/>code&#160;stores&#160;the&#160;GPR registers onto&#160;stack and&#160;calls the&#160;CAT2&#160;ISR wrapper.&#160;&#160;<br/><b>SC1&#160;&#160;and&#160;&#160;SC3:&#160;&#160;</b>The&#160;&#160;CAT2&#160;&#160;ISR&#160;&#160;wrapper&#160;&#160;clears&#160;&#160;the&#160;&#160;global&#160;&#160;interrupt&#160;&#160;disable&#160;&#160;flag&#160;&#160;if&#160;&#160;the&#160;<br/>attribute&#160;<i>EnableNesting</i>&#160;is&#160;set&#160;for&#160;this&#160;ISR&#160;before&#160;calling&#160;the&#160;corresponding&#160;ISR&#160;function.&#160;If&#160;<br/>this&#160;&#160;attribute&#160;&#160;is&#160;&#160;not&#160;&#160;set&#160;&#160;then&#160;&#160;the&#160;&#160;CAT2&#160;&#160;ISR&#160;&#160;wrapper&#160;&#160;does&#160;&#160;not&#160;&#160;clear&#160;&#160;the&#160;&#160;global&#160;&#160;interrupt&#160;<br/>disable&#160;flag.&#160;<br/><b>SC4:&#160;&#160;</b>The&#160;&#160;CAT2&#160;&#160;ISR&#160;&#160;wrapper&#160;&#160;sets&#160;&#160;register&#160;&#160;PMR&#160;&#160;to&#160;&#160;system&#160;&#160;level&#160;&#160;and&#160;&#160;clears&#160;&#160;the&#160;&#160;global&#160;<br/>interrupt&#160;&#160;disable&#160;&#160;flag&#160;&#160;if&#160;&#160;the&#160;&#160;attribute&#160;&#160;<i>EnableNesting</i>&#160;&#160;is&#160;&#160;set&#160;&#160;for&#160;&#160;this&#160;&#160;ISR&#160;&#160;before&#160;&#160;calling&#160;&#160;the&#160;<br/>corresponding&#160;&#160;ISR&#160;&#160;function.&#160;&#160;If&#160;&#160;this&#160;&#160;attribute&#160;&#160;is&#160;&#160;not&#160;&#160;set&#160;&#160;then&#160;&#160;the&#160;&#160;CAT2&#160;&#160;ISR&#160;&#160;wrapper&#160;&#160;sets&#160;<br/>register PMR&#160;to&#160;task level and&#160;then&#160;clears the&#160;global interrupt&#160;disable.&#160;<br/>&#160;<br/>
<b>6.4.2&#160;&#160;Interrupt&#160;Exit&#160;</b><br/>
The&#160;necessary&#160;return&#160;from&#160;exception&#160;is&#160;implemented&#160;in&#160;the&#160;CAT2&#160;ISR&#160;wrapper&#160;exit&#160;code.&#160;<br/>The&#160;application&#160;is not&#160;allowed&#160;to&#160;issue&#160;a&#160;return&#160;from&#160;exception&#160;instruction.&#160;&#160;<br/>&#160;<br/>
<b>6.4.3&#160;&#160;CAT2&#160;ISR Function&#160;</b><br/>
For&#160;category&#160;2&#160;ISRs,&#160;the&#160;user&#160;has&#160;to&#160;use&#160;the&#160;ISR-macro&#160;provided&#160;by&#160;MICROSAR&#160;OS.&#160;The&#160;<br/>name&#160;which&#160;is&#160;given&#160;to&#160;this macro&#160;must&#160;be&#160;identical to&#160;the&#160;name&#160;in&#160;the&#160;configuration.&#160;<br/>
<b>ISR(&#160;myISR&#160;)&#160;<br/>{&#160;<br/>&#160; &#160;…&#160;/*&#160;ISR&#160;function&#160;body&#160;*/&#160;<br/>}&#160;</b><br/>
<b>6.5&#160;</b><br/>
<b>Disabling Interrupts&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>It&#160;is&#160;not&#160;allowed&#160;to&#160;disable&#160;interrupts&#160;longer&#160;than&#160;the&#160;tick&#160;time&#160;SECONDSPERTICK&#160;of&#160;the&#160;<br/>
<b>&#160;&#160;</b>hardware&#160;counter&#160;(timer).&#160;If&#160;interrupts&#160;are&#160;disabled&#160;longer&#160;than&#160;the&#160;tick&#160;time&#160;the&#160;alarm&#160;<br/>
management&#160;&#160;could&#160;&#160;be&#160;&#160;handled&#160;&#160;wrong.&#160;&#160;This&#160;&#160;error&#160;&#160;is&#160;&#160;<i>not</i>&#160;&#160;detected&#160;&#160;by&#160;&#160;the&#160;&#160;operating&#160;<br/>system.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
Only&#160;&#160;when&#160;&#160;compiling&#160;&#160;the&#160;&#160;operating&#160;&#160;system&#160;&#160;with&#160;&#160;the&#160;&#160;extended&#160;&#160;status&#160;&#160;additional&#160;&#160;error&#160;<br/>checking&#160;is performed.&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>25</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=26></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>7&#160;&#160;MPU&#160;Handling&#160;(SC3&#160;and&#160;SC4)&#160;</b><br/>
<b>7.1&#160;</b><br/>
<b>MPU Region Usage&#160;</b><br/>
MPU&#160;&#160;region&#160;&#160;0&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;stack&#160;&#160;area&#160;&#160;protection&#160;&#160;and&#160;&#160;all&#160;&#160;other&#160;&#160;MPU&#160;&#160;regions&#160;&#160;can&#160;&#160;be&#160;<br/>configured&#160;by&#160;the&#160;user&#160;to&#160;be&#160;static or&#160;dynamic&#160;(reprogrammed).&#160;<br/>The&#160;total&#160;number of&#160;available&#160;MPU regions&#160;depends on&#160;the&#160;derivative&#160;group:&#160;<br/>
<b>Derivative group&#160;</b><br/>
<b>Number&#160;of&#160;MPU&#160;regions&#160;(per&#160;Core)&#160;</b><br/>
D1L&#160;and D1M&#160;<br/>
12&#160;<br/>
E1L&#160;and E1M&#160;<br/>
12&#160;<br/>
E1x-FCC2&#160;<br/>
16&#160;<br/>
F1H&#160;and F1M&#160;<br/>
16&#160;<br/>
F1L&#160;<br/>
4&#160;<br/>
P1M&#160;<br/>
12&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>7.1.1&#160;&#160;MPU Region 0&#160;<br/></b>MPU&#160;region&#160;0&#160;is&#160;used&#160;for&#160;stack&#160;area&#160;protection&#160;and&#160;cannot&#160;be&#160;configured&#160;by&#160;the&#160;user.&#160;It&#160;is&#160;<br/>always&#160;reprogrammed&#160;by&#160;the&#160;OS&#160;when&#160;the&#160;context&#160;is&#160;switched.&#160;Therefore trusted&#160;and&#160;non-<br/>trusted&#160;&#160;applications&#160;&#160;can&#160;&#160;only&#160;&#160;write&#160;&#160;to&#160;&#160;the&#160;&#160;task&#160;&#160;and&#160;&#160;ISR&#160;&#160;stacks&#160;&#160;which&#160;&#160;belong&#160;&#160;to&#160;&#160;the&#160;<br/>application.&#160;<br/>&#160;<br/>
<b>7.1.2&#160;&#160;Static&#160;MPU Regions&#160;<br/></b>If&#160;a&#160;MPU&#160;region&#160;shall&#160;be&#160;static,&#160;i.e.&#160;it&#160;is&#160;only&#160;initialized&#160;in&#160;StartOS&#160;and&#160;not&#160;reprogrammed&#160;<br/>when&#160;&#160;context&#160;&#160;is&#160;&#160;switched&#160;&#160;then&#160;&#160;it&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;configured&#160;&#160;in&#160;&#160;the&#160;&#160;OS&#160;&#160;specific&#160;&#160;section.&#160;&#160;The&#160;<br/>region&#160;&#160;number&#160;&#160;is&#160;&#160;not&#160;&#160;required.&#160;&#160;The&#160;&#160;OS&#160;&#160;generator&#160;&#160;assigns&#160;&#160;a&#160;&#160;region&#160;&#160;number&#160;&#160;for&#160;&#160;each&#160;<br/>configured&#160;static&#160;MPU&#160;region.&#160;<br/>The&#160;&#160;user&#160;&#160;must&#160;&#160;specify&#160;&#160;start&#160;&#160;address,&#160;&#160;end&#160;&#160;address&#160;&#160;and&#160;&#160;region&#160;&#160;attributes&#160;&#160;of&#160;&#160;the&#160;&#160;memory&#160;<br/>area.&#160;Furthermore,&#160;for&#160;Multicore&#160;OS&#160;the&#160;core&#160;assignment&#160;has to&#160;be&#160;specified.&#160;<br/>If&#160;a&#160;MPU&#160;region&#160;is&#160;configured&#160;to&#160;be&#160;static&#160;then&#160;it&#160;is&#160;initialized&#160;in&#160;StartOS&#160;with&#160;settings&#160;from&#160;<br/>the&#160;configuration&#160;block.&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>26</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=27></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>7.1.3&#160;&#160;Dynamic&#160;MPU Regions&#160;<br/></b>If&#160;a&#160;MPU&#160;region&#160;shall&#160;be&#160;dynamic,&#160;i.e.&#160;it&#160;is&#160;always&#160;reprogrammed&#160;when&#160;context&#160;is&#160;switched&#160;<br/>then&#160;&#160;it&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;configured&#160;&#160;in&#160;&#160;each&#160;&#160;corresponding&#160;&#160;non-trusted&#160;&#160;application&#160;&#160;section.&#160;&#160;The&#160;<br/>region&#160;&#160;number&#160;&#160;is&#160;&#160;not&#160;&#160;required.&#160;&#160;The&#160;&#160;OS&#160;&#160;generator&#160;&#160;assigns&#160;&#160;a&#160;&#160;region&#160;&#160;number&#160;&#160;for&#160;&#160;each&#160;<br/>configured&#160;&#160;dynamic&#160;&#160;MPU&#160;&#160;region.&#160;&#160;Trusted&#160;&#160;applications&#160;&#160;cannot&#160;&#160;be&#160;&#160;configured&#160;&#160;with&#160;&#160;MPU&#160;<br/>regions.&#160;&#160;<br/>The&#160;user must&#160;specify&#160;start and&#160;end&#160;address&#160;of&#160;the&#160;memory&#160;area.&#160;The&#160;region&#160;attributes are&#160;<br/>configured&#160;by&#160;the&#160;OS.&#160;&#160;<br/>If&#160;a&#160;MPU&#160;region&#160;is&#160;configured&#160;to&#160;be&#160;dynamic&#160;then&#160;it&#160;is&#160;initialized&#160;in&#160;StartOS&#160;to&#160;be&#160;unused.&#160;<br/>After&#160;&#160;StartOS&#160;&#160;it&#160;&#160;is&#160;&#160;always&#160;&#160;reprogrammed&#160;&#160;when&#160;&#160;a&#160;&#160;non-trusted&#160;&#160;application&#160;&#160;is&#160;&#160;started&#160;&#160;or&#160;<br/>terminated.&#160;<br/>Non-trusted&#160;applications&#160;can&#160;have&#160;different&#160;number&#160;of&#160;MPU&#160;regions.&#160;The&#160;total&#160;number&#160;of&#160;<br/>reprogrammed&#160;&#160;MPU&#160;&#160;regions&#160;&#160;depends&#160;&#160;on&#160;&#160;the&#160;&#160;application&#160;&#160;which&#160;&#160;has&#160;&#160;the&#160;&#160;most&#160;&#160;dynamic&#160;<br/>regions&#160;on&#160;the&#160;corresponding&#160;core.&#160;Example:&#160;If&#160;a&#160;system&#160;has&#160;2&#160;non-trusted&#160;applications&#160;on&#160;<br/>the&#160;same&#160;core,&#160;&#160;one&#160;application&#160;&#160;configured&#160;with&#160;&#160;2&#160;&#160;MPU&#160;&#160;regions&#160;and&#160;&#160;the&#160;other&#160;application&#160;<br/>configured&#160;with&#160;3&#160;MPU regions,&#160;then&#160;the&#160;total&#160;number of&#160;dynamic MPU regions is 3.&#160;During&#160;<br/>runtime&#160;when&#160;context&#160;is&#160;switched&#160;then&#160;always&#160;3&#160;MPU regions&#160;are&#160;reprogrammed.&#160;&#160;<br/>Non-trusted&#160;application&#160;Appl1:&#160;<br/>
&#160;MPU region&#160;1&#160;used&#160;<br/>&#160;MPU region&#160;2&#160;used&#160;<br/>
Non-trusted&#160;application&#160;Appl2:&#160;<br/>
&#160;MPU region&#160;1&#160;used&#160;<br/>&#160;MPU region&#160;2&#160;used&#160;<br/>&#160;MPU region&#160;3&#160;used&#160;<br/>
When&#160;&#160;application&#160;&#160;Appl1&#160;&#160;is&#160;&#160;started&#160;&#160;then&#160;&#160;MPU&#160;&#160;regions&#160;&#160;1&#160;&#160;and&#160;&#160;2&#160;&#160;are&#160;&#160;reprogrammed&#160;&#160;with&#160;<br/>application&#160;specific settings and&#160;MPU region&#160;3&#160;is set&#160;to&#160;unused.&#160;<br/>When&#160;&#160;application&#160;Appl2&#160;&#160;is&#160;&#160;started&#160;&#160;then&#160;&#160;MPU&#160;&#160;regions&#160;&#160;1,&#160;&#160;2&#160;&#160;and&#160;&#160;3&#160;&#160;are&#160;&#160;reprogrammed&#160;&#160;with&#160;<br/>application&#160;specific settings.&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>27</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=28></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>8&#160;&#160;RH850&#160;Peripherals&#160;</b><br/>
<b>8.1&#160;</b><br/>
<b>Supported&#160;System&#160;Timer&#160;</b><br/>
MICROSAR&#160;&#160;OS&#160;&#160;RH850&#160;&#160;uses&#160;&#160;the&#160;&#160;timer&#160;&#160;unit&#160;&#160;OSTM&#160;&#160;as&#160;&#160;driver&#160;&#160;for&#160;&#160;a&#160;&#160;configured&#160;&#160;hardware&#160;<br/>counter (see<a href="TechnicalReference_MICROSAROS_RH850s.html#15">&#160;3.4)</a>.&#160;The&#160;corresponding&#160;interrupt&#160;channel&#160;depends on&#160;the&#160;derivative&#160;group:&#160;<br/>
Derivative&#160;&#160;Used&#160;Interrupt&#160;Channel&#160;<br/>
Used&#160;Hardware&#160;Unit&#160;<br/>
group&#160;<br/>D1L&#160;/&#160;D1M&#160;&#160;125&#160;<br/>
OSTM0&#160;<br/>
E1L&#160;/&#160;E1M&#160;&#160;25&#160;<br/>
OSTM0&#160;<br/>
E1x-FCC2&#160;&#160;25&#160;<br/>
OSTM0&#160;<br/>
26&#160;for&#160;second&#160;core&#160;(Multicore&#160;OS)&#160;<br/>
OSTM1 for&#160;second core&#160;(Multicore&#160;OS)&#160;<br/>
F1M&#160;<br/>
84&#160;<br/>
OSTM0&#160;<br/>
F1H&#160;<br/>
84&#160;<br/>
OSTM0&#160;<br/>
314&#160;for&#160;second core&#160;(Multicore&#160;OS)&#160;&#160;OSTM5 for&#160;second core&#160;(Multicore&#160;OS)&#160;<br/>
F1L&#160;<br/>
76&#160;<br/>
OSTM0&#160;<br/>
P1M&#160;<br/>
74&#160;<br/>
OSTM0&#160;<br/>
Table&#160;3&#160;&#160;<br/>
RH850&#160;driver&#160;for&#160;hardware&#160;counter&#160;<br/>
<b>8.2&#160;</b><br/>
<b>Supported&#160;Time&#160;Monitoring&#160;Timer&#160;</b><br/>
MICROSAR OS&#160;RH850&#160;uses&#160;the&#160;timer unit&#160;TAUJ0&#160;for&#160;SC4&#160;timing&#160;protection:&#160;<br/>
Derivative&#160;<br/>
Used&#160;Interrupt&#160;Channels&#160;<br/>
Used&#160;Hardware&#160;Unit&#160;<br/>
group&#160;<br/>D1L&#160;/&#160;D1M&#160;<br/>
121,&#160;122,&#160;123&#160;<br/>
TAUJ0&#160;<br/>
E1L&#160;/&#160;E1M&#160;<br/>
Timing&#160;Protection&#160;not&#160;supported&#160;<br/>
-&#160;<br/>
F1H&#160;/&#160;F1M&#160;<br/>
80,&#160;81,&#160;82&#160;<br/>
TAUJ0&#160;<br/>
F1L&#160;<br/>
72,&#160;73,&#160;74&#160;<br/>
TAUJ0&#160;<br/>
P1M&#160;<br/>
133,&#160;134,&#160;135&#160;<br/>
TAUJ0&#160;<br/>
Table&#160;4&#160;&#160;<br/>
RH850&#160;timer&#160;units&#160;for&#160;timing&#160;protection&#160;<br/>
<b>8.3&#160;</b><br/>
<b>Initialization&#160;</b><br/>
The&#160;OS&#160;initializes the&#160;interrupt&#160;controller&#160;INTC&#160;before&#160;the&#160;StartupHook is called.&#160;&#160;<br/>Register SCBASE&#160;and&#160;SCCFG&#160;are initialized&#160;to&#160;use&#160;the&#160;OS&#160;syscall&#160;table&#160;(SC3&#160;and&#160;SC4).&#160;<br/>The&#160;OS&#160;initializes the&#160;timer OSTM&#160;after the&#160;StartupHook is called.&#160;<br/>In&#160;&#160;case&#160;&#160;of&#160;&#160;SC3&#160;&#160;and&#160;&#160;SC4,&#160;&#160;the&#160;&#160;OS&#160;&#160;initializes&#160;&#160;the&#160;&#160;memory&#160;&#160;protection&#160;&#160;unit&#160;&#160;MPU&#160;&#160;before&#160;&#160;the&#160;<br/>StartupHook&#160;is called.&#160;<br/>In&#160;case&#160;of&#160;SC4,&#160;the&#160;OS&#160;initializes the&#160;timer unit&#160;TAUJ0&#160;before the&#160;StartupHook is called.&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>28</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=29></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
&#160;<br/>
<b>9&#160;&#160;Implementation&#160;Specifics&#160;&#160;</b><br/>
<b>9.1&#160;</b><br/>
<b>API&#160;Functions&#160;</b><br/>
<b>9.1.1&#160;&#160;DisableAllInterrupts&#160;<br/>SC1&#160;and&#160;SC3:&#160;</b>The&#160;function&#160;<i>DisableAllInterrupts</i>&#160;disables&#160;all&#160;interrupts.&#160;This&#160;is&#160;achieved&#160;by&#160;<br/>setting&#160;the&#160;ID-Bit in&#160;register PSW.&#160;The&#160;old&#160;value&#160;of&#160;the&#160;ID-Bit is stored&#160;for later restore.&#160;&#160;<br/><b>SC4:&#160;</b>The&#160;function&#160;<i>DisableAllInterrupts</i>&#160;disables&#160;interrupts&#160;up&#160;to&#160;priority&#160;level&#160;1.&#160;Interrupts&#160;<br/>with&#160;priority&#160;level&#160;0&#160;stay&#160;enabled.&#160;This&#160;is&#160;performed&#160;by&#160;setting&#160;bits&#160;1…15&#160;in&#160;register&#160;PMR.&#160;<br/>The&#160;&#160;old&#160;&#160;value&#160;&#160;of&#160;&#160;the&#160;&#160;register&#160;&#160;is&#160;&#160;stored&#160;&#160;for&#160;&#160;later&#160;&#160;restore.&#160;&#160;Interrupts&#160;&#160;of&#160;&#160;priority&#160;&#160;level&#160;&#160;0&#160;&#160;stay&#160;<br/>enabled&#160;so&#160;that&#160;timing&#160;protection&#160;exceptions can&#160;still occur.&#160;<br/><b>Remark</b>:&#160;Nested&#160;calls&#160;are&#160;<b>not</b>&#160;possible.&#160;<br/>
<b>9.1.2&#160;&#160;EnableAllInterrupts&#160;<br/>SC1&#160;&#160;and&#160;&#160;SC3:&#160;&#160;</b>The&#160;&#160;function&#160;&#160;<i>EnableAllInterrupts</i>&#160;&#160;restores&#160;&#160;the&#160;&#160;content&#160;&#160;of&#160;&#160;the&#160;&#160;ID-Bit&#160;&#160;which&#160;<br/>was stored&#160;by&#160;<i>DisableAllInterrupts</i>.&#160;&#160;<br/><b>SC4:&#160;&#160;</b>The&#160;&#160;function&#160;&#160;<i>EnableAllInterrupts</i>&#160;&#160;restores&#160;&#160;the&#160;&#160;content&#160;&#160;of&#160;&#160;register&#160;&#160;PMR&#160;&#160;which&#160;&#160;was&#160;<br/>stored&#160;by&#160;<i>DisableAllInterrupts</i>.&#160;&#160;<br/><b>Remark</b>:&#160;Nested&#160;calls&#160;are&#160;<b>not</b>&#160;possible.&#160;<br/>
<b>9.1.3&#160;&#160;SuspendAllInterrupts&#160;<br/>SC1&#160;and&#160;SC3:&#160;</b>The&#160;function&#160;<i>SuspendAllInterrupts</i>&#160;disables&#160;all&#160;interrupts.&#160;This&#160;is&#160;achieved&#160;<br/>by&#160;setting&#160;the&#160;ID-Bit in&#160;register PSW.&#160;The&#160;old&#160;value&#160;of&#160;the&#160;ID-Bit is stored&#160;for later restore.&#160;&#160;<br/><b>SC4:&#160;</b>The&#160;function&#160;<i>SuspendAllInterrupts</i>&#160;disables&#160;interrupts&#160;up&#160;to&#160;priority&#160;level&#160;1.&#160;Interrupts&#160;<br/>with&#160;priority&#160;level&#160;0&#160;stay&#160;enabled.&#160;This&#160;is&#160;performed&#160;by&#160;setting&#160;bits&#160;1…15&#160;in&#160;register&#160;PMR.&#160;<br/>The&#160;&#160;old&#160;&#160;value&#160;&#160;of&#160;&#160;the&#160;&#160;register&#160;&#160;is&#160;&#160;stored&#160;&#160;for&#160;&#160;later&#160;&#160;restore.&#160;&#160;Interrupts&#160;&#160;of&#160;&#160;priority&#160;&#160;level&#160;&#160;0&#160;&#160;stay&#160;<br/>enabled&#160;so&#160;that&#160;timing&#160;protection&#160;exceptions can&#160;still occur.&#160;<br/><b>Remark</b>:&#160;Nested&#160;calls&#160;are possible.&#160;<br/>
<b>9.1.4&#160;&#160;ResumeAllInterrupts&#160;<br/>SC1&#160;and&#160;SC3:&#160;</b>The&#160;function&#160;<i>ResumeAllInterrupts</i>&#160;restores&#160;the&#160;content&#160;of&#160;the&#160;ID-Bit&#160;which&#160;<br/>was stored&#160;by&#160;<i>SuspendAllInterrupts</i>.&#160;<br/><b>SC4:&#160;&#160;</b>The&#160;&#160;function&#160;&#160;<i>ResumeAllInterrupts</i>&#160;&#160;restores&#160;&#160;the&#160;&#160;content&#160;&#160;of&#160;&#160;register&#160;&#160;PMR&#160;&#160;which&#160;&#160;was&#160;<br/>stored&#160;by&#160;<i>SuspendAllInterrupts</i>.&#160;&#160;<br/><b>Remark</b>:&#160;Nested&#160;calls&#160;are possible.&#160;<br/>
<b>9.1.5&#160;&#160;SuspendOSInterrupts&#160;<br/></b>The&#160;function&#160;<i>SuspendOSInterrupts</i>&#160;disables&#160;all&#160;category&#160;2&#160;interrupts.&#160;This&#160;is&#160;&#160;achieved&#160;by&#160;<br/>setting&#160;&#160;the&#160;&#160;PMR&#160;&#160;register&#160;&#160;to&#160;&#160;system&#160;&#160;level&#160;&#160;(highest&#160;&#160;interrupt&#160;&#160;priority&#160;&#160;of&#160;&#160;all&#160;&#160;category&#160;&#160;2&#160;<br/>interrupts).&#160;The&#160;old&#160;value&#160;of&#160;the&#160;PMR register is stored&#160;for later restore.&#160;&#160;<br/><b>Remark</b>:&#160;Nested&#160;calls&#160;are possible.&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>29</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Os/doc/TechnicalReference_MICROSAROS_RH850-30_1.png"/><br/>
Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.1.6&#160;&#160;ResumeOSInterrupts&#160;<br/></b>The&#160;function&#160;<i>ResumeOSInterrupts</i>&#160;restores&#160;the&#160;content&#160;of&#160;register&#160;PMR&#160;which&#160;was&#160;stored&#160;<br/>by&#160;<i>SuspendOSInterrupts</i>.&#160;<br/><b>Remark</b>:&#160;Nested&#160;calls&#160;are possible.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>If&#160;&#160;OS&#160;API&#160;&#160;functions&#160;&#160;are&#160;&#160;used&#160;&#160;before&#160;&#160;StartOS&#160;&#160;then&#160;&#160;osInitialize&#160;&#160;must&#160;&#160;be&#160;&#160;called&#160;<br/>
&#160;&#160;before&#160;&#160;any&#160;&#160;OS&#160;&#160;API&#160;&#160;function&#160;&#160;is&#160;&#160;called.&#160;&#160;If&#160;&#160;SC3&#160;&#160;or&#160;&#160;SC4&#160;&#160;is&#160;&#160;used,&#160;&#160;then&#160;&#160;also&#160;<br/>
osInitINTC&#160;must&#160;be&#160;called&#160;before StartOS.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>9.1.7&#160;&#160;GetResource&#160;<br/></b>MICROSAR&#160;OS&#160;RH850&#160;SC3/SC4&#160;does&#160;not&#160;support&#160;the&#160;extension&#160;of&#160;the&#160;resource&#160;concept&#160;<br/>for&#160;interrupt&#160;levels.&#160;<br/>
<b>9.1.8&#160;&#160;ReleaseResource&#160;<br/></b>MICROSAR&#160;OS&#160;RH850&#160;SC3/SC4&#160;does&#160;not&#160;support&#160;the&#160;extension&#160;of&#160;the&#160;resource&#160;concept&#160;<br/>for interrupt&#160;levels.&#160;<br/>
<b>9.1.9&#160;&#160;GetAlarmBase&#160;<br/></b>MICROSAR OS&#160;RH850&#160;SC3/SC4&#160;does&#160;not&#160;support&#160;API&#160;function&#160;GetAlarmBase.&#160;<br/>
<b>9.1.10&#160;&#160;osInitialize&#160;<br/></b>Function&#160;&#160;osInitialize&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;initializing&#160;&#160;OS&#160;&#160;global&#160;&#160;variables&#160;&#160;which&#160;&#160;are&#160;&#160;used&#160;&#160;by&#160;<br/>osDispatcher and&#160;interrupt&#160;handling&#160;API.&#160;It&#160;is&#160;called&#160;by&#160;the&#160;OS&#160;in&#160;StartOS.&#160;&#160;<br/>Prototype:&#160;void&#160;osInitialize(void)&#160;<br/>
<b>9.1.11&#160;&#160;osInitINTC&#160;<br/></b>Function&#160;osInitINTC&#160;initializes&#160;the&#160;interrupt&#160;controller&#160;INTC&#160;and&#160;some&#160;core&#160;registers&#160;for&#160;the&#160;<br/>corresponding&#160;core X:&#160;<br/>
&#160;&#160;EBASE&#160;=&#160;&amp;osExceptionVectorTable_c&lt;X&gt;&#160;<br/>&#160;&#160;INTBP&#160;= &amp;osEIINTVectorTable_c&lt;X&gt;&#160;<br/>&#160;&#160;INTCFG =&#160;0&#160;<br/>&#160;&#160;SCBP&#160;=&#160;&amp;osSysCallTable_c&lt;X&gt;&#160;(SC3&#160;and&#160;SC4)&#160;<br/>&#160;&#160;SCCFG&#160;=&#160;osdNumberOfSysCallFunctions&#160;(SC3&#160;and&#160;SC4)&#160;<br/>&#160;&#160;set&#160;&#160;table&#160;&#160;mode&#160;&#160;and&#160;&#160;priority&#160;&#160;level&#160;&#160;for&#160;&#160;each&#160;&#160;configured&#160;&#160;EIINT&#160;&#160;interrupt&#160;&#160;source&#160; &#160;<br/>
assigned&#160;to&#160;core X&#160;<br/>
osInitINTC&#160;is called&#160;by&#160;the&#160;OS&#160;in&#160;StartOS.&#160;&#160;<br/>Prototype:&#160;void&#160;osInitINTC(void)&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>30</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=31></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.2&#160;</b><br/>
<b>Peripheral&#160;Region&#160;API&#160;</b><br/>
In&#160;&#160;a&#160;&#160;safety&#160;&#160;application&#160;&#160;there&#160;&#160;is&#160;&#160;the&#160;&#160;need&#160;&#160;to&#160;&#160;access&#160;&#160;peripheral&#160;&#160;components&#160;&#160;from&#160;&#160;QM&#160;<br/>software (non-trusted).&#160;<br/>For&#160;&#160;QM&#160;&#160;software,&#160;&#160;which&#160;&#160;runs&#160;&#160;in&#160;&#160;restricted&#160;&#160;mode&#160;&#160;(e.g.&#160;&#160;user&#160;&#160;mode)&#160;&#160;the&#160;&#160;peripheral&#160;&#160;access&#160;<br/>must&#160;be&#160;granted&#160;by&#160;the&#160;MPU.&#160;Sometimes&#160;there&#160;are&#160;peripheral&#160;registers&#160;which&#160;cannot&#160;be&#160;<br/>written&#160;at&#160;all&#160;in&#160;restricted&#160;mode.&#160;<br/>Therefore&#160;the&#160;OS&#160;offers the&#160;concept&#160;of&#160;the&#160;peripheral region&#160;API.&#160;<br/>The&#160;peripheral&#160;regions&#160;are&#160;defined&#160;in&#160;the&#160;configuration.&#160;Access&#160;rights&#160;are&#160;also&#160;configured&#160;<br/>on&#160;application&#160;level.&#160;<br/>With&#160;an&#160;API&#160;any&#160;Software&#160;(also&#160;non&#160;trusted)&#160;is&#160;capable&#160;to&#160;write&#160;to&#160;peripheral&#160;registers even&#160;<br/>if&#160;the&#160;access is&#160;not&#160;granted&#160;by&#160;the&#160;MPU.&#160;<br/>
<b>9.2.1.1&#160;</b><br/>
<b>Read&#160;Functions&#160;</b><br/>
There are&#160;three&#160;reading&#160;functions.&#160;<br/>
<b>Prototype&#160;</b><br/>
osuint8 &#160;osReadPeripheral8&#160;( osuint16 area, osuint32 address )&#160;<br/>osuint16 osReadPeripheral16( osuint16 area, osuint32 address )&#160;<br/>
osuint32 osReadPeripheral32( osuint16 area, osuint32 address )&#160;<br/>
<b>Parameter&#160;</b><br/>
area&#160;<br/>
Identifier of&#160;peripheral&#160;regions&#160;to&#160;the read from&#160;<br/>
address&#160;<br/>
Address&#160;to&#160;be&#160;read&#160;from&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
&#160;<br/>
The&#160;content&#160;of&#160;“address”&#160;interpreted&#160;as&#160;8&#160;bit,&#160;16&#160;bit&#160;or 32 bit value&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>&gt;&#160;&#160;</b>reads either&#160;an&#160;8&#160;bit,&#160;or&#160;a&#160;16&#160;bit&#160;or&#160;a 32&#160;bit&#160;value&#160;from&#160;“address”&#160;<br/><b>&gt;&#160;&#160;</b>The&#160;function&#160;performs&#160;accessing&#160;checks&#160;(whether&#160;the&#160;caller&#160;has&#160;accessing rights&#160;to&#160;the&#160;<br/>
peripheral&#160;region&#160;and whether&#160;the&#160;address&#160;to be&#160;read&#160;from&#160;is&#160;within the&#160;configured&#160;range of&#160;<br/>the&#160;peripheral&#160;region)&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;error&#160;hook&#160;is&#160;raised&#160;in case&#160;of&#160;an&#160;error&#160;<br/><b>&gt;&#160;&#160;</b>A&#160;shutdown is not&#160;issued&#160;in case&#160;of&#160;an&#160;error&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;may&#160;not&#160;be called&#160;from&#160;OS&#160;hooks&#160;<br/>
Call&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;may&#160;be called&#160;from&#160;Task&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;may&#160;be called&#160;from&#160;category&#160;2&#160;ISR&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;can&#160;be called&#160;with&#160;interrupts&#160;enabled&#160;or&#160;with&#160;interrupts&#160;disabled&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>31</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=32></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.2.1.2&#160;</b><br/>
<b>Write&#160;Functions&#160;</b><br/>
There are&#160;three&#160;writing&#160;functions.&#160;<br/>
<b>Prototype&#160;</b><br/>
void osWritePeripheral8&#160;( osuint16 area, osuint32 address, osuint8&#160;value)&#160;<br/>void osWritePeripheral16( osuint16 area, osuint32 address, osuint16&#160;value)&#160;<br/>
void osWritePeripheral32( osuint16 area, osuint32 address,&#160;osuint32 value)&#160;<br/>
<b>Parameter&#160;</b><br/>
area&#160;<br/>
Identifier of&#160;peripheral&#160;regions&#160;to&#160;the read from&#160;<br/>
address&#160;<br/>
Address&#160;to&#160;write&#160;to&#160;<br/>
value&#160;<br/>
Value&#160;to be&#160;written&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Writes&#160;to&#160;either&#160;an&#160;8&#160;bit,&#160;or&#160;a&#160;16&#160;bit&#160;or&#160;a 32&#160;bit&#160;value&#160;<br/><b>&gt;&#160;&#160;</b>The&#160;function&#160;performs&#160;accessing&#160;checks&#160;(whether&#160;the&#160;caller&#160;has&#160;accessing rights&#160;to&#160;the&#160;<br/>
peripheral&#160;region&#160;and whether&#160;the&#160;address&#160;to be&#160;read&#160;from&#160;is&#160;within the&#160;configured&#160;range of&#160;<br/>the&#160;peripheral&#160;region)&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;error&#160;hook&#160;is&#160;raised&#160;in case&#160;of&#160;an&#160;error&#160;<br/><b>&gt;&#160;&#160;</b>A&#160;shutdown is not&#160;issued&#160;in case&#160;of&#160;an&#160;error&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;may&#160;not&#160;be called&#160;from&#160;OS&#160;hooks&#160;<br/>
Call&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;may&#160;be called&#160;from&#160;Task&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;may&#160;be called&#160;from&#160;category&#160;2&#160;ISR&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;can&#160;be called&#160;with&#160;interrupts&#160;enabled&#160;or&#160;with&#160;interrupts&#160;disabled&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>32</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=33></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
&#160;<br/><b>9.2.1.3&#160;</b><br/>
<b>Modify&#160;Functions&#160;</b><br/>
There are&#160;three&#160;modifying&#160;functions.&#160;<br/>
<b>Prototype&#160;</b><br/>
void&#160;osModifyPeripheral8&#160;( osuint16 area, osuint32 address,&#160;osuint8 clearmask,&#160;<br/>osuint8 setmask)&#160;<br/>
void&#160;osModifyPeripheral16( osuint16 area, osuint32 address,&#160;osuint16 clearmask,&#160;<br/>osuint16&#160;setmask)&#160;<br/>
void&#160;osModifyPeripheral32( osuint16 area, osuint32 address,&#160;osuint32 clearmask,&#160;<br/>osuint32&#160;setmask)&#160;<br/>
<b>Parameter&#160;</b><br/>
area&#160;<br/>
Identifier of&#160;peripheral&#160;regions&#160;to&#160;the read from&#160;<br/>
address&#160;<br/>
Address&#160;to&#160;be&#160;modified&#160;<br/>
clearmask&#160;<br/>
Bitmask&#160;which is&#160;bitwise “ANDed” to&#160;“address”&#160;<br/>
setmask&#160;<br/>
Bitmask&#160;which is&#160;bitwise “ORed” to “address”&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;performs&#160;accessing&#160;checks&#160;(whether&#160;the&#160;caller&#160;has&#160;accessing rights&#160;to&#160;the&#160;<br/>
peripheral&#160;region&#160;and whether&#160;the&#160;address&#160;to be&#160;read&#160;from&#160;is&#160;within the&#160;configured&#160;range of&#160;<br/>the&#160;peripheral&#160;region)&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;error&#160;hook&#160;is&#160;raised&#160;in case&#160;of&#160;an&#160;error&#160;<br/><b>&gt;&#160;&#160;</b>A&#160;shutdown is not&#160;issued&#160;in case&#160;of&#160;an&#160;error&#160;<br/><b>&gt;&#160;&#160;</b>After&#160;the&#160;access&#160;checks&#160;has&#160;passed&#160;first&#160;the&#160;“clearmask”&#160;is&#160;ANDed&#160;to&#160;“address”&#160;and&#160;<br/>
afterwards&#160;the&#160;“setmask”&#160;is&#160;ORed&#160;to&#160;it.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;may&#160;not&#160;be called&#160;from&#160;OS&#160;hooks&#160;<br/>
Call&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;may&#160;be called&#160;from&#160;Task&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;may&#160;be called&#160;from&#160;category&#160;2&#160;ISR&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;can&#160;be called&#160;with&#160;interrupts&#160;enabled&#160;or&#160;with&#160;interrupts&#160;disabled&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>33</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=34></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.3&#160;</b><br/>
<b>Peripheral&#160;Interrupt&#160;API&#160;Functions&#160;(SC3&#160;and SC4)&#160;</b><br/>
The&#160;&#160;OS&#160;&#160;provides&#160;&#160;functions&#160;&#160;which&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;to&#160;&#160;perform&#160;&#160;write&#160;&#160;access&#160;&#160;to&#160;&#160;the&#160;&#160;interrupt&#160;<br/>controller&#160;INTC&#160;control&#160;registers&#160;in&#160;user&#160;mode.&#160;<br/>If&#160;read&#160;access&#160;to&#160;SFR&#160;registers&#160;is&#160;enabled&#160;in&#160;user&#160;mode&#160;then&#160;the&#160;following&#160;macros&#160;can&#160;be&#160;<br/>used&#160;to&#160;read&#160;from&#160;interrupt&#160;controller&#160;INTC&#160;registers.&#160;<br/><b>#define&#160;osReadICR8(addr) &#160; (*((osuint8*)(addr)))&#160;<br/>#define&#160;osReadICR16(addr) &#160;(*((osuint16*)(addr)))&#160;<br/>&#160;<br/></b>This chapter describes&#160;API&#160;functions&#160;which&#160;can&#160;be&#160;used&#160;to&#160;access&#160;the&#160;interrupt&#160;control&#160;<br/>registers&#160;within&#160;the&#160;corresponding&#160;address range:&#160;<br/>&#160;<br/>
<b>Derivative group&#160;&#160;Address range&#160;<br/>D1L/D1M&#160;</b><br/>
<b>FFFE EA00&#160;-&#160;FFFE EA3E&#160;(EIC0 to EIC31)&#160;<br/>FFFF B040&#160;-&#160;FFFF&#160;B1FE&#160;(EIC32 to EIC255)&#160;</b><br/>
<b>E1L/E1M&#160;</b><br/>
<b>FFFE EA00&#160;-&#160;FFFE EA3E&#160;(EIC0 to EIC31)&#160;<br/>FFFF B040&#160;-&#160;FFFF B3FE&#160;(EIC32 to EIC511)&#160;</b><br/>
<b>E1x-Fcc2&#160;</b><br/>
<b>FFFE EA00&#160;-&#160;FFFE EA3E&#160;(EIC0 to EIC31)&#160;<br/>FFFF B040&#160;-&#160;FFFF B3FE&#160;(EIC32 to EIC511)&#160;</b><br/>
<b>F1H&#160;</b><br/>
<b>FFFE EA00&#160;-&#160;FFFE EA3E&#160;(EIC0 to EIC31)&#160;<br/>FFFF B040&#160;-&#160;FFFF B2BC&#160;(EIC32 to EIC350)&#160;</b><br/>
<b>F1L&#160;</b><br/>
<b>FFFF 9000&#160;-&#160;FFFF 903E&#160;(EIC0-&#160;EIC31)&#160;<br/>FFFF A040&#160;-&#160;FFFF A232&#160;(EIC32-&#160;EIC281)&#160;</b><br/>
<b>F1M&#160;</b><br/>
<b>FFFE EA00&#160;-&#160;FFFE EA3E&#160;(EIC0 to EIC31)&#160;<br/>FFFF B040&#160;-&#160;FFFF B25C (EIC32 to EIC297)&#160;</b><br/>
<b>P1M&#160;</b><br/>
<b>FFFE EA00&#160;-&#160;FFFE EA3E&#160;(EIC0 to EIC31)&#160;<br/>FFFF B040&#160;-&#160;FFFF B2FE&#160;(EIC32 to EIC383)&#160;</b><br/>
<b>&#160;<br/>&#160;</b><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>34</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=35></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.3.1&#160;&#160;Write&#160;to&#160;Interrupt&#160;Control&#160;Register&#160;<br/></b>Writing&#160;1&#160;or 2&#160;Byte&#160;to&#160;the&#160;interrupt&#160;controller INTC control register&#160;is achieved&#160;by&#160;<br/>osWriteICR8/osWriteICR16&#160;and&#160;osWriteICRxLo/&#160;osWriteICRxHi/&#160;osWriteICRx16:&#160;<br/>&#160;<br/>&#160;<br/><b>osWriteICR8&#160;<br/></b>This&#160;function&#160;writes&#160;1&#160;Byte&#160;at&#160;specified&#160;destination&#160;address.&#160;Before&#160;writing&#160;the&#160;address&#160;<br/>parameter is checked&#160;to&#160;be&#160;in&#160;valid&#160;range.&#160;<br/>
<b>Prototype&#160;<br/>void osWriteICR8(uint32 addr, uint8 val);&#160;<br/>Parameter&#160;<br/>addr&#160;</b><br/>
destination&#160;address&#160;<br/>
<b>val&#160;</b><br/>
value&#160;to be&#160;written&#160;at&#160;destination&#160;address&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint8*)addr = (uint8)val;</b>&#160;<br/>
<b>&#160;</b><br/>
<b>osWriteICR16&#160;<br/></b>This&#160;function&#160;writes&#160;2&#160;Bytes at&#160;specified&#160;destination&#160;address.&#160;Before&#160;writing&#160;the&#160;address&#160;<br/>parameter is checked&#160;to&#160;be&#160;in&#160;valid&#160;range.&#160;<br/>
<b>Prototype&#160;<br/>void osWriteICR16(uint32 addr, uint16&#160;val);&#160;<br/>Parameter&#160;<br/>addr&#160;</b><br/>
destination&#160;address&#160;<br/>
<b>val&#160;</b><br/>
value&#160;to be&#160;written&#160;at&#160;destination&#160;address&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint16*)addr = (uint16)val;</b>&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>35</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=36></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>osWriteICRxLo&#160;<br/></b>This&#160;function&#160;writes&#160;the&#160;lower Byte&#160;of&#160;the&#160;control register of&#160;the&#160;specified&#160;interrupt&#160;number.&#160;<br/>Before&#160;writing&#160;the&#160;index&#160;is checked&#160;to&#160;be&#160;in&#160;valid&#160;range.&#160;<br/>
<b>Prototype&#160;<br/>void osWriteICRxLo(uint32&#160;index, uint8 val);&#160;<br/>Parameter&#160;<br/>index&#160;</b><br/>
interrupt&#160;number&#160;<br/>
<b>val&#160;</b><br/>
value&#160;to be&#160;written&#160;to&#160;control&#160;register&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint8*)addr = (uint8)val;</b>&#160;<br/>
<b>osWriteICRxHi&#160;<br/></b>This&#160;function&#160;writes&#160;the&#160;upper&#160;Byte&#160;of&#160;the&#160;control register of&#160;the&#160;specified&#160;interrupt&#160;number.&#160;<br/>Before&#160;writing&#160;the&#160;index&#160;is checked&#160;to&#160;be&#160;in&#160;valid&#160;range.&#160;<br/>
<b>Prototype&#160;<br/>void osWriteICRxHi(uint32&#160;index, uint8 val);&#160;<br/>Parameter&#160;<br/>index&#160;</b><br/>
interrupt&#160;number&#160;<br/>
<b>val&#160;</b><br/>
value&#160;to be&#160;written&#160;to&#160;control&#160;register&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint8*)addr = (uint8)val;</b>&#160;<br/>
<b>osWriteICRx16&#160;<br/></b>This&#160;function&#160;writes&#160;both&#160;Bytes of&#160;the&#160;control register of&#160;the&#160;specified&#160;interrupt&#160;number.&#160;<br/>Before&#160;writing&#160;the&#160;index&#160;is checked&#160;to&#160;be&#160;in&#160;valid&#160;range.&#160;<br/>
<b>Prototype&#160;<br/>void osWriteICRx16(uint32&#160;index, uint16&#160;val);&#160;<br/>Parameter&#160;<br/>index&#160;</b><br/>
interrupt&#160;number&#160;<br/>
<b>val&#160;</b><br/>
value&#160;to be&#160;written&#160;to&#160;control&#160;register&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint8*)addr =&#160;(uint8)val;</b>&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>36</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=37></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.3.2&#160;&#160;Set&#160;or&#160;Clear Mask&#160;Flag&#160;</b><br/>
The&#160;mask&#160;flag&#160;of&#160;the&#160;interrupt&#160;control register&#160;can&#160;be&#160;set&#160;or cleared&#160;by&#160;osSetICRMask&#160;and&#160;<br/>osClearICRMask.&#160;<br/>
<b>osSetICRMask&#160;<br/></b>This&#160;function&#160;sets&#160;the&#160;mask&#160;flag&#160;at&#160;specified&#160;destination&#160;address&#160;which&#160;must&#160;be&#160;even.&#160;<br/>Before&#160;writing&#160;the&#160;address parameter&#160;is checked&#160;to&#160;be&#160;in&#160;valid&#160;range.&#160;The&#160;address&#160;<br/>parameter is not&#160;checked&#160;to&#160;be&#160;even.&#160;The&#160;user must&#160;take&#160;care&#160;about&#160;it.&#160;<br/>
<b>Prototype&#160;<br/>void osSetICRMask(uint32 addr);&#160;<br/>Parameter&#160;<br/>addr&#160;</b><br/>
destination&#160;address&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint8*)addr |= (uint8)0x80;</b>&#160;<br/>
<b>osClearICRMask&#160;<br/></b>This&#160;function&#160;clears the&#160;mask&#160;flag&#160;at&#160;specified&#160;destination&#160;address&#160;which&#160;must&#160;be&#160;even.&#160;<br/>Before&#160;writing&#160;the&#160;address parameter is checked&#160;to&#160;be&#160;in&#160;valid&#160;range.&#160;The&#160;address&#160;<br/>parameter is not&#160;checked&#160;to&#160;be&#160;even.&#160;The&#160;user must&#160;take&#160;care&#160;about&#160;it.&#160;<br/>
<b>Prototype&#160;<br/>void osClearICRMask(uint32 addr);&#160;<br/>Parameter&#160;<br/>addr&#160;</b><br/>
destination&#160;address&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint8*)addr &amp;= (uint8)0x7F;</b>&#160;<br/>
<b>&#160;</b><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>37</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=38></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.3.3&#160;&#160;Set&#160;or&#160;Clear ICR&#160;Request Flag&#160;<br/></b>The&#160;request&#160;flag&#160;of&#160;the&#160;interrupt&#160;control register&#160;can&#160;be&#160;set&#160;and&#160;cleared&#160;by&#160;calling&#160;the&#160;<br/>functions&#160;osSetICRReq&#160;and&#160;osClearICRReq:&#160;&#160;<br/><b>&#160;<br/>osSetICRReq&#160;<br/></b>This&#160;function&#160;sets&#160;the&#160;interrupt&#160;request&#160;flag&#160;at&#160;specified&#160;destination&#160;address.&#160;Before writing&#160;<br/>the&#160;address&#160;parameter&#160;is checked&#160;to&#160;be&#160;in&#160;valid&#160;range.&#160;The&#160;destination&#160;address&#160;is&#160;<br/>automatically&#160;made&#160;an&#160;odd&#160;address&#160;by&#160;the&#160;function.&#160;<br/>
<b>Prototype&#160;<br/>void osSetICRReq(uint32 addr);&#160;<br/>Parameter&#160;<br/>addr&#160;</b><br/>
destination&#160;address&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint8*)(addr&#160;|&#160;0x01) |= (uint8)0x10;</b>&#160;<br/>
<b>&#160;</b><br/>
<b>osClearICRReq&#160;<br/></b>This&#160;function&#160;clears the&#160;interrupt&#160;request&#160;flag&#160;at&#160;specified&#160;destination&#160;address.&#160;Before&#160;<br/>writing&#160;the&#160;address&#160;parameter is checked&#160;to&#160;be&#160;in&#160;valid&#160;range.&#160;The&#160;destination&#160;address&#160;is&#160;<br/>automatically&#160;made&#160;an&#160;odd&#160;address&#160;by&#160;the&#160;function.&#160;<br/>
<b>Prototype&#160;<br/>void osClearICRReq(uint32 addr);&#160;<br/>Parameter&#160;<br/>addr&#160;</b><br/>
destination&#160;address<b>&#160;</b><br/>
<b>Return Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint8*)(addr&#160;| 0x01) &amp;= (uint8)0xEF;</b>&#160;<br/>
<b>&#160;</b><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>38</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=39></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.3.4&#160;&#160;Read,&#160;Set or Clear&#160;Mask&#160;Bit in&#160;Registers&#160;IMRm&#160;<br/></b>The&#160;mask&#160;bits&#160;in&#160;IMRm&#160;registers can&#160;be&#160;read,&#160;set&#160;and&#160;cleared&#160;by&#160;calling&#160;functions&#160;<br/>osGetIMRmEI,&#160;osSetIMRmEI&#160;and&#160;osClearIMRmEI.&#160;<br/>
<b>osGetIMRmEI&#160;<br/></b>This&#160;function&#160;returns&#160;the&#160;current&#160;value&#160;of&#160;the&#160;mask&#160;bit specified&#160;by&#160;index&#160;(interrupt&#160;<br/>number).&#160;Before&#160;read&#160;access the&#160;index&#160;parameter is checked&#160;to&#160;be&#160;in&#160;the&#160;valid&#160;range.&#160;<br/>
<b>Prototype&#160;<br/>void osGetIMRmEI(uint16 index);&#160;<br/>Parameter&#160;<br/>index&#160;</b><br/>
mask&#160;register&#160;index&#160;<br/>
<b>Return&#160;Code&#160;<br/>uint8&#160;</b><br/>
return&#160;mask&#160;flag&#160;IMRmEIMK&lt;index&gt;&#160;<br/>
<b>Functional&#160;Description&#160;<br/>return (uint8)(IMRmEIMK&lt;index&gt;);</b>&#160;<br/>
<b>osSetIMRmEI&#160;<br/></b>This&#160;function&#160;sets&#160;the&#160;mask&#160;bit&#160;specified&#160;by&#160;index&#160;(interrupt&#160;numer).&#160;&#160;Before write&#160;access&#160;<br/>the&#160;index&#160;parameter is&#160;checked&#160;to&#160;be&#160;in&#160;the&#160;valid&#160;range.&#160;<br/>
<b>Prototype&#160;<br/>void osSetIMRmEI(uint16&#160;index);&#160;<br/>Parameter&#160;<br/>index&#160;</b><br/>
mask&#160;register&#160;index&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>IMRmEIMK&lt;index&gt; = 1;</b>&#160;<br/>
<b>osClearIMRmEI&#160;<br/></b>This&#160;function&#160;clears the&#160;mask bit specified&#160;by&#160;index&#160;(interrupt&#160;number).&#160;Before&#160;write&#160;access&#160;<br/>the&#160;index&#160;parameter is&#160;checked&#160;to&#160;be&#160;in&#160;the&#160;valid&#160;range.&#160;<br/>
<b>Prototype&#160;<br/>void osClearIMRmEI(uint16 index);&#160;<br/>Parameter&#160;<br/>index&#160;</b><br/>
mask&#160;register&#160;index&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>IMRmEIMK&lt;index&gt; = 0;</b>&#160;<br/>
<b>&#160;</b><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>39</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=40></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.3.5&#160;&#160;Write&#160;to Registers&#160;IMRm&#160;<br/></b>The&#160;registers&#160;IMRm&#160;can&#160;be&#160;written&#160;with 1&#160;Byte,&#160;2&#160;Byte and 4&#160;Byte&#160;value&#160;by&#160;calling&#160;functions&#160;<br/>osWriteIMR8,&#160;osWriteIMR16&#160;and osWriteIMR32.&#160;<br/>
<b>osWriteIMR8&#160;<br/></b>Function&#160;osWriteIMR8&#160;writes 1&#160;Byte&#160;to&#160;register&#160;IMRm&#160;specified&#160;by&#160;address.&#160;Before write access&#160;<br/>the&#160;address parameter&#160;is&#160;checked&#160;to&#160;be&#160;in&#160;the&#160;valid range.&#160;<br/>
<b>Prototype&#160;<br/>void osWriteIMR8(uint32&#160;addr, uint8 val);&#160;<br/>Parameter&#160;<br/>addr&#160;</b><br/>
destination&#160;address&#160;<br/>
<b>val&#160;</b><br/>
value&#160;to be&#160;written&#160;at&#160;destination&#160;address&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint8*)addr = (uint8)val;&#160;</b><br/>
<b>osWriteIMR16&#160;<br/></b>This&#160;function&#160;writes 2&#160;Bytes to&#160;register&#160;IMRm&#160;specified&#160;by&#160;address.&#160;Before&#160;write access&#160;the&#160;<br/>address&#160;parameter&#160;is&#160;checked&#160;to&#160;be&#160;in the&#160;valid range.&#160;<br/>
<b>Prototype&#160;<br/>void osWriteIMR16(uint32&#160;addr, uint16&#160;val);&#160;<br/>Parameter&#160;<br/>addr&#160;</b><br/>
destination&#160;address&#160;<br/>
<b>val&#160;</b><br/>
value&#160;to be&#160;written&#160;at&#160;destination&#160;address&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint16*)addr = (uint16)val;&#160;</b><br/>
<b>osWriteIMR32&#160;<br/></b>This&#160;function&#160;writes 4&#160;Bytes to&#160;register&#160;IMRm&#160;specified&#160;by&#160;address.&#160;Before&#160;write access&#160;the&#160;<br/>address&#160;parameter&#160;is&#160;checked&#160;to&#160;be&#160;in the&#160;valid range.&#160;<br/>
<b>Prototype&#160;<br/>void osWriteIMR32(uint32&#160;addr, uint32&#160;val);&#160;<br/>Parameter&#160;<br/>addr&#160;</b><br/>
destination&#160;address&#160;<br/>
<b>val&#160;</b><br/>
value&#160;to be&#160;written&#160;at&#160;destination&#160;address&#160;<br/>
<b>Return&#160;Code&#160;<br/>void&#160;</b><br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/>*(uint32*)addr = (uint32)val;&#160;</b><br/>
<b>&#160;</b><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>40</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=41></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.4&#160;</b><br/>
<b>Hook&#160;Routines&#160;</b><br/>
The&#160;MICROSAR&#160;OS&#160;specification&#160;[3]&#160;allows&#160;implementation&#160;specific&#160;additional&#160;parameters&#160;<br/>in&#160;hook routines.&#160;The&#160;prototypes of&#160;the&#160;hook routines are&#160;described&#160;in&#160;[1].&#160;<br/>The&#160;&#160;contexts&#160;&#160;where&#160;&#160;hook&#160;&#160;routines&#160;&#160;are&#160;&#160;called&#160;&#160;are&#160;&#160;implementation&#160;&#160;specific&#160;&#160;and&#160;&#160;are&#160;<br/>described&#160;below.&#160;All&#160;hook routines are&#160;called&#160;with&#160;disabled&#160;interrupts.&#160;<br/>
<b>9.4.1&#160;&#160;ErrorHook&#160;<br/></b>The&#160;ErrorHook&#160;is&#160;called&#160;if&#160;an&#160;error&#160;is&#160;detected&#160;in&#160;an&#160;API-function&#160;and&#160;if&#160;a&#160;system&#160;error&#160;is&#160;<br/>detected.&#160;The&#160;&#160;ErrorHook&#160;&#160;runs&#160;on&#160;&#160;the&#160;&#160;task&#160;&#160;or&#160;&#160;ISR&#160;&#160;stack&#160;&#160;if&#160;&#160;an&#160;API&#160;&#160;error&#160;&#160;is&#160;&#160;reported&#160;&#160;and&#160;&#160;it&#160;<br/>runs&#160;&#160;on&#160;&#160;the&#160;&#160;system&#160;&#160;stack&#160;&#160;if&#160;&#160;an&#160;&#160;unrecoverable&#160;&#160;system&#160;&#160;error&#160;&#160;is&#160;&#160;reported.&#160;&#160;Interrupts&#160;&#160;are&#160;<br/>disabled&#160;and&#160;CPU runs in&#160;supervisor mode.&#160;<br/>
<b>9.4.2&#160;&#160;StartupHook&#160;<br/></b>The&#160;StartupHook&#160;runs&#160;always&#160;on&#160;the&#160;system&#160;stack.&#160;Interrupts&#160;are&#160;disabled&#160;and&#160;CPU&#160;runs&#160;<br/>in&#160;supervisor mode.&#160;<br/>
<b>9.4.3&#160;&#160;ShutdownHook&#160;<br/></b>SC1:&#160;&#160;The&#160;&#160;ShutdownHook&#160;&#160;runs&#160;&#160;on&#160;&#160;the&#160;&#160;stack&#160;&#160;of&#160;&#160;the&#160;&#160;task&#160;&#160;or&#160;&#160;ISR&#160;&#160;which&#160;&#160;has&#160;&#160;called&#160;<br/>ShutdownOS().&#160;EI&#160;level interrupts are&#160;disabled.&#160;<br/>SC3&#160;and&#160;SC4:&#160;The&#160;ShutdownHook&#160;runs&#160;always&#160;on&#160;the&#160;system&#160;stack.&#160;EI&#160;level&#160;interrupts&#160;are&#160;<br/>disabled&#160;and&#160;the&#160;CPU&#160;runs in&#160;supervisor mode.&#160;<br/>
<b>9.4.4&#160;&#160;PreTaskHook&#160;<br/></b>The&#160;PreTaskHook&#160;runs&#160;always&#160;on&#160;the&#160;system&#160;stack.&#160;Interrupts&#160;are&#160;disabled&#160;and&#160;CPU&#160;runs&#160;<br/>in&#160;supervisor mode.&#160;<br/>
<b>9.4.5&#160;&#160;PostTaskHook&#160;<br/></b>The&#160;PostTaskHook&#160;runs&#160;on&#160;the&#160;task&#160;stack&#160;or&#160;on&#160;the&#160;system&#160;stack.&#160;Interrupts&#160;are&#160;disabled&#160;<br/>and&#160;CPU&#160;runs in&#160;supervisor mode.&#160;<br/>
<b>9.4.6&#160;&#160;PreAlarmHook&#160;(SC1&#160;only)&#160;<br/></b>When&#160;&#160;entering&#160;&#160;the&#160;&#160;ISR&#160;&#160;<i>“osTimerInterrupt”</i>&#160;&#160;there&#160;&#160;is&#160;&#160;a&#160;&#160;call&#160;&#160;of&#160;&#160;the&#160;&#160;PreAlarmHook&#160;&#160;when&#160;&#160;the&#160;<br/>corresponding&#160;configuration&#160;switch&#160;is&#160;set.&#160;The&#160;user&#160;has&#160;to&#160;take&#160;care for&#160;the&#160;implementation&#160;<br/>of&#160;this routine.&#160;Please&#160;implement&#160;this hook routine&#160;as&#160;follows:&#160;<br/><i>void PreAlarmHook(void)&#160;<br/>{&#160;<br/>&#160; &#160;/*&#160;user specific code&#160;*/&#160;<br/>}&#160;</i><br/>
The&#160;Hook&#160;Routine&#160;is&#160;called&#160;before&#160;incrementing&#160;the&#160;system&#160;counter&#160;and&#160;before&#160;handling&#160;<br/>all&#160;alarms!&#160;The&#160;Hook Routine&#160;runs&#160;on&#160;system&#160;stack.&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>41</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=42></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.4.7&#160;&#160;ISRHooks&#160;(SC1&#160;only)&#160;<br/></b>The&#160;&#160;ISRHooks&#160;&#160;–&#160;&#160;UserPreISRHook&#160;&#160;and&#160;&#160;UserPostISRHook&#160;&#160;–&#160;&#160;run&#160;&#160;on&#160;&#160;the&#160;&#160;system&#160;&#160;stack.&#160;&#160;If&#160;<br/>EnableNesting&#160;&#160;is&#160;&#160;set&#160;&#160;to&#160;&#160;TRUE&#160;&#160;for&#160;&#160;the&#160;&#160;respective&#160;&#160;ISR,&#160;&#160;these&#160;&#160;hooks&#160;&#160;run&#160;&#160;with&#160;&#160;interrupts&#160;<br/>enabled;&#160;&#160;otherwise&#160;&#160;they&#160;&#160;run&#160;&#160;with&#160;&#160;interrupts&#160;&#160;disabled..&#160;&#160;For&#160;&#160;a&#160;&#160;more&#160;&#160;detailed&#160;&#160;description&#160;&#160;of&#160;<br/>these&#160;hooks see&#160;[3].&#160;<br/>&#160;<br/><b>9.4.8&#160;&#160;Callbacks&#160;(SC1&#160;only)&#160;<br/></b>Callbacks&#160;run&#160;on&#160;the&#160;stack&#160;of&#160;the&#160;entity&#160;that&#160;led&#160;to&#160;their&#160;activation.&#160;E.g.&#160;if&#160;an&#160;alarm&#160;callback&#160;<br/>is&#160;activated&#160;through&#160;a&#160;call&#160;to&#160;IncrementCounter()&#160;by&#160;a&#160;task,&#160;it&#160;runs&#160;on&#160;this&#160;tasks&#160;stack.&#160;&#160;If&#160;&#160;<br/>IncrementCounter()&#160;&#160;&#160;&#160;was&#160;&#160;&#160;&#160;called&#160;&#160;&#160;&#160;by&#160;&#160;&#160;&#160;an&#160;&#160;&#160;&#160;interrupt&#160;&#160;&#160;&#160;(for&#160;&#160;&#160;&#160;example&#160;&#160;&#160;&#160;the&#160;&#160;&#160;&#160;system&#160;&#160;&#160;&#160;timer&#160;<br/>interrupt), the&#160;Callback&#160;runs onthe&#160;corresponding&#160;ISR stack.&#160;<br/>
<b>9.4.9&#160;&#160;ProtectionHook&#160;(SC3&#160;and SC4)&#160;<br/></b>The&#160;ProtectionHook&#160;is&#160;called&#160;if&#160;a&#160;memory&#160;protection&#160;or&#160;privileged&#160;instruction&#160;violation&#160;was&#160;<br/>detected.&#160;&#160;It&#160;&#160;runs&#160;&#160;always&#160;&#160;on&#160;&#160;the&#160;&#160;system&#160;&#160;stack.&#160;&#160;Interrupts&#160;&#160;are&#160;&#160;disabled&#160;&#160;and&#160;&#160;CPU&#160;&#160;runs&#160;&#160;in&#160;<br/>supervisor mode.&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>42</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=43></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.5&#160;Functions&#160;for&#160;MPU functionality&#160;checks&#160;<br/></b>The&#160;OS&#160;provides 2&#160;functions which&#160;can&#160;be&#160;called&#160;to&#160;check&#160;the&#160;functionality&#160;of&#160;the&#160;MPU.&#160;<br/>&#160;<br/><b>9.5.1&#160;&#160;Function osCheckMPUAccess&#160;<br/></b>Function&#160;osCheckMPUAccess can&#160;be&#160;called&#160;to&#160;check&#160;the&#160;current&#160;MPU protection&#160;settings.&#160;<br/>
<b>Prototype&#160;</b><br/>
<b>uint8 osCheckMPUAccess(const&#160;uint8* addr)&#160;</b><br/>
<b>Parameter&#160;</b><br/>
<b>addr&#160;</b><br/>
The&#160;address&#160;to&#160;be checked&#160;for&#160;read and&#160;write access&#160;<br/>
<b>Return&#160;Type&#160;</b><br/>
0&#160;=&#160;E_OK:&#160;read and&#160;write&#160;access&#160;to&#160;given&#160;address&#160;is&#160;possible&#160;<br/>
<b>uint8&#160;</b><br/>
1&#160;=&#160;E_OS_ACCESS:&#160;access&#160;to&#160;given&#160;address&#160;has&#160;caused&#160;memory&#160;protection violation&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
&#160;&#160;disable&#160;interrupts&#160;<br/>&#160;&#160;call&#160;internal&#160;function osAsmCheckMPU to&#160;check&#160;read and&#160;write access&#160;to&#160;destination&#160;address&#160;&#160;<br/>&#160;&#160;store the return&#160;value of&#160;internal&#160;function&#160;osAsmCheckMPU&#160;into&#160;local&#160;variable&#160;<br/>&#160;&#160;restore previous&#160;interrupt&#160;state&#160;<br/>&#160;&#160;return&#160;with&#160;given&#160;return&#160;value&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
The&#160;internal&#160;function&#160;osAsmCheckMPU&#160;first reads&#160;1&#160;byte from&#160;the destination&#160;address&#160;and then&#160;writes&#160;<br/>this&#160;value&#160;back&#160;to&#160;the destination&#160;address. If&#160;read&#160;and&#160;write&#160;access&#160;is&#160;possible the&#160;value&#160;on&#160;the&#160;given&#160;<br/>destination&#160;address&#160;is&#160;not changed.&#160;If&#160;read or&#160;write&#160;access&#160;is&#160;not&#160;possible then&#160;an&#160;access&#160;violation&#160;is&#160;<br/>detected by&#160;the&#160;MPU&#160;and&#160;a&#160;protection&#160;exception&#160;occurs.&#160;The&#160;protection&#160;exception&#160;handler returns&#160;to&#160;<br/>internal&#160;function&#160;osAsmCheckMPU&#160;with&#160;return&#160;value&#160;=&#160;1.&#160;This&#160;return&#160;value&#160;is&#160;returned to the caller&#160;of&#160;<br/>function&#160;osCheckMPUAccess&#160;to&#160;signal&#160;the&#160;access&#160;violation.&#160;<br/>
<b>Call&#160;Context</b>&#160;<br/>
Not allowed&#160;before call&#160;of&#160;StartOS()&#160;<br/>
Table&#160;5:&#160;Function&#160;osCheckMPUAccess&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>43</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=44></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.5.2&#160;&#160;Function&#160;osCheckAndRefreshMPU&#160;<br/></b>Function&#160;&#160;osCheckAndRefreshMPU&#160;&#160;can&#160;&#160;be&#160;&#160;called&#160;&#160;to&#160;&#160;check&#160;&#160;and&#160;&#160;re-initialize&#160;&#160;all&#160;&#160;MPU&#160;<br/>registers which&#160;are not&#160;reprogrammed&#160;during&#160;runtime.&#160;<br/>
<b>Prototype&#160;</b><br/>
<b>StatusType&#160;osCheckAndRefreshMPU(void)&#160;</b><br/>
<b>Parameter&#160;</b><br/>
<b>-&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Return&#160;Type&#160;</b><br/>
<b>StatusType&#160;&#160;</b>E_OK:&#160;&#160; &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160; &#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;&#160;all&#160;MPU registers&#160;have expected&#160;content&#160;&#160;<br/>
E_OS_SYS_API_ERROR:&#160;&#160;&#160;invalid content&#160;was&#160;detected&#160;in&#160;MPU registers&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
&#160;&#160;checks&#160;all&#160;MPU registers&#160;which are&#160;not&#160;reprogrammed&#160;<br/>&#160;&#160;re-initialize&#160;all&#160;MPU registers&#160;which are not reprogrammed&#160;<br/>&#160;&#160;returns&#160;E_OK&#160;if&#160;all&#160;MPU registers&#160;have&#160;expected content&#160;<br/>&#160;&#160;returns&#160;E_OS_SYS_API_ERROR&#160;if&#160;invalid content&#160;was&#160;detected in&#160;MPU registers&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
-&#160;&#160;&#160;<br/>
<b>Call&#160;Context</b>&#160;<br/>
&#160;&#160;Call&#160;is&#160;only&#160;allowed&#160;after&#160;StartOS()&#160;<br/>&#160;&#160;Call&#160;is&#160;only&#160;allowed by&#160;trusted&#160;applications&#160;<br/>
Table&#160;6:&#160;Function&#160;osCheckAndRefreshMPU&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>44</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=45></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>9.6&#160;Function for&#160;OSTM&#160;functionality&#160;checks&#160;<br/>9.6.1&#160;&#160;Function&#160;osCheckAndRefreshTimer&#160;<br/></b>Function&#160;osCheckAndRefreshTimer&#160;can&#160;be&#160;called&#160;by&#160;trusted&#160;applications&#160;at&#160;any&#160;time&#160;after&#160;<br/>StartOS&#160;to&#160;check&#160;and&#160;re-initialize&#160;the&#160;register settings of&#160;system&#160;timer OSTM.&#160;<br/>
<b>Prototype&#160;</b><br/>
<b>StatusType&#160;osCheckAndRefreshTimer(void)&#160;</b><br/>
<b>Parameter&#160;</b><br/>
<b>-&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Return&#160;Type&#160;</b><br/>
<b>StatusType&#160;&#160;</b>E_OK:&#160;&#160; &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160; &#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160;&#160;all&#160;registers&#160;of&#160;OSTM&#160;have expected&#160;content&#160;&#160;<br/>
E_OS_SYS_API_ERROR:&#160;&#160;&#160;invalid&#160;content&#160;was&#160;detected&#160;in&#160;OSTM&#160;register&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
&#160;&#160;check&#160;content of&#160;all&#160;used&#160;OSTM registers&#160;&#160;&#160;<br/>&#160;&#160;re-initialize&#160;all&#160;OSTM registers&#160;which&#160;have&#160;wrong&#160;content&#160;<br/>&#160;&#160;returns&#160;E_OK&#160;if&#160;all&#160;OSTM registers&#160;have expected&#160;content&#160;<br/>&#160;&#160;returns&#160;E_OS_SYS_API_ERROR&#160;if&#160;invalid&#160;content&#160;was&#160;detected in&#160;OSTM registers&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
-&#160;&#160;&#160;<br/>
<b>Call&#160;Context</b>&#160;<br/>
&#160;&#160;Call&#160;is&#160;only&#160;allowed&#160;after&#160;StartOS()&#160;<br/>&#160;&#160;Call&#160;is&#160;only&#160;allowed by&#160;trusted&#160;applications&#160;<br/>
Table&#160;7:&#160;Function&#160;osCheckAndRefreshTimer&#160;<br/>
&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>45</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=46></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>10&#160;&#160;Non-Trusted&#160;Functions&#160;(SC3&#160;and&#160;SC4)&#160;</b><br/>
Non-trusted&#160;functions&#160;are&#160;a&#160;VECTOR&#160;extension&#160;to&#160;&#160;the&#160;AUTOSAR&#160;OS&#160;specification.&#160;This&#160;concept&#160;<br/>allows&#160;&#160;non-trusted&#160;&#160;applications&#160;to&#160;provide&#160;&#160;interface&#160;functions&#160;&#160;which&#160;might&#160;&#160;be&#160;&#160;called&#160;&#160;by&#160;&#160;trusted&#160;&#160;or&#160;<br/>non-trusted&#160;tasks&#160;and&#160;ISRs.&#160;<br/>
<b>10.1&#160;&#160;Functionality&#160;<br/></b>Non-trusted&#160;functions&#160;can&#160;be&#160;used&#160;to&#160;provide&#160;service&#160;functions&#160;by&#160;non-trusted&#160;applications.&#160;Non-<br/>trusted&#160;functions&#160;are&#160;called&#160;with&#160;memory&#160;access&#160;rights&#160;and&#160;service&#160;protection&#160;rights&#160;of&#160;the&#160;owner&#160;<br/>application,&#160;independent&#160;from&#160;the&#160;access&#160;rights&#160;of&#160;the&#160;caller.&#160;These&#160;functions&#160;can&#160;access&#160;local&#160;data&#160;<br/>of&#160;the&#160;owner&#160;application&#160;without&#160;the&#160;possibility&#160;to overwrite data of&#160;other&#160;applications.&#160;<br/>
The&#160;&#160;caller&#160;&#160;might&#160;&#160;be&#160;&#160;a&#160;&#160;task&#160;&#160;of&#160;&#160;a&#160;&#160;trusted&#160;&#160;application&#160;&#160;with&#160;&#160;global&#160;&#160;memory&#160;&#160;access,&#160;&#160;developed&#160;<br/>according&#160;to&#160;high&#160;safety&#160;standards.&#160;The&#160;called&#160;non-trusted&#160;function&#160;might&#160;be&#160;developed&#160;according&#160;<br/>to&#160;lower&#160;standards&#160;but&#160;is&#160;not&#160;able&#160;to&#160;access&#160;any&#160;other&#160;memory&#160;than&#160;limited&#160;accessible&#160;memory&#160;of&#160;<br/>the&#160;&#160;non-trusted&#160;&#160;owner&#160;&#160;application.&#160;&#160;During&#160;&#160;the&#160;&#160;call,&#160;&#160;the&#160;&#160;non-trusted&#160;&#160;function&#160;&#160;is&#160;&#160;executed&#160;&#160;on&#160;&#160;a&#160;<br/>separate stack,&#160;isolated&#160;from&#160;the&#160;caller&#160;stack&#160;by&#160;the MPU.&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>46</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Os/doc/TechnicalReference_MICROSAROS_RH850-47_1.png"/><br/>
Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>10.2&#160;&#160;API&#160;</b><br/>
<b>Prototype&#160;</b><br/>
StatusType osCallNonTrustedFunction(NonTrustedFunctionIndexType FunctionIndex,&#160;<br/>
NonTrustedFunctionParameterRefType FunctionParams);&#160;<br/>
<b>Parameter&#160;</b><br/>
FunctionIndex&#160;<br/>
Index&#160;of&#160;the function to&#160;be&#160;called.&#160;<br/>
FunctionParams&#160;<br/>
Pointer&#160;to the parameters&#160;for&#160;the function&#160;to be called.&#160;If&#160;no&#160;parameters&#160;are provided,&#160;<br/>a NULL&#160;pointer has&#160;to be&#160;passed.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
No error&#160;<br/>
E_OS_SERVICEID&#160;&#160;No function defined&#160;for this&#160;index&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Executes&#160;the non-trusted function&#160;referenced&#160;by&#160;FunctionIndex&#160;and passes&#160;argument FunctionParams.&#160;<br/>The&#160;non-trusted&#160;function&#160;must conform&#160;to&#160;the following&#160;C prototype:&#160;<br/>void NONTRUSTED_&lt;name of the non-trusted function(NonTrustedFunctionIndexType,&#160;<br/>NonTrustedFunctionParameterRefType);&#160;<br/>
The&#160;arguments&#160;are the same as&#160;the arguments&#160;of&#160;CallNonTrustedFunction.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>The&#160;non-trusted&#160;function&#160;is&#160;called in&#160;user&#160;mode&#160;with&#160;memory&#160;protection enabled&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;has&#160;memory&#160;access&#160;rights&#160;of&#160;the owner application&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;has&#160;the service protection&#160;rights&#160;of&#160;the owner&#160;application&#160;<br/>
Call&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task, CAT2 ISR, trusted function, non-trusted&#160;function&#160;<br/>
Table&#160;8&#160;API&#160;CallNonTrustedFunction&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Vector&#160;MICROSAR&#160;OS&#160;implementations&#160;offer&#160;the&#160;possibility&#160;of&#160;stub&#160;function&#160;generation&#160;<br/>
&#160;&#160;for&#160;trusted&#160;functions.&#160;This&#160;mechanism&#160;is&#160;<b>not</b>&#160;available&#160;for&#160;non-trusted&#160;functions.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>47</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=48></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>10.3&#160;&#160;Call&#160;Context&#160;</b><br/>
The&#160;following&#160;table&#160;shows&#160;the&#160;API&#160;functions&#160;callable&#160;from&#160;non-trusted&#160;functions.&#160;<br/>
<b>API&#160;Functions&#160;</b><br/>
<b>Call&#160;allowed&#160;</b><br/>
<b>API&#160;Functions&#160;</b><br/>
<b>Call&#160;allowed&#160;</b><br/>
ActivateTask&#160;<br/>
X&#160;<br/>
GetTaskID&#160;<br/>
X&#160;<br/>
TerminateTask&#160;<br/>
DC&#160;<br/>
GetTaskState&#160;<br/>
X&#160;<br/>
ChainTask&#160;<br/>
DC&#160;<br/>
StartOS&#160;<br/>
-&#160;<br/>
Schedule&#160;<br/>
DC&#160;<br/>
ShutdownOS&#160;<br/>
-&#160;<br/>
DisableAllInterrupts&#160;<br/>
P&#160;<br/>
GetApplicationID&#160;<br/>
X&#160;<br/>
EnableAllInterrupts&#160;<br/>
P&#160;<br/>
GetActiveApplicationMode&#160;<br/>
X&#160;<br/>
SuspendAllInterrupts&#160;<br/>
P&#160;<br/>
GetISRID&#160;<br/>
X&#160;<br/>
ResumeAllInterrupts&#160;<br/>
P&#160;<br/>
CallTrustedFunction&#160;<br/>
X&#160;<br/>
SuspendOSInterrupts&#160;<br/>
P&#160;<br/>
CallNonTrustedFunction&#160;<br/>
X&#160;<br/>
ResumeOSInterrupts&#160;<br/>
P&#160;<br/>
CheckObjectAccess&#160;<br/>
X&#160;<br/>
GetResource&#160;<br/>
X&#160;<br/>
CheckObjectOwnership&#160;<br/>
X&#160;<br/>
ReleaseResource&#160;<br/>
X&#160;<br/>
StartScheduleTableRel&#160;<br/>
X&#160;<br/>
SetEvent&#160;<br/>
X&#160;<br/>
StartScheduleTableAbs&#160;<br/>
X&#160;<br/>
ClearEvent&#160;<br/>
DC&#160;<br/>
StopScheduleTable&#160;<br/>
X&#160;<br/>
GetEvent&#160;<br/>
X&#160;<br/>
NextScheduleTable&#160;<br/>
X&#160;<br/>
WaitEvent&#160;<br/>
DC&#160;<br/>
StartScheduleTableSynchron&#160;<br/>
X&#160;<br/>
GetAlarm&#160;<br/>
X&#160;<br/>
SyncScheduleTable&#160;<br/>
X&#160;<br/>
SetRelAlarm&#160;<br/>
X&#160;<br/>
GetScheduleTableStatus&#160;<br/>
X&#160;<br/>
SetAbsAlarm&#160;<br/>
X&#160;<br/>
SetScheduleTableAsync&#160;<br/>
X&#160;<br/>
CancelAlarm&#160;<br/>
X&#160;<br/>
IncrementCounter&#160;<br/>
X&#160;<br/>
&#160;<br/>Abbreviations:&#160;<br/>
&#160;<br/>
X:&#160;<br/>
Allowed&#160;<br/>
&#160;<br/>
DC:&#160;&#160;Dependent&#160;on&#160;caller.&#160;Allowed&#160;if&#160;called&#160;from&#160;task,&#160;not&#160;allowed&#160;from&#160;ISR&#160;<br/>
&#160;&#160;P:&#160;<br/>
Pairwise,&#160;&#160;when&#160;&#160;interrupts&#160;&#160;are&#160;&#160;disabled&#160;&#160;within&#160;&#160;the&#160;&#160;(trusted/non-trusted)&#160;&#160;function,&#160;<br/>they&#160;need&#160;to&#160;be&#160;re-enabled&#160;within the&#160;same&#160;function&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>48</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=49></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>10.3.1&#160;&#160;Example&#160;<br/></b>Non-trusted&#160;functions&#160;have to be&#160;defined and&#160;called&#160;as&#160;followed:&#160;<br/>&#160;<br/>Example for&#160;calling&#160;a&#160;non-trusted&#160;function&#160;(configured&#160;function&#160;name&#160;=&#160;MyNTF used&#160;as&#160;index&#160;<br/>number):&#160;<br/>&#160;<br/><b>TASK(Task1)&#160;<br/>{&#160;&#160;&#160;<br/>&#160; &#160;MyNTFParametersStruct&#160;callArg;&#160;<br/>&#160;&#160;&#160;callArg.a = 2;&#160;<br/>&#160;&#160;&#160;CallNonTrustedFunction(&#160;MyNTF, (NonTrustedFunctionParameterRefType)&#160;<br/>(&amp;callArg));&#160;<br/>}&#160;<br/></b>&#160;<br/>Definition&#160;and&#160;prototype&#160;of&#160;the&#160;non-trusted&#160;function must&#160;have&#160;the&#160;prefix&#160;<b>NONTRUSTED_&#160;</b>:&#160;<br/>&#160;<br/><b>void&#160;NONTRUSTED_MyNTF&#160;(NonTrustedFunctionIndexType&#160;idx,&#160;<br/>NonTrustedFunctionParameterRefType&#160;&#160;param)&#160;<br/>{&#160;<br/>&#160;&#160;&#160;&#160;if( ((MyNTFParametersStruct&#160;*) param)-&gt;a == 2)&#160;<br/>&#160;&#160;&#160;&#160;{&#160;<br/>&#160; &#160;&#160;&#160;&#160; &#160;&#160;/* do something */&#160;<br/>&#160; &#160;&#160;}&#160;&#160;<br/>}&#160;<br/></b>&#160;<br/>&#160;<br/>The&#160;non-trusted&#160;function&#160;parameters&#160;must&#160;be&#160;declared&#160;via typedef&#160;struct:&#160;<br/>&#160;<br/><b>typedef struct&#160;<br/>{&#160;<br/>&#160;&#160;&#160; &#160;unsigned char a;&#160;<br/>}&#160;MyNTFParametersStruct;&#160;<br/></b>&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>49</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Os/doc/TechnicalReference_MICROSAROS_RH850-50_1.jpg"/><br/>
Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>11&#160;&#160;Multicore&#160;</b><br/>
This&#160;OS&#160;implements&#160;the&#160;Autosar&#160;OS&#160;Multi&#160;Core&#160;feature&#160;according&#160;to&#160;Autosar&#160;specification&#160;<br/>4.0.3.&#160;<br/>
<b>11.1&#160;&#160;Configuration&#160;<br/></b>Each&#160;application&#160;has&#160;to&#160;be&#160;assigned&#160;to&#160;a&#160;core.&#160;This&#160;is&#160;done&#160;with&#160;the&#160;application&#160;attribute&#160;<br/>“CORE”.&#160;<br/>Since&#160;each&#160;configuration&#160;object&#160;has&#160;to&#160;be&#160;assigned&#160;to&#160;an&#160;application&#160;the&#160;core&#160;assignment&#160;<br/>of&#160;the&#160;object&#160;is implicitly&#160;done&#160;with&#160;the&#160;application&#160;assignment.&#160;<br/>&#160;<br/><b>11.1.1&#160;&#160;Core&#160;IDs&#160;<br/></b>The&#160;&#160;physical&#160;&#160;core&#160;&#160;ID&#160;&#160;which&#160;&#160;is&#160;&#160;provided&#160;&#160;in&#160;&#160;hardware&#160;&#160;register&#160;&#160;HTCFG0&#160;&#160;differs&#160;&#160;from&#160;&#160;the&#160;<br/>logical core ID used&#160;by&#160;the&#160;OS&#160;internally,&#160;which&#160;is returned&#160;by&#160;GetCoreID().&#160;<br/>
<b>&#160;</b><br/>
CPU1 (PE1)&#160;&#160;CPU2 (PE2)&#160;<br/>
Physical&#160;core ID&#160;<br/>
1&#160;<br/>
2&#160;<br/>
Logical&#160;core&#160;ID&#160;<br/>
0&#160;<br/>
1&#160;<br/>
Table&#160;9:&#160;Mapping&#160;of&#160;physical&#160;and&#160;logical&#160;core&#160;ID&#160;<br/>&#160;<br/>
<b>11.2&#160;&#160;Multi-Core&#160;start-up&#160;<br/></b>As immediately&#160;after reset&#160;both&#160;cores&#160;begin&#160;execution,&#160;the&#160;master-slave&#160;startup&#160;behavior is&#160;<br/>emulated&#160;&#160;in&#160;&#160;software.&#160;&#160;Therefore,&#160;&#160;a&#160;&#160;handshake&#160;&#160;synchronization&#160;&#160;is&#160;&#160;performed&#160;&#160;by&#160;&#160;calling&#160;<br/>osInitMultiCoreOS()&#160;&#160;on&#160;&#160;PE1&#160;&#160;and&#160;&#160;calling&#160;&#160;osInitSlaveCore()&#160;&#160;on&#160;&#160;PE2.&#160;&#160;It&#160;&#160;is&#160;&#160;not&#160;<br/>allowed&#160;to&#160;use&#160;any&#160;other&#160;API&#160;function&#160;before&#160;this initial synchronization&#160;step&#160;is&#160;done.&#160;<br/>
By&#160;calling&#160;osInitMultiCoreOS()&#160;PE1&#160;initializes&#160;the&#160;multi-core&#160;OS&#160;related&#160;variables&#160;and&#160;<br/>synchronizes&#160;with&#160;PE2.&#160;By&#160;calling&#160;osInitSlaveCore()&#160;PE2&#160;synchronizes&#160;with&#160;PE1&#160;and&#160;<br/>resides&#160;&#160;in&#160;&#160;a&#160;&#160;busy&#160;&#160;waiting&#160;&#160;state,&#160;&#160;until&#160;&#160;it&#160;&#160;is&#160;&#160;started&#160;&#160;by&#160;&#160;StartCore()&#160;&#160;or&#160;<br/>StartNonAutosarCore().&#160;If&#160;only&#160;PE2&#160;should&#160;be&#160;controlled&#160;by&#160;the&#160;OS,&#160;then&#160;PE2&#160;has&#160;to&#160;<br/>call&#160;osInitMultiCoreOS()&#160;after&#160;osInitSlaveCore().&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;hardware&#160;register&#160;<b>OSTM0_CMP</b>&#160;&#160;is&#160;used&#160;for&#160;synchronization&#160;purpose.&#160;<br/>
<b>&#160;&#160;</b>Therefore,<b>&#160;OSTM0_CMP</b>&#160;must&#160;not&#160;be&#160;modified&#160;before&#160;initial&#160;synchronization.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;The&#160;following&#160;chapters provide&#160;code&#160;examples&#160;for the&#160;multi-core&#160;startup.&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>50</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=51></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>11.2.1&#160;&#160;Both PEs&#160;controlled&#160;by&#160;OS&#160;</b><br/>
<b>void</b>&#160;main()&#160;<br/>{&#160;<br/>&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
<b>switch</b>(GetCoreID())&#160;<br/>
&#160;<br/>
{&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>case</b>&#160;OS_CORE_ID_0:&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
osInitMultiCoreOS();&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
StartCore(OS_CORE_ID_1);&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
StartOS(OSDEFAULTAPPMODE);&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>break</b>;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>case</b>&#160;OS_CORE_ID_1:&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
osInitSlaveCore();&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
StartOS(OSDEFAULTAPPMODE);&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>break</b>;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>default</b>:&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>break</b>;&#160;<br/>
&#160;<br/>
}&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
}&#160;<br/>&#160;<br/>
<b>11.2.2&#160;&#160;Only&#160;PE1&#160;controlled&#160;by&#160;OS&#160;</b><br/>
<b>void</b>&#160;main()&#160;<br/>{&#160;<br/>&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
<b>switch</b>(GetCoreID())&#160;<br/>
&#160;<br/>
{&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>case</b>&#160;OS_CORE_ID_0:&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
osInitMultiCoreOS();&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
StartNonAutosarCore(OS_CORE_ID_1);&#160;&#160;&#160;&#160;/* may&#160;be called later */&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
StartOS(OSDEFAULTAPPMODE);&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>break</b>;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>case</b>&#160;OS_CORE_ID_1:&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
osInitSlaveCore();&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>break</b>;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>default</b>:&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>break</b>;&#160;<br/>
&#160;<br/>
}&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
}&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>51</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=52></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>11.2.3&#160;&#160;Only&#160;PE2&#160;controlled&#160;by&#160;OS&#160;</b><br/>
<b>void</b>&#160;main()&#160;<br/>{&#160;<br/>&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
<b>switch</b>(GetCoreID())&#160;<br/>
&#160;<br/>
{&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>case</b>&#160;OS_CORE_ID_0:&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
osInitMultiCoreOS();&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
StartCore(OS_CORE_ID_1);&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>break</b>;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>case</b>&#160;OS_CORE_ID_1:&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
osInitSlaveCore();&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
osInitMultiCoreOS();&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
StartNonAutosarCore(OS_CORE_ID_0);&#160;&#160;&#160;&#160;/*&#160;adjusts&#160;the state of PE1*/&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
StartOS(OSDEFAULTAPPMODE);&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>break</b>;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>default</b>:&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>break</b>;&#160;<br/>
&#160;<br/>
}&#160;<br/>
&#160;<br/>
[…]&#160;<br/>
}&#160;<br/>
&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>52</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=53></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>12&#160;&#160;Timing&#160;Protection&#160;(SC4)&#160;</b><br/>
MICROSAR OS&#160;RH850&#160;SC4&#160;provides timing&#160;protection&#160;by&#160;using&#160;timer unit&#160;TAUJ0:&#160;<br/>TAUJ0&#160;&#160;timer channel&#160;0&#160;is used&#160;for inter arrival time&#160;monitoring.&#160;<br/>TAUJ0&#160;timer channel 1&#160;is used&#160;for&#160;execution&#160;time&#160;monitoring.&#160;<br/>TAUJ0&#160;timer channel 2&#160;is used&#160;for blocking&#160;time&#160;monitoring.&#160;<br/>TAUJ0&#160;timer channel 3&#160;is not&#160;used&#160;and&#160;therefore disabled.&#160;<br/>TAUJ0&#160;timer channels&#160;0,&#160;1&#160;and&#160;2&#160;are initialized&#160;with&#160;interrupt&#160;priority&#160;level 0.&#160;<br/>&#160;<br/>
<b>12.1&#160;&#160;Configuration&#160;Attributes&#160;<br/></b>The&#160;common&#160;SC4&#160;attributes&#160;are&#160;described&#160;in&#160;the&#160;general MICROSAR OS&#160;manual.&#160;<br/><b>RH850&#160;specific&#160;SC4&#160;attributes&#160;<br/></b>OS&#160;attribute&#160;<i>TimingProtectionTimerClock</i>&#160;must&#160;be&#160;specified&#160;in&#160;[kHz]&#160;by&#160;user:&#160;&#160;<br/>Example:&#160;If&#160;the&#160;peripheral clock&#160;of&#160;TAUJ0&#160;is&#160;20&#160;MHz&#160;then&#160;set&#160;<br/><i>TimingProtectionTimerClock =&#160;20000&#160;<br/></i>&#160;<br/>
<b>12.2&#160;&#160;Restrictions&#160;for SC4&#160;Configurations&#160;<br/></b>MICROSAR OS&#160;RH850&#160;has&#160;the&#160;following&#160;restrictions&#160;for SC configurations:&#160;<br/>
&#160;<br/>
It&#160;is not&#160;allowed&#160;to&#160;use&#160;category&#160;1&#160;ISRs&#160;<br/>
&#160;<br/>
It&#160;is not&#160;allowed&#160;to&#160;configure category&#160;2&#160;ISRs&#160;with&#160;priority&#160;level 0&#160;<br/>
&#160;<br/>
It&#160;is not&#160;allowed&#160;to&#160;modify&#160;any&#160;register of&#160;unit&#160;TAUJ0&#160;after calling&#160;StartOS&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>53</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=54></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>13&#160;&#160;Error&#160;Handling&#160;</b><br/>
<b>13.1&#160;&#160;MICROSAR OS&#160;RH850&#160;Error&#160;Numbers&#160;<br/></b>In&#160;&#160;addition&#160;&#160;to&#160;&#160;the&#160;&#160;AUTOSAR&#160;&#160;OS&#160;&#160;error&#160;&#160;numbers&#160;&#160;all&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;implementations&#160;<br/>provide&#160;unique&#160;error&#160;numbers&#160;for&#160;an&#160;exact&#160;error&#160;description.&#160;All&#160;error&#160;numbers&#160;are&#160;defined&#160;<br/>as&#160;&#160;a&#160;&#160;16&#160;&#160;bit&#160;&#160;value.&#160;&#160;The&#160;&#160;error&#160;&#160;numbers&#160;&#160;are&#160;&#160;defined&#160;&#160;in&#160;&#160;the&#160;&#160;header&#160;&#160;file&#160;&#160;osekerr.h&#160;&#160;and&#160;&#160;are&#160;<br/>defined&#160;according&#160;to&#160;the&#160;following&#160;syntax:&#160;<br/>
<b>0xgfee&#160;<br/>&#160;&#160;||+---&#160;consecutive error number&#160;<br/>&#160;&#160;|+----&#160;number of function in the function group&#160;<br/>&#160;&#160;+-----&#160;number of function group&#160;&#160;<br/></b>&#160;<br/>
Error numbers common&#160;for all MICROSAR OS&#160;implementations&#160;are&#160;described&#160;in&#160;[3].&#160;&#160;<br/>&#160;<br/><b>13.1.1&#160;&#160;RH850&#160;specific&#160;Error&#160;Numbers&#160;<br/></b>The&#160;RH850&#160;implementation&#160;specific&#160;error&#160;numbers&#160;have&#160;a&#160;function&#160;group&#160;number&#160;starting&#160;<br/>at&#160;0xA101&#160;and&#160;are described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Name&#160;</b><br/>
<b>Error&#160;</b><br/>
<b>Type&#160;</b><br/>
<b>Reason&#160;</b><br/>
osdErrYOSystemStackOverflow&#160;<br/>
0xA101&#160;&#160;SysCheck&#160;&#160;system&#160;stack&#160;overflow&#160;is&#160;detected&#160;<br/>
osdErrYOTaskStackOverflow&#160;<br/>
0xA102&#160;&#160;SysCheck&#160;&#160;task&#160;stack&#160;overflow&#160;is&#160;detected&#160;<br/>
osdErrYOISRStackOverflow&#160;<br/>
0xA103&#160;&#160;SysCheck&#160;&#160;ISR&#160;stack&#160;overflow&#160;is&#160;detected&#160;<br/>
osdErrSCWrongSysCallParameter&#160;<br/>
0xA201&#160;&#160;SysCheck&#160;&#160;invalid syscall&#160;parameter&#160;is&#160;&#160;used&#160;<br/>
osdErrDPStartValidContext&#160;&#160;&#160;&#160;<br/>
0xA401&#160;&#160;SysCheck&#160;&#160;new&#160;task&#160;is&#160;started&#160;with valid&#160;<br/>
context&#160;<br/>
osdErrDPResumeInvalidContext&#160;<br/>
0xA402&#160;&#160;SysCheck&#160;&#160;preempted&#160;task&#160;is&#160;resumed&#160;with&#160;<br/>
invalid context&#160;<br/>
osdErrDPInvalidTaskIndex&#160;<br/>
0xA403&#160;&#160;SysCheck&#160;&#160;invalid active task&#160;index&#160;<br/>
osdErrDPInvalidApplicationID&#160;<br/>
0xA404&#160;&#160;SysCheck&#160;&#160;invalid active application ID&#160;<br/>
osdErrEXMemoryViolation &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/>
0xA501&#160;&#160;SysCheck&#160;&#160;memory&#160;protection violation&#160;&#160;<br/>
osdErrEXPrivilegedInstruction &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0xA502&#160;&#160;SysCheck&#160;&#160;privileged&#160;instruction&#160;violation&#160;<br/>osdErrSUInvalidTaskIndex&#160;<br/>
0xA601&#160;&#160;SysCheck&#160;&#160;invalid task&#160;index&#160;used in&#160;<br/>
osGetStackUsage&#160;<br/>
osdErrSUInvalidIsrIndex&#160;<br/>
0xA602&#160;&#160;SysCheck&#160;&#160;invalid ISR&#160;index&#160;used in&#160;<br/>
osGetISRStackUsage&#160;<br/>
osdErrSUInvalidIsrPrioLevel&#160;<br/>
0xA603&#160;&#160;SysCheck&#160;&#160;invalid ISR&#160;priority&#160;level&#160;used in&#160;<br/>
osGetISRStackUsage&#160;<br/>
osdErrCIInvalidIsrIndex&#160;<br/>
0xA701&#160;&#160;SysCheck&#160;&#160;CAT2&#160;ISR&#160;wrapper&#160;called with&#160;<br/>
invalid ISR&#160;ID&#160;<br/>
osdErrCIInvalidIsrPrioLevel&#160;<br/>
0xA702&#160;&#160;SysCheck&#160;&#160;invalid ISR&#160;priority&#160;level&#160;used in&#160;<br/>
CAT2&#160;ISR&#160;wrapper&#160;<br/>
osdErrCIInvalidApplicationID&#160;<br/>
0xA703&#160;&#160;SysCheck&#160;&#160;invalid application ID&#160;used in&#160;<br/>
CAT2&#160;ISR&#160;wrapper&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>54</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=55></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>Name&#160;</b><br/>
<b>Error&#160;</b><br/>
<b>Type&#160;</b><br/>
<b>Reason&#160;</b><br/>
osdErrCIMissingIntRequest&#160;<br/>
0xA704&#160;&#160;SysCheck&#160;&#160;Missing&#160;interrupt&#160;request&#160;<br/>
osdErrCIInterruptIsMasked&#160;<br/>
0xA705&#160;&#160;SysCheck&#160;&#160;Interrupt&#160;is&#160;masked&#160;<br/>
osdErrCIWrongIntPriority&#160;<br/>
0xA706&#160;&#160;SysCheck&#160;&#160;Wrong&#160;interrupt&#160;priority&#160;<br/>
osdErrPIGetIMRInvalidIndex&#160;<br/>
0xA801&#160;&#160;SysCheck&#160;&#160;invalid IMR&#160;index&#160;used in&#160;<br/>
osGetIMR&#160;<br/>
osdErrPISetIMRInvalidIndex&#160;&#160;&#160;<br/>
0xA802&#160;&#160;SysCheck&#160;&#160;invalid IMR&#160;index&#160;used in&#160;<br/>
osSetIMR&#160;<br/>
osdErrPIClearIMRInvalidIndex&#160;<br/>
0xA803&#160;&#160;SysCheck&#160;&#160;invalid IMR&#160;index&#160;used in&#160;<br/>
osClearIMR&#160;<br/>
osdErrPIWriteIMR8InvalidAddr&#160;&#160;&#160;&#160;<br/>
0xA804&#160;&#160;SysCheck&#160;&#160;invalid IMR&#160;address&#160;used in&#160;<br/>
&#160;<br/>
osWriteIMR8&#160;<br/>
osdErrPIWriteIMR16InvalidAddr&#160;&#160;&#160;<br/>
0xA805&#160;&#160;SysCheck&#160;&#160;invalid IMR&#160;address&#160;used in&#160;<br/>
&#160;<br/>
osWriteIMR16&#160;<br/>
osdErrPIWriteIMR32InvalidAddr&#160;<br/>
0xA806&#160;&#160;SysCheck&#160;&#160;invalid IMR&#160;address&#160;used in&#160;<br/>
osWriteIMR32&#160;<br/>
osdErrPISetICRMaskInvalidAddr&#160;<br/>
0xA807&#160;&#160;SysCheck&#160;&#160;invalid ICR&#160;address&#160;used&#160;in&#160;<br/>
osSetICRMask&#160;<br/>
osdErrPIClearICRMaskInvalidAddr&#160;<br/>
0xA808&#160;&#160;SysCheck&#160;&#160;invalid ICR&#160;address&#160;used&#160;in&#160;<br/>
osClearICRMask&#160;<br/>
osdErrPISetICRReqInvalidAddr&#160;<br/>
0xA809&#160;&#160;SysCheck&#160;&#160;invalid ICR&#160;address&#160;used&#160;in&#160;<br/>
osSetICRReq&#160;<br/>
osdErrPIClearICRReqInvalidAddr&#160;<br/>
0xA80A&#160;&#160;SysCheck&#160;&#160;invalid ICR&#160;address&#160;used&#160;in&#160;<br/>
osClearICRReq&#160;<br/>
osdErrPIWriteICR8InvalidAddr&#160;<br/>
0xA80B&#160;&#160;SysCheck&#160;&#160;invalid ICR&#160;address&#160;used&#160;in&#160;<br/>
osWriteICR8&#160;<br/>
osdErrPIWriteICR16InvalidAddr&#160;&#160;&#160;<br/>
0xA80C&#160;&#160;SysCheck&#160;&#160;invalid ICR&#160;address&#160;used&#160;in&#160;<br/>
osWriteICR16&#160;<br/>
osdErrPIWriteICRxLoInvalidIndex&#160;<br/>
0xA80D&#160;&#160;SysCheck&#160;&#160;invalid ICR&#160;index&#160;used in&#160;<br/>
osWriteICRxLo&#160;<br/>
osdErrPIWriteICRxHiInvalidIndex&#160;<br/>
0xA80E&#160;&#160;SysCheck&#160;&#160;invalid ICR&#160;index&#160;used in&#160;<br/>
osWriteICRxHi&#160;<br/>
osdErrPIWriteICRx16InvalidIndex&#160;<br/>
0xA80F&#160;&#160;SysCheck&#160;&#160;invalid ICR&#160;index&#160;used in&#160;<br/>
osWriteICRx16&#160;<br/>
osdErrCRInvalidSettingOSTM&#160;<br/>
0xA901&#160;&#160;SysCheck&#160;&#160;invalid register&#160;content&#160;found in&#160;<br/>
osCheckAndRefreshTimer&#160;<br/>
osdErrCRInvalidSettingMPU&#160;<br/>
0xA902&#160;&#160;SysCheck&#160;&#160;invalid register&#160;content&#160;found in&#160;<br/>
osCheckAndRefreshMPU&#160;<br/>
osdErrUEUnhandledCoreException&#160;<br/>
0xAA01&#160;&#160;SysCheck&#160;&#160;unhandled&#160;core&#160;exception&#160;<br/>
occurred&#160;<br/>
osdErrUEUnhandledDirectBranch&#160;<br/>
0xAA02&#160;&#160;SysCheck&#160;&#160;unhandled&#160;direct&#160;branch&#160;<br/>
exception&#160;occurred&#160;<br/>
Table&#160;10&#160;&#160;<br/>
RH850&#160;specific&#160;Error&#160;Numbers&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>55</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=56></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>14&#160;&#160;Modules&#160;</b><br/>
MICROSAR OS&#160;RH850&#160;source&#160;and&#160;header&#160;files depend&#160;on&#160;the&#160;scalability&#160;class:&#160;&#160;<br/>
<b>14.1&#160;&#160;Source&#160;Files&#160;</b><br/>
<b>Module&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>SC1&#160;</b><br/>
<b>SC3&#160;</b><br/>
<b>SC4&#160;</b><br/>
atosappl.c&#160;<br/>
Memory&#160;protection&#160;related&#160;functions&#160;<br/>
&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
atostime.c&#160;<br/>
Schedule table&#160;related&#160;functions&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
atosTProt.c&#160;<br/>
Timing&#160;protection&#160;related&#160;functions&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>●&#160;</b><br/>
osek.c&#160;<br/>
System&#160;initialisation,&#160;scheduler,&#160;interrupt&#160;control&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
osekalrm.c&#160;<br/>
Alarm&#160;related&#160;functions&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
osekasm.c&#160;<br/>
Compiler&#160;specific&#160;assembler&#160;functions&#160;and&#160;syscalls&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
osekerr.c&#160;<br/>
Error&#160;handling&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
osekevnt.c&#160;<br/>
Event&#160;handling&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
osekrsrc.c&#160;<br/>
Resource&#160;handling&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
oseksched.c&#160;<br/>
Schedule table&#160;related&#160;functions&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
osekstart.c&#160;<br/>
OS&#160;start-up&#160;related&#160;functions&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
osektask.c&#160;<br/>
Task&#160;management&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
osektime.c&#160;<br/>
Timer&#160;interrupt&#160;routine&#160;and&#160;alarm&#160;management&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
osSysCall.c&#160;<br/>
Compiler&#160;specific&#160;syscall&#160;table&#160;<br/>
&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
osOstmHiRes.c&#160;<br/>
Timer&#160;specific&#160;functions&#160;<br/>
<b>●</b>&#160;<br/>
<b>●&#160;</b><br/>
<b>●&#160;</b><br/>
osMultiCore.c&#160;<br/>
Multicore&#160;related&#160;functions&#160;<br/>
<b>MC&#160;1&#160;</b><br/>
<b>MC&#160;</b><br/>
<b>&#160;</b><br/>
Table&#160;11&#160;&#160;<br/>
List&#160;of&#160;source&#160;files&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
1&#160;Only&#160;for&#160;multi&#160;core&#160;systems&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>56</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=57></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>14.2&#160;&#160;Header&#160;Files&#160;</b><br/>
<b>Module&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>SC1&#160;&#160;SC3&#160;&#160;SC4&#160;</b><br/>
This&#160;header&#160;has&#160;to be&#160;included&#160;by&#160;the&#160;<br/>
Os.h&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
application&#160;<br/>Included&#160;by&#160;Os.h,&#160;includes the&#160;Autosar&#160;Header&#160;<br/>
Os_Cfg.h&#160;<br/>
files&#160;if&#160;selected&#160;by&#160;the&#160;attribute&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
TypeHeaderInclude&#160;<br/>
osek.h&#160;<br/>
Included&#160;by&#160;Os_cfg.h,&#160;basic&#160;OS&#160;header&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
osekasm.h&#160;<br/>
Compiler&#160;specific&#160;header&#160;for&#160;assembler&#160;code&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
Included&#160;by&#160;osek.h,&#160;macro-definitions&#160;for&#160;<br/>
osekasrt.h&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
assertion-handling&#160;<br/>
osekcov.h&#160;<br/>
Coverage&#160;macros&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
Included&#160;by&#160;osek.h,&#160;definitions&#160;of&#160;all&#160;error-<br/>
osekerr.h&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
numbers&#160;<br/>
osekext.h&#160;<br/>
Header&#160;file&#160;for&#160;OS&#160;internal&#160;functions&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
oseksched.h&#160;<br/>
Header&#160;for&#160;schedule&#160;table related&#160;functions&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
emptymac.h&#160;<br/>
Empty&#160;API&#160;hook&#160;macros&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
User&#160;API&#160;hook&#160;macros&#160;(contains&#160;macros&#160;for&#160;<br/>
testmac1.h&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
ORTI&#160;debug support)&#160;<br/>User&#160;API&#160;hook&#160;macros&#160;(contains&#160;macros&#160;for&#160;<br/>
testmac3.h&#160;<br/>
<b>●</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
ORTI&#160;debug support)&#160;<br/>User&#160;API&#160;hook&#160;macros&#160;(contains&#160;macros&#160;for&#160;<br/>
testmac4.h&#160;<br/>
<b>●</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
ORTI&#160;debug support)&#160;<br/>Included&#160;by&#160;all&#160;headers&#160;and&#160;system&#160;modules,&#160;<br/>
vrm.h&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
Vector&#160;release&#160;management&#160;<br/>Linker&#160;specific&#160;symbols&#160;for&#160;the&#160;syscall&#160;table.&#160;<br/>
osSysCallTable.dld&#160;<br/>
This&#160;file must&#160;be&#160;included into&#160;the&#160;global&#160;project&#160;<br/>
&#160;<br/>
<b>●</b>&#160;<br/>
<b>●</b>&#160;<br/>
linker&#160;file.&#160;<br/>File for&#160;including&#160;the&#160;necessary&#160;derivative&#160;<br/>
osDerivatives.h&#160;<br/>
<b>●&#160;</b><br/>
<b>●&#160;</b><br/>
<b>●&#160;</b><br/>
dependent&#160;header.&#160;<br/>
osRH850_&lt;Derivative&gt;.h&#160;&#160;RH850 Derivative&#160;specific&#160;header&#160;file.&#160;<br/>
<b>●&#160;</b><br/>
<b>●&#160;</b><br/>
<b>●&#160;</b><br/>
Contains&#160;specific&#160;code&#160;for&#160;the&#160;interrupt&#160;<br/>
osINTC2.h&#160;<br/>
<b>●&#160;</b><br/>
<b>●&#160;</b><br/>
<b>●&#160;</b><br/>
controller.&#160;<br/>
osMultiCore.h&#160;<br/>
Header&#160;for&#160;multicore&#160;related&#160;functions&#160;<br/>
<b>MC&#160;</b><br/>
<b>MC&#160;</b><br/>
<b>&#160;</b><br/>
Table&#160;12&#160;&#160;<br/>
List&#160;of&#160;header&#160;files&#160;<br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>57</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=58></a>Technical Reference&#160;MICROSAR OS&#160;RH850&#160;<br/>
<b>15&#160;&#160;Contact&#160;</b><br/>
Visit&#160;our website&#160;for&#160;more information&#160;on&#160;<br/>&#160;<br/>
&#160;&#160;News&#160;<br/>
&#160;&#160;Products&#160;<br/>
&#160;&#160;Demo&#160;software&#160;<br/>
&#160;&#160;Support&#160;<br/>
&#160;&#160;Training&#160;data&#160;<br/>
&#160;&#160;Addresses&#160;<br/>
&#160;<br/><a href="http://www.vector.com/">www.vector.com&#160;<br/></a>&#160;<br/>In&#160;case&#160;of&#160;OSEK&#160;/&#160;MICROSAR OS&#160;related&#160;problems you&#160;may&#160;write&#160;an&#160;email&#160;to&#160;<br/><a href="mailto:osek-support@vector.com">osek-support@vector.com&#160;</a><br/>
2016,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.11&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<b>58</b>&#160;/&#160;<b>58</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#8">1 Overview of MICROSAR OS</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#8">1.1 Overview of Properties</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#9">2 Installation</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#9">2.1 OIL-Configurator</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#9">2.1.1 OIL-Implementation Files</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#10">3 Configuration</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#10">3.1 XML Configuration</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#10">3.2 OIL Configuration</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#11">3.3 OS Attributes</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#13">3.3.1 MpuRegion Sub-Attributes (SC3 and SC4)</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#14">3.3.2 PeripheralRegion Sub-Attributes (SC3 and SC4)</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#15">3.4 Counter Attributes</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#15">3.4.1 OSTM Sub-Attributes</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#15">3.4.2 OSTM_HIRES Sub-Attributes</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#16">3.5 ISR Attributes</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#16">3.5.1 ExceptionType Sub-Attributes</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#17">3.6 Application Attributes</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#17">3.6.1 Attribute MpuRegion</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#18">3.7 Event Attributes</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#18">3.8 Linker Include Files (SC3 and SC4)</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#19">4 System Generation</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#20">4.1 Code Generator</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#21">5 Stack Handling</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#21">5.1 Task Stacks</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#21">5.2 ISR Stacks</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#21">5.3 System Stack</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#21">5.4 Startup Stack</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#21">5.5 Stack Usage Size</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#22">5.5.1 Task Stack Usage</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#22">5.5.2 System Stack Usage</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#22">5.5.3 ISR Stack Usage</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#23">6 Interrupt Handling</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#23">6.1 Interrupt Vectors</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#23">6.1.1 Reset Vector</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#23">6.1.2 Level Initialization</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#24">6.2 Interrupt Level and Category</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#24">6.3 Interrupt Category 1</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#24">6.3.1 Interrupt Processing in C</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#24">6.3.2 Unhandled Exception Determination</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#25">6.4 Interrupt Category 2</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#25">6.4.1 Interrupt Entry</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#25">6.4.2 Interrupt Exit</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#25">6.4.3 CAT2 ISR Function</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#25">6.5 Disabling Interrupts</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#26">7 MPU Handling (SC3 and SC4)</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#26">7.1 MPU Region Usage</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#26">7.1.1 MPU Region 0</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#26">7.1.2 Static MPU Regions</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#27">7.1.3 Dynamic MPU Regions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#28">8 RH850 Peripherals</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#28">8.1 Supported System Timer</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#28">8.2 Supported Time Monitoring Timer</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#28">8.3 Initialization</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#29">9 Implementation Specifics</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#29">9.1 API Functions</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#29">9.1.1 DisableAllInterrupts</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#29">9.1.2 EnableAllInterrupts</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#29">9.1.3 SuspendAllInterrupts</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#29">9.1.4 ResumeAllInterrupts</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#29">9.1.5 SuspendOSInterrupts</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.6 ResumeOSInterrupts</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.7 GetResource</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.8 ReleaseResource</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.9 GetAlarmBase</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.10 osInitialize</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#30">9.1.11 osInitINTC</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#31">9.2 Peripheral Region API</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#31">9.2.1.1 Read Functions</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#32">9.2.1.2 Write Functions</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#33">9.2.1.3 Modify Functions</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#34">9.3 Peripheral Interrupt API Functions (SC3 and SC4)</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#35">9.3.1 Write to Interrupt Control Register</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#37">9.3.2 Set or Clear Mask Flag</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#38">9.3.3 Set or Clear ICR Request Flag</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#39">9.3.4 Read, Set or Clear Mask Bit in Registers IMRm</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#40">9.3.5 Write to Registers IMRm</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4 Hook Routines</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4.1 ErrorHook</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4.2 StartupHook</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4.3 ShutdownHook</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4.4 PreTaskHook</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4.5 PostTaskHook</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#41">9.4.6 PreAlarmHook (SC1 only)</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#42">9.4.7 ISRHooks (SC1 only)</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#42">9.4.8 Callbacks (SC1 only)</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#42">9.4.9 ProtectionHook (SC3 and SC4)</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#43">9.5 Functions for MPU functionality checks</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#43">9.5.1 Function osCheckMPUAccess</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#44">9.5.2 Function osCheckAndRefreshMPU</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#45">9.6 Function for OSTM functionality checks</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#45">9.6.1 Function osCheckAndRefreshTimer</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#46">10 Non-Trusted Functions (SC3 and SC4)</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#46">10.1 Functionality</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#47">10.2 API</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#48">10.3 Call Context</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#49">10.3.1 Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#50">11 Multicore</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#50">11.1 Configuration</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#50">11.1.1 Core IDs</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#50">11.2 Multi-Core start-up</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#51">11.2.1 Both PEs controlled by OS</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#51">11.2.2 Only PE1 controlled by OS</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#52">11.2.3 Only PE2 controlled by OS</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#53">12 Timing Protection (SC4)</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#53">12.1 Configuration Attributes</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#53">12.2 Restrictions for SC4 Configurations</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#54">13 Error Handling</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#54">13.1 MICROSAR OS RH850 Error Numbers</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#54">13.1.1 RH850 specific Error Numbers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#56">14 Modules</a>
<ul>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#56">14.1 Source Files</a></li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#57">14.2 Header Files</a></li>
</ul>
</li>
<li><a href="TechnicalReference_MICROSAROS_RH850s.html#58">15 Contact</a></li>
</ul>
<hr/>
</body>
</html>
