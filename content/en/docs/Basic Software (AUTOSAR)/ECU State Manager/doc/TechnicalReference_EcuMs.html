---
title: TechnicalReference_EcuMs
linkTitle: TechnicalReference_EcuMs
weight: 6
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/><b>MICROSAR EcuM&#160;Flex&#160;<br/></b>Technical Reference&#160;<br/>&#160;<br/>SysService_Asr4EcuM&#160;<br/>Version&#160;5.00.00&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
Authors&#160;<br/>
Jochen&#160;Vorreiter&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
<hr/>
<a name=2></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>Document&#160;Information&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;</b><br/>
<b>Remarks&#160;</b><br/>
Jochen&#160;Vorreiter&#160;<br/>
2012-06-06&#160;<br/>
1.00.00&#160;<br/>
<b>&gt;&#160;&#160;</b>Initial&#160;Setup&#160;<br/>
Jochen&#160;Vorreiter&#160;<br/>
2013-01-30&#160;<br/>
1.00.01&#160;<br/>
<b>&gt;&#160;&#160;</b>ESCAN00064669&#160;Updated&#160;compiler&#160;<br/>
abstraction&#160;and memory&#160;mapping&#160;<br/>
Jochen&#160;Vorreiter&#160;<br/>
2013-05-03&#160;<br/>
1.01.00&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;support&#160;of&#160;post-build-loadable&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;support&#160;of&#160;asynchronous&#160;<br/>
transceiver&#160;handling&#160;in<a href="TechnicalReference_EcuMs.html#29">&#160;3.9.2&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Added&#160;API&#160;<br/>
EcuM_ClearValidatedWakeupEvent()&#160;<br/>i<a href="TechnicalReference_EcuMs.html#70">n&#160;5.2.10&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Extended&#160;description&#160;of&#160;<br/>
EcuM_StartupTwo()&#160;i<a href="TechnicalReference_EcuMs.html#64">n&#160;5.2.3&#160;</a><br/>
Jochen&#160;Vorreiter&#160;<br/>
2013-10-31&#160;<br/>
2.00.00&#160;<br/>
<b>&gt;&#160;&#160;</b>ESCAN00069010&#160;Added&#160;support&#160;for&#160;<br/>
Alarm&#160;Clock&#160;in<a href="TechnicalReference_EcuMs.html#40">&#160;3.14&#160;</a><br/>
<b>&gt;&#160;&#160;</b>ESCAN00071546&#160;Added&#160;Multi&#160;Core&#160;<br/>
support&#160;in<a href="TechnicalReference_EcuMs.html#42">&#160;3.15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>New&#160;API&#160;<br/>
<a href="TechnicalReference_EcuMs.html#84">EcuM_GoToSelectedShutdownTarget&#160;</a><br/>
<b>&gt;&#160;&#160;</b>ESCAN00071553&#160;Changed&#160;handling&#160;of&#160;<br/>
wakeup source&#160;states&#160;i<a href="TechnicalReference_EcuMs.html#58">n&#160;5.1&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Changes&#160;in&#160;chapter<a href="TechnicalReference_EcuMs.html#54">&#160;4.2&#160;Critical&#160;Sections&#160;</a><br/>
<b>&gt;&#160;&#160;</b>ESCAN00071552&#160;Removed&#160;<br/>
BswM_EcuM_CurentState notification&#160;<br/>
Jochen&#160;Vorreiter&#160;<br/>
2014-06-03&#160;<br/>
3.00.00&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;Support&#160;for&#160;EcuM&#160;fixed&#160;<br/>
<b>&gt;&#160;&#160;</b>ESCAN00073631&#160;Fixed&#160;missing&#160;<br/>
description&#160;of&#160;EcuM_BswErrorHook()&#160;<br/>
Jochen&#160;Vorreiter&#160;<br/>
2014-11-04&#160;<br/>
4.00.00&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;Support&#160;for&#160;Post-Build&#160;<br/>
Selectable&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;chapter<a href="TechnicalReference_EcuMs.html#43">&#160;3.15.1.2.1&#160;</a>Driver&#160;<br/>
initialization&#160;on&#160;the&#160;Slave&#160;Core.&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;chapter<a href="TechnicalReference_EcuMs.html#45">&#160;3.15.5&#160;Reconfiguration&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#45">of&#160;the&#160;BSW&#160;Core&#160;ID&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Added&#160;MICROSAR&#160;specific&#160;CanSM&#160;<br/>
handling&#160;i<a href="TechnicalReference_EcuMs.html#51">n&#160;3.18.2.3.3&#160;</a><br/>
<b>&gt;&#160;&#160;</b>ESCAN00079382&#160;Fixed&#160;missing&#160;<br/>
description&#160;of&#160;the<a href="TechnicalReference_EcuMs.html#126">&#160;StateRequest&#160;Port&#160;</a>in&#160;<br/><a href="TechnicalReference_EcuMs.html#125">5.8.1.1&#160;</a><br/>
<b>&gt;&#160;&#160;</b>ESCAN00077124&#160;Fixed&#160;description&#160;of&#160;<br/>
<a href="TechnicalReference_EcuMs.html#54">Critical&#160;Sections&#160;</a>i<a href="TechnicalReference_EcuMs.html#54">n&#160;4.2&#160;</a><br/>
<b>&gt;&#160;&#160;</b>ESCAN00079407,&#160;ESCAN00068331&#160;<br/>
Fixed&#160;description&#160;i<a href="TechnicalReference_EcuMs.html#58">n&#160;Type&#160;Definitions&#160;</a>of&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
2&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-3_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
EcuM_WakeupStateType&#160;in<a href="TechnicalReference_EcuMs.html#58">&#160;5.1&#160;</a><br/>
Jochen&#160;Vorreiter&#160;<br/>
2014-11-25&#160;<br/>
4.00.01&#160;<br/>
<b>&gt;&#160;&#160;</b>Adapted&#160;description&#160;of&#160;<br/>
EcuM_DeterminePbConfiguration&#160;<br/>
Jochen&#160;Vorreiter&#160;<br/>
2015-01-26&#160;<br/>
4.01.00&#160;<br/>
<b>&gt;&#160;&#160;</b>Updated&#160;the<a href="TechnicalReference_EcuMs.html#55">&#160;Include&#160;structure&#160;</a>and&#160;<br/>
added two files&#160;i<a href="TechnicalReference_EcuMs.html#53">n&#160;4.1.2&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Updated&#160;access&#160;on&#160;PB&#160;and&#160;Variant&#160;data&#160;<br/>
in&#160;DriverInitLists&#160;in&#160;Ch.<a href="TechnicalReference_EcuMs.html#99">&#160;5.7.2&#160;</a><br/>
Jochen&#160;Vorreiter&#160;<br/>
2015-07-14&#160;<br/>
5.00.00&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;new&#160;EcuM&#160;error&#160;ID&#160;for&#160;invalid&#160;<br/>
CoreID&#160;in&#160;Ch.<a href="TechnicalReference_EcuMs.html#35">&#160;3.11.3&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Added&#160;support&#160;for&#160;Mode&#160;Handling,&#160;see&#160;<br/>
Ch.<a href="TechnicalReference_EcuMs.html#46">&#160;3.16,&#160;</a><a href="TechnicalReference_EcuMs.html#91">5.3.13&#160;</a>and<a href="TechnicalReference_EcuMs.html#95">&#160;5.5&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Removed&#160;subchapters&#160;“Parameter&#160;<br/>
Checking”&#160;from&#160;Ch.<a href="TechnicalReference_EcuMs.html#33">&#160;3.11&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Added&#160;missing&#160;API&#160;ID&#160;in<a href="TechnicalReference_EcuMs.html#34">&#160;Table&#160;3-8&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#34">&#160;&#160;Service&#160;IDs&#160;</a><br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>No.&#160;</b><br/>
<b>Source&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;</b><br/>
[1]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_ECUStateManager.pdf&#160;<br/>
V3.0.0&#160;<br/>
[2]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_DevelopmentErrorTracer.pdf&#160;<br/>
V3.2.0&#160;<br/>
[3]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_DiagnosticEventManager.pdf.pdf&#160;<br/>
V4.2.0&#160;<br/>
[4]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_TR_BSWModuleList.pdf&#160;<br/>
V1.6.0&#160;<br/>
[5]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_EXP_ModemanagementGuide.pdf&#160;<br/>
V1.0.0&#160;<br/>
[6]&#160;&#160;&#160;VECTOR&#160;<br/>
TechnicalReference_PostBuildLoadable.pdf&#160;<br/>
see&#160;delivery&#160;<br/>
[7]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_ECUStateManagerFixed.pdf&#160;<br/>
V1.4.0&#160;<br/>
[8]&#160;&#160;&#160;VECTOR&#160;<br/>
TechnicalReference_IdentityManager.pdf&#160;<br/>
see&#160;delivery&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>We&#160;have&#160;configured&#160;the&#160;programs&#160;in&#160;accordance&#160;with&#160;your&#160;specifications&#160;in the&#160;<br/>
<b>&#160;&#160;</b>questionnaire.&#160;Whereas&#160;the&#160;programs&#160;do&#160;support&#160;other&#160;configurations&#160;than&#160;the&#160;one&#160;<br/>
specified&#160;in&#160;your&#160;questionnaire,&#160;Vector’s&#160;release&#160;of&#160;the&#160;programs&#160;delivered&#160;to&#160;your&#160;<br/>company&#160;is&#160;expressly&#160;restricted&#160;to&#160;the&#160;configuration&#160;you have&#160;specified&#160;in&#160;the&#160;<br/>questionnaire.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
3&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=4></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_EcuMs.html#13"><b>1</b>&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#13"><b>Component&#160;History&#160;....................................................................................................&#160;13</b>&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#14"><b>2</b>&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#14"><b>Introduction.................................................................................................................&#160;14</b>&#160;<br/></a><a href="TechnicalReference_EcuMs.html#15">2.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#15">Architecture Overview&#160;......................................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#17"><b>3</b>&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#17"><b>Functional&#160;Description&#160;...............................................................................................&#160;17</b>&#160;<br/>3.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#17">Features&#160;..........................................................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#19">3.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#19">States&#160;of&#160;EcuM&#160;flex&#160;..........................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#20">3.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#20">States&#160;of&#160;EcuM&#160;fixed&#160;........................................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#22">3.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#22">The&#160;State&#160;Diagram&#160;of&#160;the&#160;EcuM&#160;flex.................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#23">3.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#23">The&#160;State&#160;Diagram&#160;of&#160;the&#160;EcuM&#160;with&#160;fixed&#160;state&#160;machine&#160;................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#24">3.6&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#24">Initialization&#160;......................................................................................................&#160;24&#160;<br/>3.6.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#24">EcuM_Init&#160;.........................................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#24">3.6.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#24">EcuM_StartupTwo&#160;............................................................................&#160;24&#160;<br/>3.6.2.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#24">EcuM_StartupTwo in&#160;case&#160;of&#160;EcuM&#160;flex&#160;.........................&#160;24&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#24">3.6.2.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#24">EcuM_StartupTwo in&#160;case&#160;of&#160;EcuM&#160;fixed&#160;.......................&#160;24&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#24">3.6.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#24">Initialization&#160;Order&#160;............................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#25">3.6.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#25">Additional&#160;Code&#160;in&#160;the&#160;Initialization&#160;Callouts&#160;.....................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#26">3.6.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#26">Inclusion&#160;of&#160;Additional&#160;Header&#160;Files&#160;.................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#26">3.6.6&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#26">Configuration&#160;Set&#160;Selection&#160;..............................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#27">3.7&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#27">Initialization&#160;of&#160;a MultiCore ECU&#160;.......................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#27">3.8&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#27">Shutdown&#160;Targets&#160;............................................................................................&#160;27&#160;<br/>3.8.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#27">Using&#160;the&#160;API&#160;EcuM_SelectShutdownTarget()..................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#27">3.8.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#27">Default&#160;Shutdown&#160;Target&#160;..................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#27">3.8.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#27">Reset&#160;Modes&#160;....................................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#28">3.8.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#28">Sleep&#160;Modes&#160;....................................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#28">3.9&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#28">Wake-up&#160;Sources&#160;............................................................................................&#160;28&#160;<br/>3.9.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#28">Validation&#160;Timeout&#160;............................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#29">3.9.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#29">Check-Wakeup&#160;Validation&#160;Timeout&#160;...................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#29">3.9.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#29">ComM&#160;Channel&#160;Reference&#160;...............................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#29">3.9.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#29">Polling&#160;of&#160;Wake-up&#160;Sources&#160;.............................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#29">3.9.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#29">MCU&#160;Reset&#160;Reason&#160;.........................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#30">3.10&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#30">Main&#160;Functions&#160;................................................................................................&#160;30&#160;<br/>3.10.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#30">Wake-up&#160;Validation&#160;Protocol&#160;............................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#32">3.10.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#32">Wake-up&#160;Validation&#160;Protocol&#160;for&#160;asynchronous&#160;Can&#160;transceiver&#160;.......&#160;32&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#33">3.11&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#33">Error&#160;Handling&#160;..................................................................................................&#160;33&#160;<br/>3.11.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#33">Development&#160;Error&#160;Reporting&#160;...........................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#35">3.11.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#35">Production&#160;Code&#160;Error&#160;Reporting&#160;.....................................................&#160;35&#160;</a><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
4&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=5></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<a href="TechnicalReference_EcuMs.html#35">3.11.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#35">EcuM_ErrorHook&#160;.............................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#36">3.12&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#36">Callout&#160;Execution&#160;Sequences&#160;..........................................................................&#160;36&#160;<br/>3.12.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#36">Callouts&#160;from&#160;Startup&#160;to&#160;Run&#160;............................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#37">3.12.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#37">Callouts&#160;from&#160;Run&#160;to&#160;Sleep&#160;(Halt)&#160;and&#160;back&#160;to&#160;Run&#160;..........................&#160;37&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#38">3.12.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#38">Callouts&#160;from&#160;Run&#160;to&#160;Reset&#160;..............................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#38">3.12.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#38">Callouts&#160;from&#160;Run&#160;to&#160;Off&#160;...................................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#39">3.13&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#39">EcuM&#160;Flex&#160;Users&#160;and&#160;Defensive&#160;Behavior&#160;.......................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#40">3.14&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#40">Alarm&#160;Clock&#160;.....................................................................................................&#160;40&#160;<br/>3.14.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#40">Configuring&#160;the&#160;Gpt&#160;to&#160;provide&#160;the&#160;Time&#160;base&#160;..................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#40">3.14.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#40">Configuring&#160;the&#160;EcuM&#160;for&#160;using&#160;the&#160;Alarm&#160;Clock&#160;..............................&#160;40&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#41">3.14.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#41">Setting&#160;of&#160;the&#160;EcuM&#160;Clock&#160;................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#41">3.14.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#41">Setting&#160;of&#160;a&#160;Time&#160;Triggered&#160;Wake&#160;Up&#160;Alarm&#160;.....................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#42">3.15&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#42">MultiCore Ecu&#160;..................................................................................................&#160;42&#160;<br/>3.15.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#42">Initialization&#160;of&#160;a MultiCore ECU&#160;.......................................................&#160;42&#160;<br/>3.15.1.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#42">Initialization&#160;on&#160;the&#160;Master&#160;Core&#160;.....................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#43">3.15.1.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#43">Initialization&#160;on&#160;the&#160;Slave&#160;Core&#160;.......................................&#160;43&#160;<br/>3.15.1.2.1&#160;&#160;Driver&#160;initialization&#160;on&#160;the Slave&#160;Core.........&#160;43&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#44">3.15.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#44">Sleep handling&#160;of&#160;slave&#160;cores&#160;..........................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#45">3.15.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#45">Blocking&#160;of&#160;the&#160;BSW&#160;Scheduler&#160;during&#160;Sleep&#160;...................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#45">3.15.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#45">Shutdown&#160;of&#160;the&#160;MultiCore&#160;ECU&#160;......................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#45">3.15.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#45">Reconfiguration&#160;of&#160;the&#160;BSW&#160;Core ID&#160;................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#46">3.16&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#46">Mode&#160;Handling&#160;for&#160;EcuM&#160;Flex&#160;..........................................................................&#160;46&#160;<br/>3.16.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#46">Mode&#160;Handling&#160;.................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#47">3.16.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#47">Run&#160;Request&#160;Protocol&#160;......................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#48">3.17&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#48">Generated&#160;Template&#160;Files&#160;................................................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#48">3.18&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#48">Wake-up&#160;Event&#160;Handling&#160;and&#160;Wake-up&#160;Validation&#160;...........................................&#160;48&#160;<br/>3.18.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#48">Wake-up&#160;after&#160;a&#160;Physical&#160;Sleep&#160;Mode&#160;..............................................&#160;48&#160;<br/>3.18.1.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#48">Use&#160;Case Description&#160;....................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#49">3.18.1.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#49">Execution&#160;Flow&#160;..............................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#49">3.18.1.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#49">Callout&#160;Implementation&#160;Examples&#160;..................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#50">3.18.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#50">Wake-up&#160;Validation&#160;of&#160;Communication&#160;Channels&#160;(ECUM&#160;in RUN&#160;<br/>State)&#160;...............................................................................................&#160;50&#160;<br/>3.18.2.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#50">Use&#160;Case Description&#160;....................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#50">3.18.2.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#50">Execution&#160;Flow&#160;..............................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#51">3.18.2.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#51">Callout&#160;Implementation&#160;Examples&#160;..................................&#160;51&#160;<br/>3.18.2.3.1&#160;&#160;EcuM_CheckWakeup&#160;.................................&#160;51&#160;<br/>3.18.2.3.2&#160;&#160;EcuM_CheckValidation&#160;..............................&#160;51&#160;<br/>3.18.2.3.3&#160;&#160;EcuM_StartWakeupSources and&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#51">EcuM_StopWakeupSources&#160;in&#160;the&#160;case&#160;<br/>of&#160;a&#160;MICROSAR&#160;CanSM&#160;............................&#160;51&#160;</a><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
5&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=6></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<a href="TechnicalReference_EcuMs.html#52">3.18.2.3.4&#160;&#160;EcuM_StartWakeupSources and&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#52">EcuM_StopWakeupSources&#160;in&#160;the&#160;case&#160;<br/>of&#160;a&#160;non&#160;MICROSAR&#160;CanSM&#160;.....................&#160;52&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#53"><b>4</b>&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#53"><b>Integration&#160;...................................................................................................................&#160;53</b>&#160;<br/>4.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#53">Scope&#160;of&#160;Delivery&#160;.............................................................................................&#160;53&#160;<br/>4.1.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#53">Static&#160;Files&#160;.......................................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#53">4.1.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#53">Dynamic&#160;Files&#160;..................................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#54">4.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#54">Critical&#160;Sections&#160;...............................................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#55">4.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#55">Include&#160;Structure&#160;..............................................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">4.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">Dependencies&#160;on&#160;other&#160;BSW&#160;Modules&#160;.............................................................&#160;56&#160;<br/>4.4.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">BswM&#160;...............................................................................................&#160;56&#160;<br/>4.4.1.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">BswM&#160;and&#160;EcuM&#160;fixed&#160;...................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">4.4.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">AUTOSAR&#160;OS&#160;.................................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">4.4.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">MCU&#160;................................................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">4.4.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">DEM&#160;.................................................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">4.4.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">DET&#160;.................................................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">4.4.6&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">ComM&#160;..............................................................................................&#160;56&#160;<br/>4.4.6.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#56">ComM&#160;and&#160;EcuM&#160;fixed&#160;...................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#57">4.4.7&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#57">SchM&#160;...............................................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#57">4.4.8&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#57">Gpt&#160;...................................................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#57">4.4.9&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#57">NvM&#160;.................................................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#58"><b>5</b>&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#58"><b>API&#160;Description&#160;...........................................................................................................&#160;58</b>&#160;<br/>5.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#58">Type&#160;Definitions&#160;...............................................................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#62">5.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#62">Services&#160;Provided&#160;by&#160;EcuM&#160;.............................................................................&#160;62&#160;<br/>5.2.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#62">EcuM_MainFunction&#160;........................................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#63">5.2.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#63">EcuM_Init&#160;.........................................................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#64">5.2.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#64">EcuM_StartupTwo&#160;............................................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#65">5.2.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#65">EcuM_Shutdown&#160;..............................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#66">5.2.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#66">EcuM_SelectShutdownTarget&#160;..........................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#67">5.2.6&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#67">EcuM_GetShutdownTarget&#160;..............................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#68">5.2.7&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#68">EcuM_GetLastShutdownTarget&#160;........................................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#69">5.2.8&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#69">EcuM_GetPendingWakeupEvents&#160;...................................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#69">5.2.9&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#69">EcuM_ClearWakeupEvent&#160;...............................................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#70">5.2.10&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#70">EcuM_ClearValidatedWakeupEvent&#160;.................................................&#160;70&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#71">5.2.11&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#71">EcuM_GetValidatedWakeupEvents&#160;..................................................&#160;71&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#72">5.2.12&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#72">EcuM_GetExpiredWakeupEvents&#160;....................................................&#160;72&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#72">5.2.13&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#72">EcuM_GetBootTarget&#160;.......................................................................&#160;72&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#73">5.2.14&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#73">EcuM_SelectBootTarget&#160;...................................................................&#160;73&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#74">5.2.15&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#74">EcuM_StartCheckWakeup&#160;...............................................................&#160;74&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#75">5.2.16&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#75">EcuM_EndCheckWakeup&#160;................................................................&#160;75&#160;</a><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
6&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=7></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<a href="TechnicalReference_EcuMs.html#75">5.2.17&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#75">EcuM_GetVersionInfo&#160;......................................................................&#160;75&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#76">5.2.18&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#76">EcuM_RequestRUN&#160;.........................................................................&#160;76&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#77">5.2.19&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#77">EcuM_ReleaseRUN&#160;.........................................................................&#160;77&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#78">5.2.20&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#78">EcuM_RequestPOST_RUN&#160;.............................................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#79">5.2.21&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#79">EcuM_ReleasePOST_RUN&#160;.............................................................&#160;79&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#80">5.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#80">Services&#160;Provided&#160;by&#160;EcuM&#160;flex&#160;.......................................................................&#160;80&#160;<br/>5.3.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#80">EcuM_SelectShutdownCause&#160;..........................................................&#160;80&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#81">5.3.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#81">EcuM_GetShutdownCause&#160;..............................................................&#160;81&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#81">5.3.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#81">EcuM_GoHalt...................................................................................&#160;81&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#82">5.3.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#82">EcuM_GoPoll&#160;...................................................................................&#160;82&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#83">5.3.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#83">EcuM_GoDown&#160;................................................................................&#160;83&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#84">5.3.6&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#84">EcuM_GoToSelectedShutdownTarget&#160;..............................................&#160;84&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#85">5.3.7&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#85">EcuM_SetRelWakeupAlarm&#160;.............................................................&#160;85&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#86">5.3.8&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#86">EcuM_SetAbsWakeupAlarm&#160;............................................................&#160;86&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#87">5.3.9&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#87">EcuM_AbortWakeupAlarm&#160;...............................................................&#160;87&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#88">5.3.10&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#88">EcuM_GetWakeupTime&#160;...................................................................&#160;88&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#89">5.3.11&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#89">EcuM_SetClock&#160;...............................................................................&#160;89&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#90">5.3.12&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#90">EcuM_GetCurrentTime&#160;....................................................................&#160;90&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#91">5.3.13&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#91">EcuM_SetState&#160;................................................................................&#160;91&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#92">5.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#92">Services&#160;Provided&#160;by&#160;EcuM&#160;fixed&#160;.....................................................................&#160;92&#160;<br/>5.4.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#92">EcuM_GetState&#160;................................................................................&#160;92&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#93">5.4.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#93">EcuM_KillAllRUNRequests&#160;..............................................................&#160;93&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#94">5.4.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#94">EcuM_KillAllPostRUNRequests&#160;.......................................................&#160;94&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#95">5.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#95">Services&#160;Used&#160;by&#160;EcuM&#160;...................................................................................&#160;95&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#96">5.6&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#96">Callback&#160;Functions&#160;...........................................................................................&#160;96&#160;<br/>5.6.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#96">EcuM_SetWakeupEvent&#160;..................................................................&#160;96&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#97">5.6.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#97">EcuM_ValidateWakeupEvent&#160;...........................................................&#160;97&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#98">5.6.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#98">EcuM_AlarmCheckWakeup..............................................................&#160;98&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#99">5.6.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#99">Callback&#160;Functions&#160;by&#160;EcuM&#160;fixed&#160;....................................................&#160;99&#160;<br/>5.6.4.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#99">EcuM_CB_NfyNvMJobEnd&#160;............................................&#160;99&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#99">5.7&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#99">Configurable&#160;Interfaces&#160;....................................................................................&#160;99&#160;<br/>5.7.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#99">Notifications&#160;.....................................................................................&#160;99&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#99">5.7.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#99">Callout&#160;Functions&#160;.............................................................................&#160;99&#160;<br/></a><a href="TechnicalReference_EcuMs.html#100">5.7.2.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#100">EcuM_ErrorHook&#160;.........................................................&#160;100&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#100">5.7.2.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#100">EcuM_OnGoOffOne&#160;.....................................................&#160;100&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#101">5.7.2.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#101">EcuM_OnGoOffTwo&#160;.....................................................&#160;101&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#101">5.7.2.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#101">EcuM_AL_SwitchOff&#160;....................................................&#160;101&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#102">5.7.2.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#102">EcuM_AL_Reset&#160;..........................................................&#160;102&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#102">5.7.2.6&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#102">EcuM_AL_DriverInitZero&#160;..............................................&#160;102&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#103">5.7.2.7&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#103">EcuM_AL_DriverInitOne&#160;..............................................&#160;103&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#104">5.7.2.8&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#104">EcuM_AL_DriverRestart&#160;..............................................&#160;104&#160;</a><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
7&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=8></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<a href="TechnicalReference_EcuMs.html#105">5.7.2.9&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#105">EcuM_AL_SetProgrammableInterrupts&#160;........................&#160;105&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#105">5.7.2.10&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#105">EcuM_McuSetMode&#160;.....................................................&#160;105&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#106">5.7.2.11&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#106">EcuM_WaitForSlaveCores&#160;...........................................&#160;106&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#106">5.7.2.12&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#106">EcuM_StartOS&#160;.............................................................&#160;106&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#107">5.7.2.13&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#107">EcuM_ShutdownOS.....................................................&#160;107&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#108">5.7.2.14&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#108">EcuM_GenerateRamHash&#160;...........................................&#160;108&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#108">5.7.2.15&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#108">EcuM_CheckRamHash&#160;................................................&#160;108&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#109">5.7.2.16&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#109">EcuM_SleepActivity&#160;.....................................................&#160;109&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#110">5.7.2.17&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#110">EcuM_EnableWakeupSources&#160;.....................................&#160;110&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#110">5.7.2.18&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#110">EcuM_DisableWakeupSources&#160;....................................&#160;110&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#111">5.7.2.19&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#111">EcuM_StartWakeupSources&#160;.........................................&#160;111&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#111">5.7.2.20&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#111">EcuM_StopWakeupSources&#160;.........................................&#160;111&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#112">5.7.2.21&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#112">EcuM_CheckWakeup...................................................&#160;112&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#112">5.7.2.22&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#112">EcuM_CheckValidation&#160;................................................&#160;112&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#113">5.7.2.23&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#113">EcuM_DeterminePbConfiguration&#160;................................&#160;113&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#114">5.7.2.24&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#114">EcuM_BswErrorHook&#160;...................................................&#160;114&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#115">5.7.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#115">Callout&#160;Functions&#160;by&#160;EcuM&#160;flex&#160;......................................................&#160;115&#160;<br/>5.7.3.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#115">EcuM_GptStartClock&#160;...................................................&#160;115&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#116">5.7.3.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#116">EcuM_GptSetSleep&#160;.....................................................&#160;116&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#117">5.7.3.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#117">EcuM_GptSetNormal&#160;...................................................&#160;117&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#118">5.7.3.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#118">EcuM_AL_DriverInitBswM_&lt;ID&gt;&#160;..................................&#160;118&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#119">5.7.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#119">Callout&#160;Functions&#160;by&#160;EcuM&#160;fixed&#160;....................................................&#160;119&#160;<br/>5.7.4.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#119">EcuM_AL_DriverInitTwo&#160;..............................................&#160;119&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#120">5.7.4.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#120">EcuM_AL_DriverInitThree&#160;............................................&#160;120&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#121">5.7.4.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#121">EcuM_OnEnterRun&#160;......................................................&#160;121&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#121">5.7.4.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#121">EcuM_OnExitRun&#160;........................................................&#160;121&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#122">5.7.4.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#122">EcuM_OnGoSleep&#160;.......................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#122">5.7.4.6&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#122">EcuM_OnPrepShutdown&#160;.............................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#123">5.7.4.7&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#123">EcuM_OnExitPostRun&#160;.................................................&#160;123&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#123">5.7.4.8&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#123">EcuM_OnFailedNvmWriteAllJobReaction&#160;....................&#160;123&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#124">5.7.4.9&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#124">EcuM_OnWakeupReaction&#160;..........................................&#160;124&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#124">5.7.4.10&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#124">EcuM_OnRTEStartup&#160;..................................................&#160;124&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#125">5.8&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#125">Service&#160;Ports&#160;.................................................................................................&#160;125&#160;<br/>5.8.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#125">Client&#160;Server&#160;Interface&#160;...................................................................&#160;125&#160;<br/>5.8.1.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#125">Provide&#160;Ports&#160;on&#160;EcuM&#160;Side&#160;........................................&#160;125&#160;<br/>5.8.1.1.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#125">ShutdownTarget&#160;Port&#160;...............................&#160;125&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#125">5.8.1.1.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#125">BootTarget&#160;Port&#160;........................................&#160;125&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#126">5.8.1.1.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#126">AlarmClock&#160;Port&#160;.......................................&#160;126&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#126">5.8.1.1.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#126">StateRequest&#160;Port....................................&#160;126&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#127">5.8.1.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#127">Require&#160;Ports&#160;on&#160;EcuM&#160;Side&#160;........................................&#160;127&#160;<br/>5.8.1.2.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#127">currentMode&#160;Port&#160;.....................................&#160;127&#160;</a><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
8&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=9></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<a href="TechnicalReference_EcuMs.html#128"><b>6</b>&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128"><b>AUTOSAR&#160;Standard&#160;Compliance.............................................................................&#160;128</b>&#160;<br/>6.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">Deviations&#160;......................................................................................................&#160;128&#160;<br/>6.1.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">Deviation&#160;in&#160;the&#160;Naming&#160;of&#160;API&#160;Parameters&#160;...................................&#160;128&#160;<br/>6.1.1.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">ResetSleepMode&#160;.........................................................&#160;128&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">6.1.1.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">TargetState&#160;..................................................................&#160;128&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">6.1.1.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">ShutdownTarget&#160;...........................................................&#160;128&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">6.1.1.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">Target&#160;(ShutdownTarget)&#160;..............................................&#160;128&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">6.1.1.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">Target&#160;(BootTarget)&#160;......................................................&#160;128&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">6.1.1.6&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">Sources&#160;.......................................................................&#160;128&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">6.1.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">Starting&#160;of&#160;the&#160;Validation&#160;Timer.......................................................&#160;128&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">6.1.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">Multiplicity&#160;of&#160;Parameters&#160;...............................................................&#160;128&#160;<br/>6.1.3.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#128">EcuMResetReasonRef&#160;................................................&#160;128&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#129">6.1.3.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#129">EcuMSleepMode&#160;.........................................................&#160;129&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#129">6.1.3.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#129">EcuMConfigConsistencyHash&#160;......................................&#160;129&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#129">6.1.3.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#129">Removed&#160;parameter&#160;ConfigPtr&#160;from&#160;DriverInit&#160;Lists&#160;.....&#160;129&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#129">6.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#129">Additions/&#160;Extensions&#160;.....................................................................................&#160;129&#160;<br/>6.2.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#129">Additional&#160;Configuration&#160;Parameters&#160;..............................................&#160;129&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#129">6.2.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#129">Buffering&#160;of&#160;Wake&#160;ups&#160;if&#160;the&#160;BswM&#160;is&#160;Not&#160;Initialized&#160;.......................&#160;129&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">6.2.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">Buffering&#160;of&#160;Wake&#160;ups&#160;if&#160;the&#160;ComM&#160;is&#160;Not&#160;Initialized&#160;......................&#160;130&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">6.2.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">Additional&#160;API&#160;EcuM_ClearValidatedWakeupEvent&#160;........................&#160;130&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">6.2.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">Support&#160;of&#160;Asynchronous&#160;Transceiver&#160;Handling&#160;.............................&#160;130&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">6.2.6&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">Deferred&#160;notification&#160;of&#160;the&#160;BswM&#160;about&#160;wake-up&#160;events&#160;...............&#160;130&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">6.2.7&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">Additional&#160;Callback&#160;EcuM_AlarmCheckWakeup&#160;.............................&#160;130&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">6.2.8&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">Additional&#160;API&#160;EcuM_GoToSelectedShutdownTarget&#160;.....................&#160;130&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">6.2.9&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">Additional&#160;Callout&#160;EcuM_WaitForSlaveCores&#160;.................................&#160;130&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">6.2.10&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">Support&#160;of&#160;EcuM&#160;fixed&#160;....................................................................&#160;130&#160;<br/>6.2.10.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#130">Shutdown&#160;Target&#160;ECUM_STATE_RESET&#160;....................&#160;130&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">6.2.10.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">Synchronization&#160;of&#160;EcuM&#160;and&#160;RTE&#160;modes&#160;...................&#160;131&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">6.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">Limitations......................................................................................................&#160;131&#160;<br/>6.3.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">Inter&#160;Module&#160;Checks&#160;......................................................................&#160;131&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">6.3.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">Recording&#160;of&#160;Shutdown Causes&#160;.....................................................&#160;131&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">6.3.3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">Not&#160;Supported&#160;Configuration&#160;Parameters&#160;and&#160;Containers&#160;..............&#160;131&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">6.3.4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">Wake-up&#160;Events&#160;after&#160;Reset&#160;Reason&#160;Translation&#160;are&#160;not&#160;Validated&#160;131&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">6.3.5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#131">EcuM&#160;Fixed&#160;Limitations&#160;..................................................................&#160;131&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#133"><b>7</b>&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#133"><b>Glossary&#160;and&#160;Abbreviations&#160;....................................................................................&#160;133</b>&#160;<br/>7.1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#133">Glossary&#160;........................................................................................................&#160;133&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#133">7.2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#133">Abbreviations&#160;.................................................................................................&#160;133&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#134"><b>8</b>&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#134"><b>Contact&#160;......................................................................................................................&#160;134</b>&#160;</a><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
9&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=10></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>Illustrations&#160;</b><br/>
<a href="TechnicalReference_EcuMs.html#15">Figure&#160;2-1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#15">AUTOSAR&#160;architecture&#160;.............................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#16">Figure&#160;2-2&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#16">Interfaces&#160;to adjacent&#160;modules&#160;of&#160;the&#160;EcuM&#160;.............................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#22">Figure&#160;3-1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#22">The&#160;state diagram&#160;of&#160;the&#160;EcuM&#160;flex&#160;..........................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#23">Figure&#160;3-2 State&#160;Diagram&#160;of&#160;the&#160;EcuM&#160;with&#160;fixed&#160;state&#160;machine&#160;..........................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#31">Figure&#160;3-3&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#31">Example&#160;Wake-up&#160;Validation&#160;....................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#32">Figure&#160;3-4&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#32">Example&#160;Wake-up&#160;Validation&#160;for&#160;asynchronous&#160;Can&#160;Transceivers&#160;............&#160;32&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#42">Figure&#160;3-5&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#42">Startup&#160;Sequence&#160;on&#160;a&#160;Master&#160;Core&#160;.........................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#43">Figure&#160;3-6&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#43">Startup&#160;Sequence&#160;on&#160;a&#160;Slave&#160;Core&#160;...........................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#55">Figure&#160;4-1&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#55">Include&#160;structure&#160;.......................................................................................&#160;55&#160;</a><br/>
<b>&#160;</b><br/>
<b>Tables&#160;</b><br/>
<a href="TechnicalReference_EcuMs.html#13">Table&#160;1-1&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#13">Component&#160;history....................................................................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#17">Table&#160;3-1&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#17">Supported&#160;AUTOSAR&#160;EcuM&#160;common&#160;features&#160;.........................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#18">Table&#160;3-2&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#18">Supported&#160;AUTOSAR&#160;EcuM&#160;flex&#160;features&#160;.................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#18">Table&#160;3-3&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#18">Supported&#160;AUTOSAR&#160;EcuM&#160;fixed&#160;features&#160;...............................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#18">Table&#160;3-4&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#18">Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR&#160;standard&#160;..................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#19">Table&#160;3-5&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#19">States&#160;of&#160;the&#160;EcuM&#160;...................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#21">Table&#160;3-6&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#21">States&#160;of&#160;the&#160;EcuM&#160;...................................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#25">Table&#160;3-7&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#25">Initialization&#160;Order&#160;.....................................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#34">Table&#160;3-8&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#34">Service&#160;IDs&#160;...............................................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#34">Table&#160;3-9&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#34">Errors&#160;reported&#160;to&#160;DET&#160;.............................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#35">Table&#160;3-10&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#35">Errors&#160;reported&#160;to&#160;DEM&#160;.............................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#36">Table&#160;3-11&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#36">Description&#160;of&#160;EcuM&#160;internal&#160;Error&#160;Codes&#160;.................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#36">Table&#160;3-12&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#36">Callouts&#160;from&#160;Startup&#160;to&#160;Run&#160;.....................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#37">Table&#160;3-13&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#37">Callouts&#160;from&#160;Run&#160;to&#160;Sleep&#160;(Halt)&#160;and&#160;back&#160;to&#160;Run&#160;...................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#38">Table&#160;3-14&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#38">Callouts&#160;from&#160;Run&#160;to&#160;Reset&#160;.......................................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#38">Table&#160;3-15&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#38">Callouts&#160;from&#160;Run&#160;to&#160;Off&#160;...........................................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#40">Table&#160;3-16&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#40">Gpt&#160;Channel&#160;Configuration&#160;.......................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#44">Table&#160;3-17&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#44">Sleep&#160;handling&#160;on&#160;Slave&#160;Cores&#160;.................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#46">Table&#160;3-18&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#46">Mapping&#160;of&#160;States&#160;to&#160;Modes&#160;.....................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#53">Table&#160;4-1&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#53">Static&#160;files&#160;.................................................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#54">Table&#160;4-2&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#54">Generated&#160;files&#160;.........................................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#54">Table&#160;4-3&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#54">Critical&#160;Sections&#160;........................................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#61">Table&#160;5-1&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#61">Type&#160;definitions&#160;.........................................................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#62">Table&#160;5-2&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#62">EcuM_MainFunction&#160;.................................................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#63">Table&#160;5-3&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#63">EcuM_Init&#160;.................................................................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#64">Table&#160;5-4&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#64">EcuM_StartupTwo&#160;....................................................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#65">Table&#160;5-5&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#65">EcuM_Shutdown&#160;......................................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#66">Table&#160;5-6&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#66">EcuM_SelectShutdownTarget&#160;...................................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#67">Table&#160;5-7&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#67">EcuM_GetShutdownTarget&#160;.......................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#68">Table&#160;5-8&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#68">EcuM_GetLastShutdownTarget&#160;................................................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#69">Table&#160;5-9&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#69">EcuM_GetPendingWakeupEvents&#160;............................................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#69">Table&#160;5-10&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#69">EcuM_ClearWakeupEvent&#160;........................................................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#70">Table&#160;5-11&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#70">EcuM_ClearValidatedWakeupEvent&#160;.........................................................&#160;70&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#71">Table&#160;5-12&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#71">EcuM_GetValidatedWakeupEvents&#160;..........................................................&#160;71&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#72">Table&#160;5-13&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#72">EcuM_GetExpiredWakeupEvents&#160;.............................................................&#160;72&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#72">Table&#160;5-14&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#72">EcuM_GetBootTarget&#160;...............................................................................&#160;72&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#73">Table&#160;5-15&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#73">EcuM_SelectBootTarget&#160;...........................................................................&#160;73&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#74">Table&#160;5-16&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#74">EcuM_StartCheckWakeup&#160;........................................................................&#160;74&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#75">Table&#160;5-17&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#75">EcuM_EndCheckWakeup&#160;.........................................................................&#160;75&#160;</a><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
10&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=11></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<a href="TechnicalReference_EcuMs.html#75">Table&#160;5-18&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#75">EcuM_GetVersionInfo&#160;...............................................................................&#160;75&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#76">Table&#160;5-19&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#76">EcuM_RequestRUN&#160;.................................................................................&#160;76&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#77">Table&#160;5-20&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#77">EcuM_ReleaseRUN&#160;..................................................................................&#160;77&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#78">Table&#160;5-21&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#78">EcuM_RequestPOST_RUN&#160;......................................................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#79">Table&#160;5-22&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#79">EcuM_ReleasePOST_RUN&#160;......................................................................&#160;79&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#80">Table&#160;5-23&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#80">EcuM_SelectShutdownCause&#160;..................................................................&#160;80&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#81">Table&#160;5-24&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#81">EcuM_GetShutdownCause&#160;.......................................................................&#160;81&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#81">Table&#160;5-25&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#81">EcuM_GoHalt&#160;...........................................................................................&#160;81&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#82">Table&#160;5-26&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#82">EcuM_GoPoll&#160;............................................................................................&#160;82&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#83">Table&#160;5-27&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#83">EcuM_GoDown&#160;........................................................................................&#160;83&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#84">Table&#160;5-28&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#84">EcuM_GoToSelectedShutdownTarget.......................................................&#160;84&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#85">Table&#160;5-29&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#85">EcuM_SetRelWakeupAlarm......................................................................&#160;85&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#86">Table&#160;5-30&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#86">EcuM_SetAbsWakeupAlarm&#160;.....................................................................&#160;86&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#87">Table&#160;5-31&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#87">EcuM_AbortWakeupAlarm&#160;........................................................................&#160;87&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#88">Table&#160;5-32&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#88">EcuM_GetWakeupTime&#160;............................................................................&#160;88&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#89">Table&#160;5-33&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#89">EcuM_SetClock&#160;........................................................................................&#160;89&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#90">Table&#160;5-34&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#90">EcuM_GetCurrentTime&#160;.............................................................................&#160;90&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#91">Table&#160;5-35&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#91">EcuM_SetState&#160;.........................................................................................&#160;91&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#92">Table&#160;5-36&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#92">EcuM_GetState&#160;........................................................................................&#160;92&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#93">Table&#160;5-37&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#93">EcuM_&#160;KillAllRUNRequests&#160;......................................................................&#160;93&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#94">Table&#160;5-38&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#94">EcuM_&#160;KillAllPostRUNRequests&#160;...............................................................&#160;94&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#96">Table&#160;5-39&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#96">Services&#160;used&#160;by&#160;the&#160;EcuM&#160;......................................................................&#160;96&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#96">Table&#160;5-40&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#96">EcuM_SetWakeupEvent&#160;...........................................................................&#160;96&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#97">Table&#160;5-41&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#97">EcuM_ValidateWakeupEvent&#160;....................................................................&#160;97&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#98">Table&#160;5-42&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#98">EcuM_AlarmCheckWakeup&#160;......................................................................&#160;98&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#99">Table&#160;5-43&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#99">EcuM_AlarmCheckWakeup&#160;......................................................................&#160;99&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#100">Table&#160;5-44&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#100">EcuM_ErrorHook&#160;....................................................................................&#160;100&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#100">Table&#160;5-45&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#100">EcuM_OnGoOffOne&#160;...............................................................................&#160;100&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#101">Table&#160;5-46&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#101">EcuM_OnGoOffTwo&#160;................................................................................&#160;101&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#101">Table&#160;5-47&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#101">EcuM_AL_SwitchOff&#160;...............................................................................&#160;101&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#102">Table&#160;5-48&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#102">EcuM_AL_Reset&#160;.....................................................................................&#160;102&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#102">Table&#160;5-49&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#102">EcuM_AL_DriverInitZero&#160;........................................................................&#160;102&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#103">Table&#160;5-50&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#103">EcuM_AL_DriverInitOne&#160;.........................................................................&#160;103&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#104">Table&#160;5-51&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#104">EcuM_AL_DriverRestart&#160;.........................................................................&#160;104&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#105">Table&#160;5-52&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#105">EcuM_AL_SetProgrammableInterrupts...................................................&#160;105&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#105">Table&#160;5-53&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#105">EcuM_McuSetMode&#160;...............................................................................&#160;105&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#106">Table&#160;5-54&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#106">EcuM_WaitForSlaveCores&#160;......................................................................&#160;106&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#106">Table&#160;5-55&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#106">EcuM_StartOS&#160;........................................................................................&#160;106&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#107">Table&#160;5-56&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#107">EcuM_ShutdownOS&#160;...............................................................................&#160;107&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#108">Table&#160;5-57&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#108">EcuM_GenerateRamHash&#160;......................................................................&#160;108&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#108">Table&#160;5-58&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#108">EcuM_CheckRamHash&#160;..........................................................................&#160;108&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#109">Table&#160;5-59&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#109">EcuM_SleepActivity&#160;................................................................................&#160;109&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#110">Table&#160;5-60&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#110">EcuM_EnableWakeupSources&#160;...............................................................&#160;110&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#110">Table&#160;5-61&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#110">EcuM_DisableWakeupSources&#160;...............................................................&#160;110&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#111">Table&#160;5-62&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#111">EcuM_StartWakeupSources&#160;....................................................................&#160;111&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#111">Table&#160;5-63&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#111">EcuM_StopWakeupSources&#160;....................................................................&#160;111&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#112">Table&#160;5-64&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#112">EcuM_CheckWakeup&#160;.............................................................................&#160;112&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#112">Table&#160;5-65&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#112">EcuM_CheckValidation&#160;...........................................................................&#160;112&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#113">Table&#160;5-66&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#113">EcuM_DeterminePbConfiguration&#160;...........................................................&#160;113&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#114">Table&#160;5-67&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#114">EcuM_BswErrorHook&#160;.............................................................................&#160;114&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#115">Table&#160;5-68&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#115">EcuM_GptStartClock&#160;..............................................................................&#160;115&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#116">Table&#160;5-69&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#116">EcuM_GptSetSleep&#160;................................................................................&#160;116&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#117">Table&#160;5-70&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#117">EcuM_GptSetNormal&#160;..............................................................................&#160;117&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#118">Table&#160;5-71&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#118">EcuM_AL_DriverInitBswM&#160;......................................................................&#160;118&#160;</a><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
11&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=12></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<a href="TechnicalReference_EcuMs.html#119">Table&#160;5-72&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#119">EcuM_AL_DriverInitTwo&#160;.........................................................................&#160;119&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#120">Table&#160;5-73&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#120">EcuM_AL_DriverInitThree.......................................................................&#160;120&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#121">Table&#160;5-74&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#121">EcuM_OnEnterRun.................................................................................&#160;121&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#121">Table&#160;5-75&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#121">EcuM_OnExitRun&#160;...................................................................................&#160;121&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#122">Table&#160;5-76&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#122">EcuM_OnGoSleep&#160;..................................................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#122">Table&#160;5-77&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#122">EcuM_OnPrepShutdown&#160;........................................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#123">Table&#160;5-78&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#123">EcuM_OnExitPostRun&#160;............................................................................&#160;123&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#123">Table&#160;5-79&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#123">EcuM_OnFailedNvmWriteAllJobReaction&#160;...............................................&#160;123&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#124">Table&#160;5-80&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#124">EcuM_OnFailedNvmWriteAllJobReaction&#160;...............................................&#160;124&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#124">Table&#160;5-81&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#124">EcuM_OnRTEStartup&#160;.............................................................................&#160;124&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#125">Table&#160;5-82&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#125">Shutdown&#160;Target&#160;Port&#160;.............................................................................&#160;125&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#125">Table&#160;5-83&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#125">BootTarget&#160;Port&#160;.......................................................................................&#160;125&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#126">Table&#160;5-84&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#126">AlarmClock&#160;Port&#160;......................................................................................&#160;126&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#126">Table&#160;5-85&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#126">StateRequest&#160;Port&#160;..................................................................................&#160;126&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#127">Table&#160;5-86&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#127">currentMode&#160;Port&#160;....................................................................................&#160;127&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#133">Table&#160;7-1&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#133">Glossary&#160;.................................................................................................&#160;133&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#133">Table&#160;7-2&#160;&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#133">Abbreviations&#160;..........................................................................................&#160;133&#160;</a><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
12&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=13></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>1&#160;&#160;Component&#160;History&#160;</b><br/>
The&#160;&#160;component&#160;&#160;history&#160;&#160;gives&#160;&#160;an&#160;&#160;overview&#160;&#160;over&#160;&#160;the&#160;&#160;important&#160;&#160;milestones&#160;&#160;that&#160;&#160;are&#160;<br/>supported&#160;in&#160;the&#160;different&#160;versions&#160;of&#160;the&#160;component.&#160;&#160;<br/>
<b>Component&#160;Version&#160;&#160;New&#160;Features&#160;<br/></b>1.00.00&#160;<br/>
Adaption&#160;to&#160;AUTOSAR&#160;Release 4&#160;<br/>
1.01.00&#160;<br/>
Added&#160;support&#160;of&#160;configuration&#160;variant&#160;Post-Build&#160;Loadable&#160;<br/>Added&#160;support&#160;of&#160;asynchronous&#160;transceiver&#160;handling&#160;<br/>
2.00.00&#160;<br/>
Added&#160;support&#160;for&#160;handling&#160;of&#160;MuliCore ECUs&#160;<br/>Added&#160;support&#160;of&#160;Alarm&#160;Clock&#160;to provide&#160;the&#160;absolute&#160;time&#160;and&#160;handling&#160;<br/>of&#160;time&#160;triggered&#160;wake-ups.&#160;<br/>
3.00.00&#160;<br/>
Added&#160;support&#160;for&#160;EcuM&#160;with&#160;fixed&#160;state machine&#160;<br/>
4.00.00&#160;<br/>
Added&#160;support&#160;for&#160;Post-Build&#160;Selectable&#160;<br/>
5.00.00&#160;<br/>
Added&#160;support&#160;for&#160;Mode&#160;Handling&#160;in&#160;EcuM&#160;Flex&#160;<br/>
Table&#160;1-1&#160;&#160;&#160;Component&#160;history&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
13&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=14></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>2&#160;&#160;Introduction&#160;</b><br/>
This&#160;&#160;document&#160;&#160;describes&#160;&#160;the&#160;&#160;functionality,&#160;API&#160;&#160;and&#160;&#160;configuration&#160;&#160;of&#160;&#160;the&#160;AUTOSAR&#160;&#160;BSW&#160;<br/>module&#160;EcuM&#160;as&#160;specified&#160;in&#160;[1]&#160;and<a href="TechnicalReference_EcuMs.html#3">&#160;[7].&#160;</a>&#160;<br/>
&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;R<a href="TechnicalReference_EcuMs.html#14">elease*:</a></b><b>&#160;</b><br/>
4.0.3&#160;<br/>
<b>Supported&#160;Configuration&#160;Variants:&#160;</b><br/>
Pre-Compile,&#160;Post-Build&#160;Loadable&#160;<br/>
<b>Vendor&#160;ID:&#160;</b><br/>
ECUM_VENDOR_ID&#160;<br/>
30&#160;decimal&#160;<br/>(=&#160;Vector-Informatik,&#160;<br/>according&#160;to&#160;HIS)&#160;<br/>
<b>Module&#160;ID:&#160;</b><br/>
ECUM_MODULE_ID&#160;&#160;<br/>
10&#160;decimal&#160;<br/>(according&#160;to&#160;ref<a href="TechnicalReference_EcuMs.html#3">.&#160;[4])</a>&#160;<br/>
*&#160;For the&#160;precise&#160;AUTOSAR&#160;Release&#160;4.x&#160;please&#160;see&#160;the&#160;release&#160;specific&#160;documentation.&#160;&#160;<br/>&#160;<br/>&#160;<br/>This&#160;document&#160;describes&#160;the&#160;functionality&#160;and&#160;API&#160;of&#160;the&#160;ECU&#160;State&#160;Manager&#160;(EcuM)&#160;as&#160;a&#160;<br/>hardware&#160;independent&#160;module.&#160;<br/>The&#160;main&#160;tasks of&#160;the&#160;EcuM&#160;are:&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Initialization&#160;of&#160;BSW&#160;(Basis&#160;Software)&#160;modules&#160;that&#160;are&#160;needed&#160;to&#160;start the&#160;operating&#160;<br/>
system&#160;<br/>
<b>&gt;&#160;&#160;</b>Preparation&#160;of&#160;the&#160;microcontroller for&#160;a&#160;sleep&#160;phase&#160;and&#160;the&#160;following&#160;wake&#160;up&#160;<br/>
<b>&gt;&#160;&#160;</b>Performing&#160;an&#160;ordered&#160;shut&#160;down&#160;or&#160;reset&#160;of&#160;the&#160;ECU&#160;<br/>
<b>&gt;&#160;&#160;</b>Validation&#160;of&#160;occurred&#160;wake&#160;ups&#160;via&#160;the&#160;wake-up&#160;validation&#160;protocol&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
14&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=15></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-15_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>2.1&#160;</b><br/>
<b>Architecture&#160;Overview&#160;</b><br/>
The&#160;following&#160;figure&#160;shows&#160;where&#160;the&#160;EcuM&#160;is&#160;located&#160;in&#160;the&#160;AUTOSAR&#160;architecture.&#160;<br/>
&#160;<br/>
Figure&#160;2-1&#160;&#160;AUTOSAR&#160;architecture&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
15&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=16></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
The&#160;next&#160;figure&#160;shows&#160;the&#160;interfaces&#160;to&#160;adjacent&#160;&#160;modules&#160;of&#160;the&#160;&#160;EcuM.&#160;These&#160;interfaces&#160;<br/>are&#160;described&#160;in&#160;chapter<a href="TechnicalReference_EcuMs.html#62">&#160;5.2&#160;Services&#160;Provided&#160;by&#160;EcuM&#160;</a>and<a href="TechnicalReference_EcuMs.html#95">&#160;5.5&#160;Services&#160;Used&#160;by&#160;EcuM.&#160;</a>&#160;<br/>
<b>&#160;cmp&#160;Architecture_Ov&#160;erv&#160;iew</b><br/>
<b>SW-C&#160;/&#160;RTE</b><br/>
<b>SchM</b><br/>
<b>AUTOSAR&#160;OS</b><br/>
<b>Dem</b><br/>
<b>EcuM</b><br/>
<b>other&#160;BSW&#160;Modules</b><br/>
<b>Det</b><br/>
<b>Rte</b><br/>
<b>Bsw&#160;M</b><br/>
<b>ComM</b><br/>
<b>Mcu</b><br/>
<b>Gpt</b><br/>
<b>Nv&#160;M</b><br/>
&#160;<br/>
Figure&#160;2-2&#160;&#160;Interfaces&#160;to&#160;adjacent&#160;modules&#160;of&#160;the&#160;EcuM&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
16&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=17></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3&#160;&#160;Functional&#160;Description&#160;</b><br/>
<b>3.1&#160;</b><br/>
<b>Features&#160;</b><br/>
The&#160;features&#160;listed&#160;in&#160;the&#160;following&#160;tables&#160;cover&#160;the&#160;complete&#160;functionality&#160;specified&#160;for&#160;the&#160;<br/>EcuM.&#160;<br/>The&#160;AUTOSAR&#160;standard&#160;functionality&#160;is&#160;specified&#160;in&#160;[1]&#160;and<a href="TechnicalReference_EcuMs.html#3">&#160;[7],&#160;</a>the&#160;corresponding&#160;features&#160;<br/>are&#160;listed&#160;in&#160;the&#160;tables:&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_EcuMs.html#17">Table&#160;3-1&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;EcuM&#160;common&#160;features&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_EcuMs.html#18">Table&#160;3-2&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;EcuM&#160;flex&#160;features&#160;</a><br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_EcuMs.html#18">Table&#160;3-3&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;EcuM&#160;fixed&#160;features&#160;</a><br/>
For&#160;further information&#160;of&#160;not&#160;supported&#160;features&#160;see&#160;also&#160;chapte<a href="TechnicalReference_EcuMs.html#126">r&#160;0.</a>&#160;<br/>Vector&#160;Informatik&#160;provides&#160;further&#160;EcuM&#160;functionality&#160;beyond&#160;the&#160;AUTOSAR&#160;standard.&#160;The&#160;<br/>corresponding&#160;features&#160;are&#160;listed&#160;in&#160;the&#160;table:&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_EcuMs.html#18">Table&#160;3-4&#160;&#160;&#160;Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR&#160;standard&#160;</a><br/>
&#160;<br/>
The&#160;following&#160;features&#160;specified&#160;in&#160;[1]&#160;and<a href="TechnicalReference_EcuMs.html#3">&#160;[7]&#160;</a>are&#160;supported:&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;Standard Conform&#160;Features&#160;<br/></b>Configuration&#160;of&#160;different&#160;wake-up&#160;sources.&#160;<br/>Configuration&#160;of&#160;EcuM&#160;users.&#160;<br/>Configurable&#160;startup&#160;sequence&#160;of&#160;the&#160;BSW&#160;stack&#160;that&#160;is&#160;needed&#160;before starting&#160;the&#160;OS.&#160;<br/>Possibility&#160;to add&#160;additional&#160;initialization&#160;code into&#160;the&#160;initialization&#160;lists.&#160;<br/>Notification of&#160;the&#160;BswM&#160;if&#160;a&#160;wake-up&#160;event&#160;occurs&#160;on&#160;a&#160;wake-up&#160;source.&#160;<br/>Notification of&#160;the&#160;ComM&#160;if&#160;a&#160;wake-up&#160;event&#160;occurs&#160;on&#160;communication&#160;channels.&#160;<br/>Assignment&#160;of&#160;communication&#160;channels&#160;to&#160;wake-up&#160;sources.&#160;<br/>Configuration&#160;of&#160;different&#160;sleep&#160;modes.&#160;<br/>Selection&#160;of&#160;different&#160;shutdown&#160;targets.&#160;<br/>Selection&#160;of&#160;different&#160;shutdown&#160;causes.&#160;<br/>Generation&#160;of&#160;the&#160;SW-C&#160;description&#160;file&#160;needed&#160;for&#160;the&#160;generation&#160;of&#160;the&#160;RTE.&#160;<br/>Service&#160;Port:&#160;EcuM_ShutdownTarget&#160;<br/>Service&#160;Port:&#160;EcuM_BootTarget&#160;<br/>Consistency&#160;hash checking&#160;according&#160;to&#160;AUTOSAR&#160;specification&#160;<br/>Post-build&#160;configuration&#160;of&#160;the&#160;EcuM&#160;<br/>Support&#160;of&#160;MultiCore&#160;ECUs&#160;<br/>Run&#160;/&#160;Post_Run&#160;Request&#160;Protocol&#160;<br/>Mode&#160;Port:&#160;EcuM_CurrentMode&#160;<br/>
Table&#160;3-1&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;EcuM&#160;common&#160;features&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
17&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=18></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
The&#160;following&#160;EcuM&#160;flex&#160;features&#160;specified&#160;in&#160;[1]&#160;are&#160;supported:&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;EcuM&#160;flex&#160;Features&#160;<br/></b>Configuration&#160;of&#160;different&#160;reset&#160;modes.&#160;<br/>Service&#160;Port:&#160;EcuM_AlarmClock&#160;<br/>Defensive&#160;Behavior&#160;to&#160;check the&#160;valid call&#160;of&#160;EcuM_GoDown&#160;<br/>Alarm&#160;clock&#160;to&#160;provide&#160;an absolute&#160;time&#160;and handling&#160;of&#160;time triggered&#160;wake-ups.&#160;<br/>
Table&#160;3-2&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;EcuM&#160;flex&#160;features&#160;<br/>
&#160;<br/>
The&#160;following&#160;EcuM&#160;fixed&#160;features&#160;specified&#160;in<a href="TechnicalReference_EcuMs.html#3">&#160;[7]&#160;</a>are&#160;supported:&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;EcuM&#160;fixed&#160;Features&#160;<br/></b>Full&#160;initialization&#160;of&#160;the&#160;Stack&#160;via&#160;configurable&#160;DriverInitLists&#160;<br/>Fixed&#160;state&#160;machine&#160;to&#160;control&#160;the&#160;ECU&#160;states&#160;<br/>Allow&#160;communication&#160;via&#160;ComM_CommunicationAllowed&#160;when&#160;entering&#160;the&#160;ECUM_STATE_RUN&#160;<br/>Handle&#160;NvM_WriteAll()&#160;and&#160;NvM_CancelWriteAll()&#160;<br/>Start&#160;and&#160;stop&#160;of&#160;the&#160;RTE&#160;<br/>
Table&#160;3-3&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;EcuM&#160;fixed&#160;features&#160;<br/>
The&#160;following&#160;features&#160;are provided&#160;beyond&#160;the&#160;AUTOSAR&#160;standard:&#160;<br/>
<b>Features&#160;Provided&#160;Beyond&#160;The&#160;AUTOSAR&#160;Standard&#160;<br/></b>Adding&#160;of&#160;additional&#160;initialization&#160;code by&#160;the&#160;configuration&#160;tool&#160;<br/>Wake-up&#160;Events&#160;are&#160;buffered&#160;until&#160;the&#160;BswM&#160;and&#160;the&#160;ComM&#160;are initialized&#160;<br/>Support&#160;of&#160;asynchronous&#160;transceiver&#160;handling&#160;(Introduced&#160;API&#160;EcuM_StartCheckWakeup&#160;+&#160;<br/>EcuM_EndCheckWakeup)&#160;&#160;<br/>Providing&#160;an&#160;additional&#160;API&#160;EcuM_ClearValidatedWakeupEvent()&#160;to&#160;clear&#160;only&#160;validated,&#160;but&#160;not&#160;<br/>pending&#160;wake-up&#160;events&#160;<br/>Providing&#160;an&#160;additional&#160;API&#160;EcuM_GoToSelectedShutdownTarget()&#160;to&#160;decide&#160;EcuM&#160;internal&#160;if&#160;<br/>EcuM_GoPoll(),&#160;EcuM_GoHalt()&#160;or&#160;EcuM_GoDown()&#160;has&#160;to&#160;be&#160;called,&#160;depending&#160;on&#160;the&#160;selected&#160;<br/>shutdown target&#160;[EcuM&#160;flex&#160;only]&#160;<br/>Configuration&#160;of&#160;the&#160;Core ID&#160;on&#160;which&#160;the&#160;BSW&#160;is&#160;initialized&#160;<br/>
Table&#160;3-4&#160;&#160;&#160;Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR&#160;standard&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
18&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=19></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.2&#160;</b><br/>
<b>States&#160;of&#160;EcuM&#160;flex&#160;</b><br/>
These&#160;states&#160;indicate&#160;the&#160;current&#160;internal&#160;EcuM&#160;Operation&#160;State.&#160;&#160;<br/>
<b>Module&#160;State&#160;</b><br/>
<b>Activities&#160;</b><br/>
<b>Point&#160;in&#160;Time&#160;</b><br/>
ECUM_STATE_STARTUP&#160;<br/>
Initializes&#160;the drivers&#160;out of&#160;&#160;Entered&#160;during&#160;EcuM_Init().&#160;<br/>the&#160;EcuM_DriverInitZero&#160;<br/>list.&#160;<br/>
ECUM_STATE_STARTUP_ONE&#160;<br/>
Initializes&#160;the drivers&#160;out of&#160;&#160;Entered&#160;during&#160;EcuM_Init().&#160;<br/>the&#160;EcuM_DriverInitOne&#160;<br/>list.&#160;<br/>Reset&#160;reason translation,&#160;<br/>setting of&#160;the&#160;default&#160;<br/>shutdown&#160;target&#160;and&#160;at&#160;the&#160;<br/>end&#160;start&#160;the&#160;operating&#160;<br/>system.&#160;<br/>
ECUM_STATE_STARTUP_TWO&#160;<br/>
Initializes&#160;the&#160;BswM&#160;and&#160;<br/>
Entered&#160;during&#160;<br/>
the&#160;SchM.&#160;<br/>
EcuM_StartupTwo().&#160;<br/>
Former&#160;buffered&#160;Wake-up&#160;<br/>Events&#160;are&#160;notified&#160;to&#160;the&#160;<br/>BswM.&#160;<br/>
ECUM_STATE_APP_RUN&#160;<br/>
After&#160;initializing&#160;the&#160;<br/>
Entered&#160;during&#160;<br/>
necessary&#160;BSW,&#160;the&#160;EcuM&#160;&#160;EcuM_StartupTwo(),&#160;<br/>is&#160;in&#160;the&#160;Run&#160;state.&#160;<br/>
EcuM_GoSleep(), EcuM_GoPoll()&#160;<br/>or&#160;during&#160;the&#160;MainFunction.&#160;<br/>
ECUM_STATE_GO_SLEEP&#160;<br/>
Prepares&#160;the&#160;ECU&#160;for the&#160;<br/>
Entered during&#160;EcuM_GoSleep().&#160;<br/>
upcoming&#160;sleep phase.&#160;<br/>
ECUM_STATE_SLEEP&#160;<br/>
Handles&#160;the&#160;sleep.&#160;<br/>
Entered&#160;during&#160;EcuM_GoHalt()&#160;or&#160;<br/>EcuM_GoPoll().&#160;<br/>
ECUM_STATE_GO_OFF_ONE&#160;<br/>
Prepares&#160;the&#160;ECU&#160;for the&#160;<br/>
Entered&#160;during&#160;EcuM_GoDown().&#160;<br/>
upcoming&#160;Off&#160;phase.&#160;&#160;<br/>The&#160;SchM&#160;and&#160;the&#160;BswM&#160;<br/>are deinitialized&#160;in&#160;this&#160;<br/>phase&#160;and&#160;the&#160;<br/>EcuM_OnGoOffOne()&#160;<br/>Callout&#160;is&#160;invoked.&#160;<br/>Finally&#160;the operating&#160;<br/>system&#160;will&#160;be&#160;shut&#160;down.&#160;<br/>
ECUM_STATE_GO_OFF_TWO&#160;<br/>
The&#160;configured&#160;shutdown&#160;<br/>
Entered&#160;during&#160;<br/>
target&#160;is&#160;called&#160;by&#160;the&#160;<br/>
EcuM_Shutdown().&#160;<br/>
EcuM.&#160;<br/>
ECUM_STATE_WAKEUP_ONE&#160;<br/>
The&#160;hardware&#160;is&#160;<br/>
&#160;<br/>
reinitialized after&#160;a&#160;former&#160;<br/>sleep&#160;mode.&#160;<br/>
ECUM_STATE_WAKEUP_VALIDATION&#160;<br/>
Waits&#160;for&#160;the validation&#160;of&#160;<br/>
After&#160;a&#160;wake-up&#160;event&#160;has&#160;<br/>
an&#160;occurred&#160;wake&#160;up.&#160;<br/>
occurred&#160;that&#160;needs&#160;validation.&#160;<br/>
Table&#160;3-5&#160;&#160;&#160;States&#160;of&#160;the&#160;EcuM&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
19&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=20></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.3&#160;</b><br/>
<b>States&#160;of&#160;EcuM&#160;fixed&#160;</b><br/>
These&#160;states&#160;indicate&#160;the&#160;current&#160;internal&#160;EcuM&#160;Operation&#160;State&#160;which&#160;can&#160;be&#160;retrieved&#160;via&#160;<br/>the&#160;AP<a href="TechnicalReference_EcuMs.html#92">I&#160;5.4.1&#160;EcuM_GetState.&#160;</a>&#160;<br/>All&#160;the&#160;states,&#160;&#160;except&#160;ECUM_STATE_STARTUP&#160;and&#160;ECUM_STATE_ERROR&#160;are&#160;notified&#160;<br/>to&#160;the&#160;BswM.&#160;In&#160;some&#160;state&#160;transitions&#160;an&#160;RTE&#160;mode&#160;switch&#160;will&#160;be&#160;performed.&#160;<br/>
<b>Module&#160;State&#160;</b><br/>
<b>Activities&#160;</b><br/>
<b>RTE&#160;Mode&#160;</b><br/>
ECUM_STATE_STARTUP&#160;<br/>
Initializes&#160;the drivers&#160;via the&#160;<br/>
ECUM_RTE_STARTUP&#160;<br/>
DriverInitLists.&#160;<br/>
(initial&#160;mode)&#160;<br/>
Reset&#160;reason translation,&#160;setting&#160;<br/>of&#160;the&#160;default&#160;shutdown target&#160;<br/>and&#160;at&#160;the end&#160;start the&#160;<br/>operating system.&#160;&#160;<br/>Initializes&#160;the&#160;BswM,&#160;the&#160;SchM&#160;<br/>and&#160;the&#160;RTE.&#160;<br/>Former&#160;buffered&#160;Wake-up&#160;<br/>Events&#160;are&#160;notified&#160;to&#160;the&#160;BswM.&#160;<br/>
ECUM_STATE_APP_RUN&#160;<br/>
EcuM&#160;stays&#160;in&#160;this&#160;state&#160;while&#160;<br/>
ECUM_RTE_RUN&#160;<br/>
there&#160;are&#160;active&#160;Run&#160;Requests,&#160;<br/>the&#160;EcuM&#160;Self Run&#160;Request&#160;<br/>timeout&#160;has&#160;not expired&#160;or&#160;<br/>ComM&#160;Channels&#160;are&#160;in&#160;<br/>communication.&#160;<br/>
ECUM_STATE_APP_POST_RUN&#160;<br/>
Post Run Requests&#160;keep&#160;the&#160;<br/>
ECUM_RTE_POST_RUN&#160;<br/>
EcuM&#160;in&#160;this&#160;state.&#160;<br/>
ECUM_STATE_PREP_SHUTDOWN&#160;<br/>
Shutdown&#160;the&#160;DEM&#160;and&#160;transit&#160;<br/>
ECUM_RTE_POST_RUN&#160;<br/>
directly&#160;to&#160;<br/>ECUM_STATE_GO_SLEEP&#160;or&#160;<br/>ECUM_STATE_GO_OFF_ONE&#160;<br/>
ECUM_STATE_GO_SLEEP&#160;<br/>
EcuM&#160;triggers&#160;the&#160;<br/>
ECUM_RTE_SLEEP&#160;<br/>
NvM_WriteAll()&#160;job.&#160;&#160;<br/>EcuM&#160;remains&#160;in&#160;this&#160;state&#160;until&#160;<br/>the&#160;NvM&#160;calls&#160;<br/>EcuM_CB_NfyNvMJobEnd()&#160;or&#160;<br/>the&#160;occurrence&#160;of&#160;a&#160;wake&#160;up&#160;<br/>event cancels&#160;the sleep&#160;<br/>process.&#160;In case of&#160;a&#160;wake&#160;up&#160;<br/>event, NvM_CancelWriteAll()&#160;is&#160;<br/>called.&#160;<br/>
ECUM_STATE_SLEEP&#160;<br/>
Handles&#160;the&#160;sleep&#160;and&#160;a&#160;wake&#160;<br/>
ECUM_RTE_SLEEP&#160;<br/>
up&#160;from&#160;sleep.&#160;<br/>
ECUM_STATE_GO_OFF_ONE&#160;<br/>
Stops&#160;the&#160;RTE&#160;and&#160;triggers&#160;<br/>
ECUM_RTE_SHUTDOWN&#160;<br/>
NvM_WriteAll().&#160;&#160;<br/>EcuM&#160;remains&#160;in&#160;this&#160;state&#160;until&#160;<br/>the&#160;NvM&#160;call&#160;<br/>EcuM_CB_NfyNvMJobEnd().&#160;<br/>
ECUM_STATE_WAKEUP_VALIDATION&#160;<br/>
Waits&#160;for&#160;the validation&#160;of an&#160;<br/>
ECUM_RTE_SLEEP&#160;<br/>
occurred&#160;wake up.&#160;<br/>
ECUM_STATE_WAKEUP_REACTION&#160;<br/>
Wait for completion&#160;of&#160;a&#160;<br/>
ECUM_RTE_SLEEP&#160;<br/>
potential&#160;NvM_CancelWriteAll().&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
20&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=21></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>Module&#160;State&#160;</b><br/>
<b>Activities&#160;</b><br/>
<b>RTE&#160;Mode&#160;</b><br/>
ECUM_STATE_WAKEUP_WAKESLEEP&#160;&#160;-&#160;<br/>
ECUM_RTE_WAKE_SLEEP&#160;<br/>
ECUM_STATE_ERROR&#160;<br/>
The&#160;EcuM_ErrorHook&#160;is&#160;called&#160;<br/>
-&#160;<br/>
in this&#160;state.&#160;<br/>This&#160;state&#160;is&#160;only&#160;reached&#160;if&#160;the&#160;<br/>ShutdownOS()&#160;or&#160;<br/>EcuM_AL_SwitchOff&#160;returns&#160;to&#160;<br/>the&#160;EcuM.&#160;<br/>
Table&#160;3-6&#160;&#160;&#160;States&#160;of&#160;the&#160;EcuM&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
21&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=22></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.4&#160;</b><br/>
<b>The&#160;State&#160;Diagram&#160;of&#160;the&#160;EcuM&#160;flex&#160;</b><br/>
The&#160;&#160;following&#160;&#160;figure&#160;&#160;shows&#160;&#160;the&#160;&#160;EcuM&#160;&#160;state&#160;&#160;diagram&#160;&#160;with&#160;&#160;all&#160;&#160;state&#160;&#160;transitions,&#160;&#160;the&#160;<br/>corresponding&#160;conditions and&#160;actions:&#160;<br/>
<b>stm&#160;EcuPhases</b><br/>
EcuM_Init<br/>called<br/>
<b>STARTUP</b><br/>
EntryPoint<br/>
<b>ECUM_STATE_STARTUP_ONE&#160;(EcuM_Init)</b><br/>
<b>notes</b><br/>
<i>Perform&#160;the&#160;actions&#160;in&#160;the&#160;StartPreOS&#160;Sequence:</i><br/>
<i>-&#160;Set&#160;Interrupts<br/>-&#160;DriverInitZero&#160;(init&#160;Block0)<br/>-&#160;Determine&#160;PbConfiguration&#160;(return&#160;a&#160;pointer&#160;to&#160;the&#160;config&#160;struct&#160;<br/>that&#160;contain&#160;post-build&#160;config&#160;data&#160;from&#160;EcuM&#160;and&#160;all&#160;other&#160;BSWs)<br/>-&#160;Check&#160;consistency&#160;of&#160;the&#160;configuration&#160;data<br/>-&#160;DriverInitOne&#160;(init&#160;Block1)<br/>-&#160;Get&#160;Mcu&#160;reset&#160;reason<br/>-&#160;Select&#160;default&#160;shutdown&#160;target<br/>-&#160;Start&#160;OS</i><br/>
<b>SLEEP</b><br/>
EcuM_StartupTwo()&#160;is&#160;called&#160;by<br/>
[Shutdown&#160;Target&#160;==&#160;ECUM_STATE_RESET]<br/>
OS&#160;or&#160;by&#160;a&#160;task<br/>
/Action:&#160;EcuM_AL_Reset<br/>
EntryPoint<br/>
<b>ECUM_STATE_STARTUP_TWO&#160;(EcuM_StartupTw&#160;o)</b><br/>
<b>ECUM_STATE_GO_SLEEP&#160;</b><br/>
<b>(EcuM_EnterSleep)</b><br/>
<b>notes</b><br/>
A&#160;shutdown&#160;target&#160;must&#160;<br/>
<i>Perform&#160;the&#160;actions&#160;in&#160;the&#160;StartPostOS&#160;Sequence:</i><br/>
be&#160;set&#160;by&#160;the&#160;BswM&#160;or&#160;<br/>another&#160;SW-C&#160;before&#160;<br/>
<b>notes</b><br/>
<i>-&#160;Init&#160;BSW&#160;Scheduler&#160;</i><br/>
WakeUP&#160;Event<br/>
GoHalt&#160;or&#160;GoPoll&#160;is&#160;<br/>
<i>EcuM&#160;prepares&#160;the&#160;Hardware&#160;for&#160;going&#160;to&#160;</i><br/>
<i>-&#160;Init&#160;BSW&#160;Mode&#160;Manager</i><br/>
called.<br/>
<i>sleep&#160;and&#160;setting&#160;the&#160;WakeUp&#160;sources.</i><br/>
<i>-&#160;Notify&#160;the&#160;BswM&#160;about&#160;Wakeups&#160;during&#160;Startup</i><br/>
<i>(from&#160;Features)</i><br/>
[call&#160;Mcu_Setmode(GoHalt)]<br/>
<b>ECUM_STATE_SLEEP</b><br/>
Final<br/>
BSW&#160;Scheduler&#160;started<br/>
<b>Poll</b><br/>
<b>Halt</b><br/>
&amp;&#160;BswM_Init&#160;called<br/>
<b>UP</b><br/>
<b>notes</b><br/>
<b>notes</b><br/>
<i>EcuM&#160;checks&#160;for&#160;pending&#160;wakeups&#160;</i><br/>
<i>No&#160;more&#160;code&#160;is&#160;executed.</i><br/>
<i>cyclically&#160;by&#160;calling&#160;</i><br/>
[No&#160;WakeUp<br/>
[No&#160;WakeUp<br/>
<i>EcuM_CheckWakeup().&#160;</i><br/>
<i>Before&#160;halting&#160;the&#160;MCU,&#160;EcuM&#160;must&#160;</i><br/>
occured]<br/>
occured]<br/>
<i>Auxiliary&#160;EcuM_SleepActivity()&#160;must&#160;</i><br/>
<i>invoke&#160;GenerateRamHash&#160;and&#160;call&#160;</i><br/>
<i>be&#160;called&#160;for&#160;e.g.&#160;updating&#160;the&#160;alarm</i><br/>
<i>CheckRamHash&#160;before&#160;leaving&#160;halt.</i><br/>
<b>ECUM_STATE_RUN&#160;(EcuM_EnterSleep,&#160;</b><br/>
<i>clock.</i><br/>
<i>On&#160;Multicore:&#160;Only&#160;check&#160;the&#160;master&#160;</i><br/>
<b>EcuM_MainFunction,&#160;</b><br/>
<i>core.</i><br/>
<b>EcuM_StartupTw&#160;o)</b><br/>
[GoHalt()&#160;or&#160;GoPoll()&#160;is&#160;invoked&#160;by<br/>BswM]<br/>
<b>notes</b><br/>
<i>Tasks&#160;in&#160;the&#160;UP&#160;Phase:</i><br/>
[ValidatedWakeups&#160;=&#160;True]<br/>
<i>-&#160;WakeUp&#160;Validation</i><br/>
/<br/>
[call&#160;EcuM_WakeupRestart]<br/>
<b>ECUM_STATE_WAKEUP_ONE&#160;</b><br/>
<b>(EcuM_WakeupRestart)</b><br/>
<i>(from&#160;Features)</i><br/>
EcuM_GoOff<br/>
[ValidatedWakeups&#160;=&#160;False]<br/>
<b>ECUM_STATE_WAKEUP_VALIDATION&#160;</b><br/>
<b>(EcuM_EnterSleep)</b><br/>
[GoHalt()&#160;or&#160;GoPoll()]<br/>
If&#160;in&#160;ECUM_STATE_WAKEUP_VALIDATION&#160;<br/>
<b>SHUTDOWN</b><br/>
no&#160;wakeup&#160;will&#160;be&#160;validated,&#160;the&#160;BswM&#160;can&#160;<br/>set&#160;the&#160;EcuM&#160;back&#160;to&#160;sleep&#160;by&#160;calling&#160;GoHalt<br/>()&#160;or&#160;GoPoll().<br/>
EntryPoint<br/>
Final<br/>
<b>ECUM_STATE_GO_OFF_ONE&#160;(EcuM_GoDow&#160;n)</b><br/>
<b>notes</b><br/>
<i>Activities&#160;in&#160;the&#160;OffPreOS&#160;Phase:</i><br/>
<i>(from&#160;Features)</i><br/>
If&#160;a&#160;wakeup&#160;event&#160;<br/>
<i>-&#160;De-Init&#160;BSW&#160;Mode&#160;Manager</i><br/>
occurs&#160;the&#160;Shutdown&#160;<br/>
<i>-&#160;De-Init&#160;BSW&#160;Scheduler</i><br/>
sequence&#160;shall&#160;be&#160;<br/>
<i>-&#160;Check&#160;for&#160;pending&#160;wakeup&#160;events</i><br/>
completed&#160;and&#160;restart&#160;<br/>
<i>-&#160;Set&#160;RESET&#160;as&#160;shutdown&#160;target,&#160;if&#160;wakeup&#160;events&#160;are&#160;pending</i><br/>
immediately&#160;thereafter.<br/>
<i>-&#160;Shutdown&#160;OS</i><br/>
EcuM_Shutdown<br/>
<b>ECUM_STATE_GO_OFF_TWO</b><br/>
Final<br/>
[Shutdown&#160;Target&#160;==&#160;ECUM_STATE_OFF]<br/>/EcuM_AL_SwitchOff<br/>
Off<br/>
&#160;<br/>
Figure&#160;3-1&#160;&#160;The&#160;state&#160;diagram&#160;of&#160;the&#160;EcuM&#160;flex&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
22&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=23></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.5&#160;</b><br/>
<b>The&#160;State&#160;Diagram&#160;of&#160;the&#160;EcuM&#160;with fixed&#160;state&#160;machine&#160;</b><br/>
The&#160;&#160;following&#160;&#160;figure&#160;&#160;shows&#160;&#160;the&#160;&#160;EcuM&#160;&#160;state&#160;&#160;diagram&#160;&#160;with&#160;&#160;all&#160;&#160;state&#160;&#160;transitions&#160;&#160;and&#160;&#160;the&#160;<br/>corresponding&#160;RTE&#160;modes:&#160;<br/>
<b>&#160;stm&#160;EcuMFixedStateMachine_Ov&#160;erv&#160;iew</b><br/>
from&#160;Startup<br/>Code<br/>
STARTUP<br/>
<b>ECUM_STATE_&#160;INIT</b><br/>
<b>notes</b><br/>
<i>Init&#160;Sequence&#160;I:</i><br/>
<i>EcuM_AL_SetProgrammableInterrupts()&#160;[type:callout]<br/>EcuM_AL_DriverInitZero&#160;[type:callout]<br/>EcuM_DeterminePbConfiguration&#160;[type:callout]<br/>EcuM_AL_DriverInitOne&#160;[type:callout]&#160;e.g.&#160;Dem_Init<br/>Retrieve&#160;reset&#160;reason&#160;from&#160;MCU&#160;module&#160;and&#160;map&#160;it&#160;to&#160;an&#160;wakeup&#160;source<br/>Start&#160;OS</i><br/>
Interrupts&#160;are&#160;<br/>available&#160;now!<br/>
<b>ECUM_STATE_STARTUP</b><br/>
<b>notes</b><br/>
<i>Init&#160;Sequence&#160;II:</i><br/>
<i>Init&#160;BSW&#160;Scheduler&#160;(SchM_Init)<br/>Init&#160;BswM&#160;(BswM_Init)<br/>EcuM_AL_DriverInitTwo&#160;&#160;[type:callout]<br/>EcuM_OnRTEStartup&#160;&#160;[type:callout]<br/>Start&#160;Rte<br/>EcuM_AL_DriverInitThree&#160;[type:callout]</i><br/>
Init&#160;finished&#160;and&#160;Rte&#160;has&#160;sent&#160;its&#160;feedback<br/>
[NO&#160;-&#160;&#34;normal&#34;&#160;startup]<br/>
[YES&#160;-&#160;wakeup&#160;by&#160;wakeup&#160;source&#160;with&#160;integrated&#160;power&#160;control]<br/>
Wakeup&#160;validation&#160;necessary<br/>
/EcuM_OnEnterRun&#160;[type:&#160;callout]<br/>
/RTE&#160;notification&#160;about&#160;SLEEP<br/>
to&#160;switch&#160;into&#160;RUN&#160;mode?<br/>
ComM_CommunicationAllowed(TRUE)<br/>
SLEEP&#160;Mode<br/>
RUN&#160;Mode<br/>
enter&#160;RUN&#160;mode<br/>
enter&#160;SLEEP&#160;mode<br/>
[wakeup&#160;event<br/>pending]<br/>
[valid&#160;wakeup&#160;event&#160;&amp;&amp;&#160;Rte&#160;has&#160;sent&#160;its<br/>feedback&#160;&amp;&amp;&#160;NvM_WriteAll&#160;is&#160;canceled]<br/>/Dem_Init<br/>
<b>ECUM_STATE_&#160;APP_RUN</b><br/>
<b>ECUM_STATE_&#160;WAKEUP_REACTION</b><br/>
EcuM_OnEnterRun&#160;[type:&#160;callout]<br/>
<b>ECUM_STATE_&#160;</b><br/>
BswM_EcuM_CurrentState<br/>
[wakeup&#160;event&#160;not&#160;pending]<br/>
<b>WAKEUP_VALIDATION</b><br/>
(ECUM_STATE_APP_RUN)<br/>
/BswM_EcuM_CurrentState<br/>
<b>notes</b><br/>
ComM_CommunicationAllowed(TRUE)<br/>
(ECUM_STATE_WAKEUP_REACTION)<br/>
<i>Decrease&#160;the&#160;EcuM&#160;SelfRequest&#160;Timeout.</i><br/>
EcuM_OnWakeupReaction&#160;[type:&#160;callout]<br/>
<i>EcuM&#160;remains&#160;in&#160;RUN&#160;state&#160;for&#160;minimum&#160;duration&#160;of&#160;SelfRequestTimeout.</i><br/>
<i>Consider&#160;wakeup&#160;validation&#160;for&#160;communication&#160;channels.</i><br/>
[All&#160;RUN&#160;requests&#160;released&#160;&amp;&amp;&#160;SelfRequestTimeout&#160;reached&#160;&amp;&amp;<br/>
[wakeup&#160;event&#160;occured]<br/>
Rte&#160;has&#160;sent&#160;its&#160;feedback&#160;&amp;&amp;&#160;ComM&#160;channels&#160;are&#160;not&#160;in&#160;state<br/>
/BswM_EcuM_CurrentState(ECUM_STATE_WAKEUP_VALIDATION)<br/>
COMM_NO_COM_PENDING_REQUEST]<br/>
EcuM_OnWakeupReaction()<br/>
/Clear&#160;all&#160;Wakeup&#160;Events<br/>BswM_EcuM_CurrentState/(ECUM_STATE_APP_POST_RUN)<br/>EcuM_OnExitRun&#160;[type:&#160;callout]<br/>
leave&#160;RUN&#160;mode<br/>
ComM_CommunicationAllowed(FALSE)<br/>
POST_RUN&#160;Mode<br/>
<b>ECUM_STATE_SLEEP</b><br/>
enter&#160;POST_RUN&#160;mode<br/>
[no&#160;pending&#160;or&#160;valid&#160;wakeup<br/>
[wakeup&#160;reaction&#160;is<br/>
occured]<br/>
SLEEP]<br/>
<b>ECUM_STATE_APP_POST_RUN</b><br/>
WAKE_SLEEP&#160;Mode<br/>
enter&#160;WAKE_SLEEP&#160;mode<br/>
[wakeup&#160;event&#160;occured&#160;&amp;&amp;&#160;Rte<br/>
<b>ECUM_STATE_WAKE_SLEEP</b><br/>
has&#160;sent&#160;its&#160;feedback]<br/>
[NvM&#160;finished&#160;its&#160;write&#160;job&#160;&amp;&amp;&#160;no&#160;valid&#160;wakeup<br/>
[(RUN&#160;state&#160;requested&#160;||&#160;EcuM&#160;has&#160;valid<br/>
/NvM_CancelWriteAll<br/>
existent&#160;&amp;&amp;&#160;Rte&#160;has&#160;sent&#160;its&#160;feedback]<br/>
wakeup&#160;||&#160;ComM&#160;channel&#160;is&#160;pending)&#160;&amp;&amp;&#160;Rte<br/>
[All&#160;POST_RUN&#160;requests&#160;released&#160;&amp;&amp;<br/>
EcuM_AL_DriverRestart&#160;[type:<br/>
/BswM_EcuM_CurrentState(ECUM_STATE_SLEEP)<br/>
has&#160;sent&#160;its&#160;feedback]<br/>
Rte&#160;has&#160;sent&#160;its&#160;feedback]<br/>
callout]<br/>
/EcuM_OnEnterRun&#160;[type:callout]<br/>
/EcuM_OnExitPostRun&#160;[type:&#160;callout]<br/>
EcuM_EnableCommunication(TRUE)&#160;[type:<br/>callout]<br/>
[Rte&#160;has&#160;sent&#160;its&#160;feedback&#160;]<br/>
<b>ECUM_STATE_&#160;</b><br/>
switch&#160;back&#160;into<br/>
[wait&#160;for&#160;NvM&#160;AND<br/>
<b>PREP_SHUTDOWN</b><br/>
RUN&#160;mode<br/>
asynchron&#160;wakeup<br/>events]<br/>
/Rte&#160;notification&#160;about&#160;SLEEP<br/>EcuM_OnGoSleep&#160;[Type:&#160;callout]<br/>
<b>ECUM_STATE_&#160;GO_SLEEP</b><br/>
Dem_Shutdown<br/>NvM_WriteAll&#160;(when&#160;coming&#160;from&#160;PREP_SHUTDOWN)<br/>
leave&#160;POST_RUN&#160;mode<br/>
shutdown<br/>target?<br/>
[shutdown&#160;target&#160;is&#160;SLEEP]<br/>
[shutdown&#160;target&#160;is&#160;not&#160;SLEEP]<br/>
enter&#160;SLEEP<br/>
SHUTDOWN&#160;Mode<br/>
mode<br/>
enter&#160;SHUTDOWN&#160;mode<br/>
/Rte&#160;notification&#160;about&#160;SHUTDOWN<br/>EcuM_OnGoOffOne&#160;[Type:&#160;callout]<br/>Dem_Shutdown<br/>NvM_WriteAll<br/>
<b>ECUM_STATE_&#160;GO_OFF_ONE</b><br/>
<b>notes</b><br/>
<i>BswM&#160;notification&#160;about&#160;ECUM_STATE_&#160;GO_OFF<br/>Rte_Stop<br/>SchM_DeInit<br/>BswM_DeInit<br/>ShutdownOS</i><br/>
[Execution&#160;of&#160;ShutdownOS()&#160;successful]<br/>/EcuM_OnGoOffTwo&#160;[Type:&#160;callout]<br/>Rte_Stop()<br/>
[NvM_WriteAll&#160;finished&#160;&amp;&amp;<br/>
SchM_DeInit()<br/>
Rte&#160;has&#160;sent&#160;its&#160;feedback]<br/>
BswM_DeInit()<br/>ShutdownOS()<br/>
<b>ECUM_STATE_&#160;</b><br/>
<b>GO_OFF_TWO</b><br/>
leave<br/>SHUTDOWN<br/>Mode<br/>
&#160;<br/>
&#160;<br/>
Figure&#160;3-2&#160;State&#160;Diagram&#160;of&#160;the&#160;EcuM&#160;with&#160;fixed&#160;state&#160;machine&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
23&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-24_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-24_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.6&#160;</b><br/>
<b>Initialization&#160;</b><br/>
The&#160;initialization&#160;of&#160;the&#160;EcuM&#160;is split&#160;into&#160;two&#160;parts:&#160;one&#160;part&#160;is the&#160;initialization&#160;before&#160;the&#160;<br/>OS&#160;is&#160;up&#160;and&#160;running&#160;and&#160;the&#160;second&#160;part must&#160;be&#160;executed&#160;when&#160;the&#160;OS&#160;is started.&#160;&#160;<br/>
<b>3.6.1&#160;</b><br/>
<b>EcuM_Init&#160;</b><br/>
The&#160;first&#160;part will&#160;be&#160;performed&#160;by&#160;the&#160;function&#160;EcuM_Init()&#160;(refer to&#160;chapter<a href="TechnicalReference_EcuMs.html#63">&#160;5.2.2)</a>.&#160;This&#160;<br/>function&#160;executes&#160;the&#160;DriverInitLists&#160;“EcuMDriverInitListZero” and&#160;“EcuMDriverInitListOne”&#160;<br/>where the&#160;basic driver&#160;initialization&#160;should&#160;be&#160;performed.&#160;EcuM_Init()&#160;starts the&#160;AUTOSAR&#160;<br/>OS&#160;by&#160;calling&#160;the&#160;function&#160;StartOS()&#160;(refer to&#160;chapte<a href="TechnicalReference_EcuMs.html#64">r&#160;5.2.3)</a>.&#160;&#160;<br/>&#160;<br/>
<b>3.6.2&#160;</b><br/>
<b>EcuM_StartupTwo&#160;</b><br/>
The&#160;second&#160;part&#160;of&#160;the&#160;initialization&#160;sequence&#160;will&#160;be&#160;executed&#160;by&#160;the&#160;EcuM&#160;API&#160;<br/>EcuM_StartupTwo().&#160;The&#160;integrator&#160;must&#160;ensure&#160;that&#160;this&#160;function&#160;is called&#160;once&#160;right&#160;after&#160;<br/>the&#160;start of&#160;the&#160;OS.&#160;&#160;<br/>&#160;<br/>
<b>3.6.2.1&#160;</b><br/>
<b>EcuM_StartupTwo in&#160;case&#160;of EcuM&#160;flex&#160;</b><br/>
When&#160;EcuM_StartupTwo()&#160;is&#160;left,&#160;the&#160;EcuM&#160;flex&#160;is&#160;in&#160;Run&#160;state&#160;and&#160;passes&#160;the&#160;control&#160;of&#160;<br/>the&#160;ECU&#160;to&#160;the&#160;BswM.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>At&#160;the&#160;end&#160;of&#160;the&#160;EcuM_StartupTwo the&#160;EcuM&#160;is&#160;fully&#160;initialized.&#160;That&#160;does&#160;not&#160;mean&#160;<br/>
<b>&#160;&#160;</b>that&#160;the&#160;whole stack&#160;is&#160;initialized,&#160;it&#160;means&#160;only&#160;that&#160;the&#160;EcuM&#160;has&#160;passed&#160;the&#160;control&#160;<br/>
over&#160;to&#160;the&#160;BswM.&#160;Further&#160;initialization&#160;is&#160;done&#160;by&#160;the&#160;BswM.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.6.2.2&#160;</b><br/>
<b>EcuM_StartupTwo in&#160;case&#160;of EcuM&#160;fixed&#160;</b><br/>
In&#160;&#160;case&#160;&#160;of&#160;&#160;EcuM&#160;&#160;fixed,&#160;&#160;in&#160;&#160;EcuM_StartupTwo()&#160;&#160;the&#160;&#160;DriverInitLists&#160;&#160;“EcuMDriverInitListTwo”&#160;<br/>and&#160;“EcuMDriverInitListThree”&#160;can&#160;be&#160;used&#160;to&#160;initialize&#160;the&#160;whole&#160;stack.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>At&#160;the&#160;end&#160;of&#160;the&#160;EcuM_StartupTwo the&#160;EcuM&#160;fixed&#160;transits&#160;to&#160;<br/>
<b>&#160;&#160;</b>ECUM_STATE_APP_RUN&#160;in&#160;case&#160;of&#160;a&#160;validated&#160;wake&#160;up,&#160;e.g.&#160;set&#160;by&#160;the<a href="TechnicalReference_EcuMs.html#29">&#160;MCU&#160;Reset&#160;</a><br/>
<a href="TechnicalReference_EcuMs.html#29">Reason&#160;</a>(refer&#160;to&#160;chapter<a href="TechnicalReference_EcuMs.html#29">&#160;3.9.5)</a>.&#160;<br/>If&#160;this&#160;wake up&#160;was cleared&#160;(in&#160;EcuMDriverInitListTwo),&#160;the&#160;EcuM&#160;transits&#160;to&#160;<br/>ECUM_STATE_WAKEUP_VALIDATION&#160;and&#160;performs&#160;a&#160;wake&#160;up&#160;validation&#160;if&#160;any&#160;wake&#160;<br/>up&#160;source&#160;is&#160;pending.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.6.3&#160;</b><br/>
<b>Initialization&#160;Order&#160;</b><br/>
Depending&#160;on&#160;which&#160;modules&#160;are&#160;needed&#160;for&#160;starting&#160;the&#160;operating&#160;system&#160;the&#160;initialization&#160;<br/>lists&#160;can&#160;look different.&#160;&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
24&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-25_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
In&#160;the&#160;following&#160;an&#160;example&#160;initialization&#160;order&#160;is&#160;given.&#160;Init Block&#160;0&#160;corresponds&#160;to&#160;the&#160;<br/>EcuM_AL_DriverInitZero()&#160;(refer&#160;to&#160;chapter<a href="TechnicalReference_EcuMs.html#102">&#160;5.7.2.6)&#160;</a>and&#160;Init&#160;Block&#160;1&#160;corresponds&#160;to&#160;<br/>EcuM_AL_DriverInitOne()&#160;(refer&#160;to&#160;chapter<a href="TechnicalReference_EcuMs.html#103">&#160;5.7.2.7)</a>.&#160;<br/>
<b>Initialization&#160;Group&#160;</b><br/>
Init&#160;Block0&#160;<br/>
Det_Init()&#160;<br/>
Dem_PreInit(ConfigPointer)&#160;<br/>
Init&#160;Block1&#160;<br/>
Mcu_Init(ConfigPointer)&#160;<br/>
Gpt_Init(ConfigPointer)&#160;<br/>
Wdg_Init()&#160;<br/>
WdgM_Init()&#160;<br/>
Adc_Init(ConfigPointer)&#160;<br/>
Icu_Init(ConfigPointer)&#160;<br/>
Pwm_Init(ConfigPointer)&#160;<br/>
Table&#160;3-7&#160;&#160;&#160;Initialization&#160;Order&#160;<br/>
<b>3.6.4&#160;</b><br/>
<b>Additional&#160;Code&#160;in the&#160;Initialization&#160;Callouts&#160;</b><br/>
If&#160;the&#160;user&#160;needs&#160;more&#160;than&#160;the&#160;initialization&#160;routines&#160;offered&#160;by&#160;the&#160;AUTOSAR&#160;modules,&#160;<br/>the&#160;configuration&#160;tool&#160;offers&#160;the&#160;facility&#160;to&#160;add&#160;own&#160;Code&#160;to&#160;the&#160;DriverInitLists.&#160;To&#160;use&#160;this&#160;<br/>feature&#160;the&#160;user&#160;has&#160;to&#160;choose&#160;“Code”&#160;instead&#160;of&#160;a&#160;MSN,&#160;then&#160;the&#160;code&#160;can&#160;be&#160;added&#160;to&#160;a&#160;<br/>special field.&#160;<br/>The&#160;user code&#160;is added&#160;to&#160;the&#160;Init&#160;Block&#160;0&#160;or&#160;Init Block&#160;1&#160;as&#160;configured&#160;by&#160;the&#160;user.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Example&#160;<br/></b>In&#160;this&#160;example&#160;the&#160;routine&#160;Mcu_InitClock()&#160;is&#160;added&#160;to the&#160;DriverInitListOne:&#160;<br/>
&#160;<br/>
<b>&gt;&#160;&#160;</b>Open&#160;the&#160;Initialization&#160;dialogue&#160;<br/>
<b>&gt;&#160;&#160;</b>Go&#160;to&#160;the&#160;configuration&#160;of&#160;DriverInitListOne&#160;in&#160;the&#160;Pre-OS&#160;Init Sequence&#160;<br/>
<b>&gt;&#160;&#160;</b>Add&#160;an&#160;InitItem&#160;to&#160;the&#160;list&#160;and&#160;choose&#160;a&#160;name&#160;like&#160;“McuInitClock”&#160;<br/>
<b>&gt;&#160;&#160;</b>Choose&#160;“Code” in&#160;the&#160;field&#160;Type&#160;<br/>
<b>&gt;&#160;</b><br/>
In&#160;the&#160;field&#160;“Code”&#160;you&#160;can&#160;insert:&#160;“Mcu_InitClock();”&#160;<br/>
<b>&gt;&#160;&#160;</b>Reorder the&#160;position&#160;of&#160;the&#160;InitItem&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
25&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-26_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.6.5&#160;</b><br/>
<b>Inclusion of&#160;Additional&#160;Header&#160;Files&#160;</b><br/>
If&#160;the&#160;user&#160;needs&#160;additional&#160;headers&#160;for&#160;using&#160;in&#160;the&#160;EcuM_Callout_Stubs.c&#160;file,&#160;the&#160;EcuM&#160;<br/>offers&#160;the&#160;possibility&#160;of&#160;adding&#160;them&#160;by&#160;the&#160;configuration&#160;tool.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>All&#160;header&#160;files&#160;of&#160;the&#160;modules&#160;that&#160;are&#160;initialized&#160;in&#160;the&#160;DriverInitLists&#160;must&#160;be&#160;<br/>
&#160;&#160;included&#160;&#160;into&#160;&#160;the&#160;&#160;additional&#160;&#160;header&#160;&#160;files&#160;&#160;because&#160;&#160;they&#160;&#160;are&#160;&#160;not&#160;&#160;included&#160;<br/>
automatically.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.6.6&#160;</b><br/>
<b>Configuration&#160;Set&#160;Selection&#160;</b><br/>
The&#160;&#160;AUTOSAR&#160;&#160;compatible&#160;&#160;mechanism&#160;&#160;to&#160;&#160;select&#160;&#160;the&#160;&#160;configuration&#160;&#160;set&#160;&#160;which&#160;&#160;should&#160;&#160;be&#160;<br/>used&#160;for&#160;module&#160;initialization&#160;considers the&#160;following&#160;aspects:&#160;<br/>
<b>&gt;&#160;&#160;</b>Most&#160;&#160;of&#160;&#160;the&#160;&#160;AUTOSAR&#160;&#160;modules&#160;&#160;provide&#160;&#160;a&#160;&#160;configuration&#160;&#160;reference&#160;&#160;to&#160;&#160;the&#160;&#160;provided&#160;<br/>
configuration&#160;sets&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Some&#160;modules&#160;are&#160;initialized&#160;without&#160;a&#160;configuration&#160;pointer&#160;(Init-function&#160;signature&#160;<br/>
&lt;MSN&gt;_Init(void))&#160;<br/>
<b>&gt;&#160;&#160;</b>Some&#160;&#160;modules&#160;&#160;have&#160;&#160;an&#160;&#160;Init-function&#160;&#160;signature&#160;&#160;with&#160;&#160;configuration&#160;&#160;pointer&#160;&#160;but&#160;&#160;make&#160;<br/>
no&#160;use&#160;of&#160;it,&#160;therefore,&#160;they&#160;need&#160;to&#160;be&#160;initialized&#160;with&#160;a&#160;NULL_PTR.&#160;<br/>
&#160;<br/>
&#160;<br/>
The&#160;&#160;user&#160;&#160;must&#160;&#160;decide&#160;&#160;which&#160;&#160;routines&#160;&#160;use&#160;&#160;a&#160;&#160;configuration&#160;&#160;pointer.&#160;&#160;For&#160;&#160;these&#160;routines&#160;&#160;the&#160;<br/>configuration&#160;reference&#160;must&#160;be&#160;configured.&#160;<br/>
<b>&gt;&#160;&#160;</b>Module&#160;uses a&#160;configuration&#160;pointer&#160;for&#160;its&#160;initialization:&#160;<br/>
-&#160;&#160;Select&#160;in&#160;the&#160;DriverInitList a&#160;MSN&#160;via&#160;the&#160;field&#160;Type&#160;(e.g.&#160;Dem)&#160;<br/>
-&#160;&#160;Select&#160;the&#160;corresponding&#160;Service&#160;(e.g.&#160;Dem_PreInit)&#160;<br/>
-&#160;&#160;Configure&#160;&#160;the&#160;&#160;corresponding&#160;&#160;Configuration&#160;&#160;Pointer&#160;&#160;for&#160;&#160;that&#160;&#160;MSN&#160;&#160;(e.g.&#160;<br/>
DemConfigSet)&#160;<br/>
-&#160;&#160;Result:&#160;The&#160;EcuM&#160;generates “Dem_PreInit(&amp;DemConfigSet)”&#160;<br/>
<b>&gt;&#160;&#160;</b>Module&#160;has&#160;a&#160;void&#160;Init-function&#160;signature&#160;<br/>
-&#160;&#160;Select&#160;in&#160;the&#160;DriverInitList a&#160;MSN&#160;via&#160;the&#160;field&#160;Type&#160;(e.g.&#160;Det)&#160;<br/>
-&#160;&#160;Select&#160;the&#160;corresponding&#160;Service&#160;(e.g.&#160;Det_Init)&#160;<br/>
-&#160;&#160;Do&#160;not&#160;configure&#160;the&#160;corresponding&#160;Configuration&#160;Pointer&#160;for&#160;this&#160;MSN&#160;<br/>
-&#160;&#160;Result:&#160;The&#160;EcuM&#160;generates:&#160;“Det_Init()”&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
26&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-27_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-27_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>If&#160;a&#160;module&#160;initialization&#160;routine&#160;requires&#160;a&#160;configuration&#160;set&#160;as&#160;parameter,&#160;the&#160;<br/>
<b>&#160;&#160;</b>corresponding&#160;reference&#160;to&#160;the&#160;module&#160;must&#160;be&#160;configured.&#160;<br/>
This&#160;is&#160;also&#160;necessary&#160;if&#160;the&#160;initialization&#160;routine&#160;does&#160;not&#160;use&#160;the&#160;parameter.&#160;The&#160;<br/>reference must&#160;be&#160;configured,&#160;otherwise&#160;the&#160;parameter&#160;list&#160;will&#160;be&#160;generated&#160;empty.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.7&#160;</b><br/>
<b>Initialization of&#160;a&#160;MultiCore&#160;ECU&#160;</b><br/>
The&#160;&#160;initialization&#160;&#160;of&#160;&#160;a&#160;&#160;MultiCore&#160;&#160;Ecu&#160;&#160;is&#160;&#160;described&#160;&#160;in&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_EcuMs.html#42">3.15.1&#160;&#160;Initialization&#160;&#160;of&#160;&#160;a&#160;<br/>MultiCore&#160;ECU.</a>&#160;<br/>
<b>3.8&#160;</b><br/>
<b>Shutdown Targets&#160;</b><br/>
The&#160;&#160;EcuM&#160;&#160;provides&#160;&#160;the&#160;&#160;possibility&#160;&#160;to&#160;&#160;select&#160;&#160;a&#160;&#160;shutdown&#160;&#160;target&#160;&#160;that&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;the&#160;&#160;next&#160;<br/>shutdown,&#160;<br/>
initiated&#160;&#160;by&#160;&#160;calling&#160;<br/>
EcuM_GoDown()&#160;<br/>
(refer&#160;&#160;to&#160;<br/>
chapter&#160;<br/>
<a href="TechnicalReference_EcuMs.html#83">5.3.5)</a>,&#160;&#160;<br/>
EcuM_GoPoll()(refer to&#160;chapte<a href="TechnicalReference_EcuMs.html#82">r&#160;5.3.4)</a>&#160;or&#160;EcuM_GoHalt()(refer&#160;to&#160;chapter<a href="TechnicalReference_EcuMs.html#81">&#160;5.3.3)</a>.&#160;&#160;<br/>The&#160;following&#160;three&#160;different&#160;targets&#160;can&#160;be&#160;selected&#160;by&#160;a&#160;SWC or&#160;a&#160;BSW&#160;module:&#160;<br/>
<b>&gt;&#160;&#160;</b>ECUM_STATE_SLEEP&#160;<br/>
<b>&gt;&#160;&#160;</b>ECUM_STATE_RESET&#160;<br/>
<b>&gt;&#160;&#160;</b>ECUM_STATE_OFF&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;two&#160;targets&#160;ECUM_STATE_SLEEP&#160;and&#160;ECUM_STATE_RESET&#160;have&#160;an&#160;<br/>
&#160;&#160;additional mode&#160;parameter,&#160;which&#160;is&#160;used&#160;to&#160;identify&#160;the&#160;configuration&#160;for&#160;the&#160;<br/>
Sleep&#160;mode&#160;or to&#160;identify&#160;the&#160;reason&#160;for&#160;an&#160;upcoming&#160;reset&#160;of&#160;the&#160;ECU.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.8.1&#160;</b><br/>
<b>Using the&#160;API&#160;EcuM_SelectShutdownTarget()&#160;</b><br/>
The&#160;API&#160;EcuM_SelectShutdownTarget()(refer&#160;to&#160;chapte<a href="TechnicalReference_EcuMs.html#66">r&#160;5.2.5)</a>&#160;can&#160;only&#160;be&#160;used&#160;when&#160;the&#160;<br/>EcuM&#160;is&#160;in&#160;the&#160;state&#160;ECUM_STATE_RUN.&#160;In&#160;the&#160;startup&#160;phase&#160;or during&#160;the&#160;sleep&#160;phase&#160;it&#160;<br/>is not&#160;allowed&#160;to&#160;change&#160;the&#160;shutdown&#160;target.&#160;<br/>
<b>3.8.2&#160;</b><br/>
<b>Default&#160;Shutdown&#160;Target&#160;</b><br/>
A&#160;Default&#160;shutdown&#160;target&#160;must&#160;be&#160;set&#160;during&#160;the&#160;configuration.&#160;This&#160;is&#160;the&#160;first&#160;target&#160;that&#160;<br/>is&#160;selected&#160;as&#160;shutdown&#160;target&#160;after&#160;a&#160;startup.&#160;During&#160;runtime&#160;the&#160;shutdown&#160;target&#160;can&#160;be&#160;<br/>changed&#160;by&#160;another&#160;BSW&#160;or&#160;SWC via&#160;the&#160;API&#160;EcuM_SelectShutdownTarget().&#160;<br/>
<b>3.8.3&#160;</b><br/>
<b>Reset&#160;Modes&#160;</b><br/>
The&#160;reset&#160;modes&#160;can&#160;be&#160;used&#160;to&#160;identify&#160;the&#160;reason&#160;for&#160;an&#160;upcoming&#160;ECU reset.&#160;A&#160;set&#160;of&#160;<br/>reset&#160;modes&#160;is&#160;defined&#160;by&#160;the&#160;AUTOSAR&#160;standard.&#160;Additional&#160;modes&#160;can&#160;be&#160;added&#160;by&#160;the&#160;<br/>configuration.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
27&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-28_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-28_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
The&#160;reset&#160;mode&#160;is&#160;passed&#160;over to&#160;the&#160;Callout&#160;EcuM_AL_Reset(EcuM_ResetType) and&#160;the&#160;<br/>user&#160;can&#160;implement&#160;different&#160;ways&#160;to&#160;reset&#160;the&#160;ECU,&#160;depending&#160;on&#160;the&#160;reason&#160;for&#160;this&#160;<br/>reset.&#160;<br/>&#160;<br/>The&#160;Vector extension&#160;ECUM_RESET_WAKEUP&#160;is used&#160;as the&#160;reset&#160;mode&#160;in&#160;the&#160;case&#160;of&#160;a&#160;<br/>late&#160;wake-up&#160;event&#160;in&#160;the&#160;shutdown&#160;phase.&#160;If&#160;a&#160;wake-up&#160;occurs during&#160;the&#160;shutdown&#160;<br/>procedure,&#160;the&#160;shutdown&#160;target&#160;is changed&#160;by&#160;the&#160;EcuM&#160;to&#160;ECUM_STATE_RESET&#160;and&#160;<br/>the&#160;described&#160;mode&#160;is used.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>The&#160;following&#160;reset&#160;mode is&#160;defined&#160;by&#160;Vector&#160;as&#160;an&#160;extension&#160;to&#160;the&#160;standard&#160;<br/>
&#160;&#160;AUTOSAR&#160;modes:&#160;<br/>
<b>&#160;&#160;</b>ECUM_RESET_WAKEUP&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Reset&#160;Modes&#160;are&#160;only&#160;available&#160;if&#160;EcuM&#160;flex&#160;is&#160;used.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.8.4&#160;</b><br/>
<b>Sleep&#160;Modes&#160;</b><br/>
A&#160;&#160;sleep&#160;&#160;mode&#160;&#160;holds&#160;&#160;the&#160;&#160;information&#160;&#160;about&#160;&#160;the&#160;&#160;configured&#160;&#160;sleep&#160;&#160;modes&#160;&#160;and&#160;&#160;the&#160;<br/>corresponding&#160;relevant&#160;settings.&#160;The&#160;following&#160;items&#160;can&#160;be&#160;set&#160;for&#160;a&#160;sleep&#160;mode:&#160;<br/>
<b>&gt;&#160;&#160;</b>Reference&#160;to&#160;a&#160;configured&#160;MCU&#160;mode&#160;that&#160;is&#160;executed&#160;for that&#160;sleep&#160;mode.&#160;<br/>
<b>&gt;&#160;&#160;</b>Active&#160;Wake-up&#160;Sources&#160;during&#160;this&#160;sleep&#160;mode.&#160;<br/>
<b>3.9&#160;</b><br/>
<b>Wake-up&#160;Sources&#160;</b><br/>
The&#160;EcuM&#160;flex&#160;offers&#160;the&#160;possibility&#160;to&#160;configure&#160;wake-up&#160;sources&#160;for&#160;all&#160;modules&#160;that&#160;have&#160;<br/>the&#160;functionality&#160;to&#160;wake&#160;up&#160;the&#160;ECU.&#160;The&#160;EcuM&#160;handles&#160;the&#160;Wake-up&#160;Validation&#160;Protocol&#160;<br/>for&#160;these&#160;sources&#160;as described&#160;in<a href="TechnicalReference_EcuMs.html#30">&#160;3.10.1&#160;Wake-up&#160;Validation&#160;Protocol.</a>&#160;<br/>The&#160;Wake-up&#160;&#160;Sources&#160;&#160;have&#160;&#160;several&#160;&#160;configurable&#160;&#160;attributes&#160;&#160;as&#160;described&#160;in&#160;&#160;the&#160;following&#160;<br/>section.&#160;<br/>
<b>3.9.1&#160;</b><br/>
<b>Validation Timeout&#160;</b><br/>
For&#160;every&#160;source,&#160;except&#160;for&#160;the&#160;standard&#160;sources&#160;0&#160;–&#160;4,&#160;a&#160;validation&#160;timeout&#160;timer&#160;can&#160;be&#160;<br/>configured.&#160;&#160;This&#160;&#160;timer&#160;&#160;specifies&#160;&#160;the&#160;&#160;time&#160;&#160;(in&#160;&#160;seconds)&#160;&#160;until&#160;&#160;the&#160;&#160;wake-up&#160;&#160;source&#160;&#160;must&#160;&#160;be&#160;<br/>validated&#160;by&#160;calling&#160;EcuM_ValidateWakeupEvent().&#160;&#160;<br/>If&#160;the&#160;wake-up&#160;event&#160;is&#160;not&#160;validated&#160;during&#160;that&#160;time&#160;the&#160;EcuM&#160;sets&#160;this&#160;event&#160;to&#160;“expired”&#160;<br/>and&#160;reports&#160;it&#160;to&#160;the&#160;BswM.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
28&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-29_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-29_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>The&#160;following&#160;standard&#160;wake-up&#160;sources are pre-configured&#160;and do&#160;not&#160;need the&#160;wake-<br/>
&#160;&#160;up&#160;validation&#160;protocol:&#160;<br/>
<b>&gt;&#160;&#160;</b>ECUM_WKSOURCE_POWER&#160;<br/>
<b>&gt;&#160;&#160;</b>ECUM_WKSOURCE_RESET&#160;<br/>
<b>&gt;&#160;&#160;</b>ECUM_WKSOURCE_INTERNAL_RESET&#160;<br/>
<b>&gt;&#160;&#160;</b>ECUM_WKSOURCE_INTERNAL_WDG&#160;<br/>
<b>&gt;&#160;&#160;</b>ECUM_WKSOURCE_EXTERNAL_WDG&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.9.2&#160;</b><br/>
<b>Check-Wakeup&#160;Validation Timeout&#160;</b><br/>
For&#160;&#160;every&#160;&#160;source,&#160;&#160;except&#160;&#160;for&#160;&#160;the&#160;&#160;standard&#160;&#160;sources&#160;&#160;0&#160;&#160;–&#160;&#160;4,&#160;&#160;a&#160;&#160;check&#160;&#160;wake-up&#160;&#160;validation&#160;<br/>timeout&#160;timer&#160;can&#160;be&#160;configured.&#160;This&#160;timer&#160;specifies&#160;the&#160;time&#160;(in&#160;seconds)&#160;until&#160;the&#160;wake-<br/>up&#160;source&#160;must&#160;be&#160;set&#160;by&#160;calling&#160;EcuM_SetWakeupEvent().&#160;<br/>This&#160;timer&#160;can&#160;be&#160;used&#160;for&#160;e.g.&#160;asynchronous&#160;transceiver&#160;drivers,&#160;which&#160;cannot&#160;check&#160;the&#160;<br/>wake-up&#160;source&#160;in&#160;the&#160;context&#160;of&#160;EcuM_CheckWakeup.&#160;&#160;<br/>
&#160;<br/>
<b>3.9.3&#160;</b><br/>
<b>ComM&#160;Channel&#160;Reference&#160;</b><br/>
If&#160;the&#160;configured&#160;Wake-up&#160;Source&#160;is&#160;a&#160;ComM&#160;Channel,&#160;the&#160;reference&#160;to&#160;the&#160;corresponding&#160;<br/>channel can&#160;be&#160;configured&#160;by&#160;the&#160;parameter&#160;EcuMComMChannelRef.&#160;<br/>If&#160;this&#160;reference&#160;is&#160;configured&#160;and&#160;a&#160;validated&#160;wake-up&#160;event&#160;occurred,&#160;the&#160;EcuM&#160;calls&#160;the&#160;<br/>function&#160;ComM_EcuM_WakeupIndication()&#160;and&#160;reports&#160;it&#160;to&#160;the&#160;ComM.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>Only&#160;Wake-up&#160;Sources&#160;which&#160;represent&#160;a&#160;ComM&#160;Channel&#160;can&#160;lead to&#160;a&#160;wake&#160;up&#160;in&#160;the&#160;<br/>
&#160;&#160;state&#160;ECUM_STATE_RUN.&#160;Other&#160;Wake-up&#160;Sources are ignored&#160;during&#160;this&#160;state.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.9.4&#160;</b><br/>
<b>Polling of&#160;Wake-up&#160;Sources&#160;</b><br/>
If&#160;a&#160;Wake-up&#160;Source&#160;needs&#160;to&#160;be&#160;polled&#160;to&#160;detect&#160;wake-up&#160;events&#160;this&#160;parameter&#160;must&#160;be&#160;<br/>set.&#160;In&#160;that&#160;case,&#160;the&#160;sleep&#160;can&#160;be&#160;entered&#160;by&#160;calling&#160;EcuM_GoPoll()&#160;and&#160;the&#160;EcuM&#160;polls&#160;<br/>all&#160;Wake-up&#160;Sources&#160;that&#160;are&#160;active&#160;during&#160;that&#160;Sleep&#160;mode&#160;and&#160;the&#160;polling&#160;parameter&#160;is&#160;<br/>set.&#160;<br/>
<b>3.9.5&#160;</b><br/>
<b>MCU&#160;Reset Reason&#160;</b><br/>
The&#160;EcuM&#160;calls the&#160;routine&#160;Mcu_GetResetReason() to&#160;acquire&#160;the&#160;reason&#160;for&#160;the&#160;recent&#160;<br/>reset.&#160;The&#160;EcuM&#160;iterates&#160;over&#160;all&#160;configured&#160;Wake-up&#160;Sources&#160;and&#160;checks&#160;if&#160;the&#160;<br/>configured&#160;Reset&#160;Reason&#160;of&#160;one&#160;Wake-up&#160;Source&#160;matches&#160;to&#160;the&#160;return&#160;value&#160;of&#160;the&#160;MCU.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
29&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-30_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
If&#160;a&#160;reset&#160;reason&#160;is&#160;found,&#160;the&#160;EcuM&#160;maps this&#160;MCU&#160;reset&#160;reason&#160;to&#160;an&#160;EcuM&#160;Wake-up&#160;<br/>Source&#160;and&#160;reports the&#160;event&#160;to&#160;the&#160;BswM.&#160;The&#160;regular&#160;wake-up&#160;validation&#160;is&#160;done&#160;by&#160;the&#160;<br/>EcuM&#160;in&#160;case&#160;it&#160;is&#160;required&#160;by&#160;the&#160;source.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>If&#160;the&#160;reset&#160;reason&#160;translation&#160;is&#160;not&#160;successful&#160;and&#160;no&#160;reset&#160;reason&#160;can&#160;be determined,&#160;<br/>
&#160;&#160;the&#160;EcuM&#160;reports&#160;to the&#160;BswM&#160;the&#160;default&#160;reset&#160;reason&#160;ECUM_WKSOURCE_RESET.&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.10&#160;&#160;Main Functions&#160;</b><br/>
<b>3.10.1&#160;&#160;Wake-up&#160;Validation Protocol&#160;<br/></b>The&#160;wake-up&#160;validation&#160;protocol&#160;provides&#160;a&#160;standardized&#160;way&#160;to&#160;recognize&#160;valid&#160;controller&#160;<br/>wake&#160;ups&#160;after&#160;a&#160;sleep&#160;phase.&#160;<br/>For&#160;&#160;all&#160;&#160;user&#160;&#160;configured&#160;&#160;wake-up&#160;&#160;sources&#160;&#160;the&#160;&#160;parameter&#160;&#160;“Validation&#160;&#160;Timeout”&#160;&#160;is&#160;<br/>configurable.&#160;&#160;If&#160;&#160;the&#160;&#160;parameter&#160;&#160;is&#160;&#160;set&#160;&#160;to&#160;&#160;a&#160;&#160;value&#160;&#160;which&#160;&#160;is&#160;&#160;not&#160;&#160;0,&#160;&#160;the&#160;&#160;wake-up&#160;&#160;validation&#160;<br/>protocol is active&#160;for that&#160;source.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
30&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-31_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Example&#160;<br/></b>In&#160;the&#160;following&#160;example the&#160;whole&#160;wake-up&#160;validation&#160;procedure can&#160;be&#160;seen.&#160;A&#160;wake-<br/>
&#160;&#160;up&#160;event&#160;occurs&#160;for&#160;the&#160;ComMChannel&#160;CanIf&#160;and needs&#160;validation.&#160;The&#160;validation&#160;is&#160;<br/>
processed&#160;and the&#160;wake-up&#160;event&#160;is&#160;notified&#160;to&#160;the BswM&#160;and&#160;to&#160;the&#160;ComM.<b>&#160;</b><br/>
<b>sd&#160;WakeupValidation</b><br/>
Module<br/>
Module<br/>
CanIf<br/>
Interrupt&#160;Source<br/>
«EmbeddedInterface»<br/>
«EmbeddedInterface»<br/>
Integration&#160;Code<br/>
ComM<br/>
BswM<br/>
EcuM<br/>
(EcuM_Callout_Stubs)<br/>
Interrupt()<br/>
EcuM_CheckWakeup(EcuM_WakeupSourceType)<br/>
CanIf_CheckWakeup(EcuM_WakeupSourceType)<br/>
EcuM_SetWakeupEvent(EcuM_WakeupSourceType)<br/>
BswM_EcuM_CurrentWakeup(EcuM_WakeupSourceType,&#160;EcuM_WakeupStatusType&#160;ECUM_WKSOURCE_PENDING)<br/>
EcuM_StartWakeupSources(EcuM_WakeupSourceType)<br/>
<b>loop&#160;WHILE&#160;w&#160;akeup&#160;ev&#160;ent&#160;has&#160;not&#160;been&#160;v&#160;alidated</b><br/>
EcuM_CheckValidation(EcuM_WakeupSourceType)<br/>
CanIf_CheckValidation(EcuM_WakupSourceType)<br/>
<b>opt&#160;w&#160;akeup&#160;ev&#160;ent&#160;is&#160;v&#160;alidated</b><br/>
EcuM_ValidateWakeupEvent(EcuM_WakeupSourceType)<br/>
BswM_EcuM_CurrentWakeup(EcuM_WakeupSourceType,&#160;EcuM_WakeupStatusType&#160;ECUM_WKSOURCE_VALIDATED)<br/>
ComM_EcuM_WakeUpIndication(NetworkHandleType)<br/>
EcuM_StopWakeupSources(EcuM_WakeupSourceType)<br/>
&#160;<br/>
Figure&#160;3-3&#160;&#160;Example&#160;Wake-up&#160;Validation&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
31&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-32_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.10.2&#160;&#160;Wake-up Validation Protocol for asynchronous&#160;Can transceiver&#160;<br/></b>For&#160;&#160;all&#160;&#160;user&#160;&#160;configured&#160;&#160;wake-up&#160;&#160;sources&#160;&#160;the&#160;&#160;parameter&#160;&#160;“Check&#160;&#160;Validation&#160;&#160;Timeout”&#160;&#160;is&#160;<br/>configurable.&#160;If&#160;the&#160;parameter is&#160;set&#160;to&#160;a&#160;value&#160;which&#160;is&#160;not&#160;0,&#160;the&#160;check&#160;wake-up&#160;validation&#160;<br/>protocol is active&#160;for that&#160;source.&#160;<br/>For&#160;&#160;these&#160;&#160;sources&#160;&#160;the&#160;&#160;call&#160;&#160;of&#160;&#160;EcuM_SetWakeupEvent&#160;&#160;must&#160;&#160;not&#160;&#160;occur&#160;&#160;in&#160;&#160;the&#160;&#160;context&#160;&#160;of&#160;<br/>EcuM_CheckWakeup.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Example&#160;<br/></b>In&#160;the&#160;following&#160;example parts&#160;of&#160;the&#160;wake-up&#160;validation&#160;procedure can&#160;be&#160;seen for&#160;an&#160;<br/>
&#160;&#160;asynchronous&#160;Can&#160;transceiver.&#160;&#160;<br/>
<b>sd&#160;WakeupValidation</b><br/>
Module<br/>
Module<br/>
CanIf<br/>
Icu<br/>
CanTrcv<br/>
Interrupt&#160;Source&#160;(CanTrcv<br/>
«EmbeddedInterface»<br/>
Integration&#160;Code<br/>
Hardware<br/>
BswM<br/>
EcuM<br/>
(EcuM_Callout_Stubs)<br/>
Interrupt()<br/>
EcuM_CheckWakeup(WAKEUP_SOURCE_CAN)<br/>
EcuM_StartCheckWakeup(WAKEUP_SOURCE_CAN)<br/>
WAKEUP_SOURCE_CAN,&#160;ECUM_WKSTATUS_CHECKWAKEUP(source,&#160;state)<br/>
start&#160;CheckWakeupTimer()<br/>
CanIf_CheckWakeup(WAKEUP_SOURCE_CAN)<br/>
CanTrcv_CB_WakeupByBus()<br/>
Program&#160;flow&#160;continues,&#160;if&#160;Ecu&#160;was&#160;in&#160;a&#160;sleep&#160;mode&#160;the&#160;wake-up&#160;procedure&#160;<br/>is&#160;performed.&#160;If&#160;the&#160;Ecu&#160;was&#160;in&#160;Run&#160;mode,&#160;the&#160;Run&#160;mode&#160;continues&#160;as&#160;<br/>before.<br/>
As&#160;soon&#160;as&#160;the&#160;transceiver&#160;gets&#160;a&#160;response&#160;via&#160;SPI&#160;about&#160;a&#160;valid&#160;wake-up&#160;<br/>event,&#160;the&#160;CanTrcv&#160;calls&#160;EcuM_SetWakeupEvent&#160;in&#160;the&#160;positive&#160;case.<br/>
<b>alt&#160;Wait&#160;for&#160;Wakeup&#160;Indication&#160;by&#160;Transceiv&#160;er</b><br/>
[positive&#160;Wakeup&#160;Indication]<br/>
EcuM_SetWakeupEvent(EcuM_WakeupSourceType)<br/>
BswM_EcuM_CurrentWakeup(WAKEUP_SOURCE_CAN,<br/>ECUM_WKSTATUS_VALIDATED)<br/>
[negative&#160;Wakeup&#160;Indication]<br/>
EcuM_EndCheckWakeup(EcuM_WakeupSourceType)<br/>
BswM_EcuM_CurrentWakeup(WAKEUP_SOURCE_CAN,&#160;ECUM_WKSTATUS_EXPIRED)<br/>
[Timeout]<br/>
CheckWakeupTimerExpired()<br/>
BswM_EcuM_CurrentWakeup(WAKEUP_SOURCE_CAN,&#160;ECUM_WKSTATUS_EXPIRED)<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
Figure&#160;3-4&#160;&#160;Example&#160;Wake-up&#160;Validation&#160;for&#160;asynchronous&#160;Can&#160;Transceivers&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
32&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=33></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.11&#160;&#160;Error&#160;Handling&#160;</b><br/>
<b>3.11.1&#160;&#160;Development&#160;Error&#160;Reporting&#160;<br/></b>Development&#160;&#160;errors&#160;&#160;are&#160;&#160;reported&#160;&#160;to&#160;&#160;the&#160;&#160;DET&#160;&#160;using&#160;&#160;the&#160;&#160;service&#160;&#160;Det_ReportError()&#160;&#160;as&#160;<br/>specified&#160;<br/>
in&#160;<br/>
[2],&#160;<br/>
if&#160;<br/>
development&#160;<br/>
error&#160;<br/>
reporting&#160;<br/>
is&#160;<br/>
enabled&#160;<br/>
(ECUM_DEV_ERROR_DETECT==STD_ON).&#160;<br/>The&#160;reported&#160;EcuM&#160;ID&#160;is&#160;10.&#160;<br/>The&#160;&#160;reported&#160;&#160;service&#160;&#160;IDs&#160;&#160;identify&#160;&#160;the&#160;&#160;services&#160;&#160;which&#160;&#160;are&#160;&#160;described&#160;&#160;in&#160;&#160;<a href="TechnicalReference_EcuMs.html#62">5.2.</a>&#160;&#160;The&#160;&#160;following&#160;<br/>table&#160;presents&#160;the&#160;service&#160;IDs&#160;and&#160;the&#160;related&#160;services:&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
<b>Service&#160;</b><br/>
0x00&#160;<br/>
EcuM_GetVersionInfo()&#160;<br/>
0x01&#160;<br/>
EcuM_Init()&#160;<br/>
0x02&#160;<br/>
EcuM_Shutdown()&#160;<br/>
0x03&#160;<br/>
EcuM_RequestRun()&#160;<br/>
0x04&#160;<br/>
EcuM_ReleaseRun()&#160;<br/>
0x05&#160;<br/>
EcuM_KillAllRUNRequests()&#160;<br/>
0x06&#160;<br/>
EcuM_SelectShutdownTarget()&#160;<br/>
0x07&#160;<br/>
EcuM_GetState()&#160;<br/>
0x08&#160;<br/>
EcuM_GetLastShutdownTarget()&#160;&#160;&#160;<br/>
0x09&#160;<br/>
EcuM_GetShutdownTarget()&#160;<br/>
0x0A&#160;<br/>
EcuM_RequestPOST_RUN()&#160;<br/>
0x0B&#160;<br/>
EcuM_ReleasePOST_RUN()&#160;<br/>
0x0C&#160;<br/>
EcuM_SetWakeupEvent()&#160;<br/>
0x0D&#160;<br/>
EcuM_GetPendingWakeupEvents()&#160;<br/>
0x12&#160;<br/>
EcuM_SelectBootTarget()&#160;<br/>
0x13&#160;<br/>
EcuM_GetBootTarget()&#160;<br/>
0x14&#160;<br/>
EcuM_ValidateWakeupEvent()&#160;<br/>
0x15&#160;<br/>
EcuM_GetValidatedWakeupEvents()&#160;<br/>
0x16&#160;<br/>
EcuM_ClearWakeupEvent()&#160;<br/>
0x18&#160;<br/>
EcuM_MainFunction()&#160;<br/>
0x19&#160;<br/>
EcuM_GetExpiredWakeupEvents()&#160;<br/>
0x1A&#160;<br/>
EcuM_StartupTwo()&#160;<br/>
0x1B&#160;<br/>
EcuM_SelectShutdownCause()&#160;<br/>
0x1C&#160;<br/>
EcuM_GetShutdownCause()&#160;&#160;&#160;<br/>
0x1D&#160;<br/>
EcuM_GetMostRecentShutdown()[not&#160;supported&#160;in&#160;this&#160;release]&#160;<br/>
0x1E&#160;<br/>
EcuM_GetNextRecentShutdown()[not&#160;supported&#160;in&#160;this&#160;release]&#160;<br/>
0x1F&#160;<br/>
EcuM_GoDown()&#160;<br/>
0x20&#160;<br/>
EcuM_GoHalt()&#160;<br/>
0x21&#160;<br/>
EcuM_GoPoll()&#160;<br/>
0x22&#160;<br/>
EcuM_SetRelWakeupAlarm()&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
33&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=34></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
<b>Service&#160;</b><br/>
0x23&#160;<br/>
EcuM_SetAbsWakeupAlarm()&#160;<br/>
0x24&#160;<br/>
EcuM_AbortWakeupAlarm()&#160;<br/>
0x25&#160;<br/>
EcuM_GetCurrentTime()&#160;<br/>
0x26&#160;<br/>
EcuM_GetWakeupTime()&#160;<br/>
0x27&#160;<br/>
EcuM_SetClock()&#160;<br/>
0x28&#160;<br/>
EcuM_StartCheckWakeup()&#160;<br/>
0x29&#160;<br/>
EcuM_EndCheckWakeup()&#160;<br/>
0x30&#160;<br/>
EcuM_ClearValidatedWakeupEvent()&#160;<br/>
0x2A&#160;<br/>
EcuM_KillAllPostRUNRequests()&#160;<br/>
0x2B&#160;<br/>
EcuM_SetState()&#160;<br/>
0x65&#160;<br/>
EcuM_CB_NfyNvMJobEnd()&#160;<br/>
Table&#160;3-8&#160;&#160;&#160;Service&#160;IDs&#160;<br/>
The&#160;errors&#160;reported&#160;to&#160;DET&#160;are&#160;described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
0x10&#160;<br/>
ECUM_E_UNINIT&#160;<br/>
A&#160;service&#160;was&#160;called&#160;prior to&#160;initialization.&#160;<br/>
0x11&#160;<br/>
ECUM_E_SERVICE_DISABLE<br/>
Error code&#160;defined by&#160;AUTOSAR&#160;SWS&#160;(not&#160;used&#160;in this&#160;<br/>
D&#160;<br/>
implementation).&#160;<br/>
0x12&#160;<br/>
ECUM_E_NULL_POINTER&#160;<br/>
A&#160;null&#160;pointer&#160;was&#160;passed&#160;as&#160;an&#160;argument.&#160;<br/>
0x13&#160;<br/>
ECUM_E_INVALID_PAR&#160;<br/>
A&#160;parameter&#160;was&#160;invalid&#160;(not&#160;specified)&#160;<br/>
0x14&#160;<br/>
ECUM_E_MULTIPLE_RUN_RE&#160;EcuM_RequestRUN&#160;or&#160;EcuM_&#160;RequestPOST_RUN&#160;was&#160;<br/>QUESTS&#160;<br/>
called two&#160;times&#160;by&#160;the&#160;same&#160;user&#160;without&#160;release.&#160;<br/>
0x15&#160;<br/>
ECUM_E_MISMATCHED_RUN&#160;EcuM_ReleaseRUN or&#160;EcuM_&#160;ReleasePOST_RUN&#160;was&#160;<br/>_RELEASE&#160;<br/>
called by&#160;a&#160;user&#160;without a&#160;previous&#160;request.&#160;<br/>
0x16&#160;<br/>
ECUM_E_STATE_PAR_OUT_<br/>
API&#160;service&#160;EcuM_SelectShutdownTarget()&#160;called&#160;with&#160;<br/>
OF_RANGE&#160;<br/>
parameter not&#160;in&#160;expected&#160;range&#160;&#160;<br/>
0x17&#160;<br/>
ECUM_E_UNKNOWN_&#160;<br/>
Wake-up&#160;source ID&#160;is&#160;not known&#160;by&#160;ECU State&#160;Manager&#160;<br/>
WAKEUP_SOURCE&#160;<br/>
0x20&#160;<br/>
ECUM_E_MODULE_NOT_IN_<br/>
EcuM_StartupTwo()&#160;is&#160;called&#160;and the EcuM&#160;is&#160;not&#160;in&#160;state&#160;<br/>
STARTUP&#160;<br/>
EcuM_Startup_One&#160;which&#160;is&#160;entered&#160;in&#160;EcuM_Init().&#160;<br/>
0x21&#160;<br/>
ECUM_E_MODULE_NOT_IN_<br/>
EcuM_Shutdown()&#160;was&#160;invoked&#160;without&#160;calling&#160;<br/>
PREPSHUTDOWN&#160;<br/>
EcuM_GoDown().&#160;<br/>
0x22&#160;<br/>
ECUM_E_MODULE_NOT_IN_<br/>
This&#160;error&#160;will&#160;be&#160;reported&#160;if&#160;the&#160;callout&#160;EcuM_AL_SwitchOff()&#160;<br/>
RUN_STATE&#160;<br/>
does&#160;not&#160;switch&#160;off the&#160;ECU.&#160;&#160;<br/>
0x23&#160;<br/>
ECUM_E_NO_SLEEPMODE_C&#160;This&#160;error&#160;will&#160;be&#160;reported&#160;if&#160;EcuM_GoPoll()&#160;or&#160;<br/>ONFIGURED&#160;<br/>
EcuM_GoHalt()&#160;is&#160;called and&#160;no&#160;SleepMode&#160;is&#160;configured.&#160;<br/>
0x24&#160;<br/>
ECUM_E_INVALID_STATERE<br/>
A&#160;state&#160;which&#160;was&#160;requested is&#160;invalid,&#160;perhaps&#160;because&#160;a&#160;<br/>
QUEST&#160;<br/>
former&#160;request is&#160;not&#160;finished&#160;yet.&#160;<br/>
Table&#160;3-9&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DET&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
34&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-35_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.11.2&#160;&#160;Production Code&#160;Error Reporting&#160;<br/></b>By&#160;&#160;default,&#160;&#160;production&#160;&#160;code&#160;&#160;related&#160;&#160;errors&#160;&#160;are&#160;&#160;reported&#160;&#160;to&#160;&#160;the&#160;&#160;DEM&#160;&#160;using&#160;&#160;the&#160;&#160;service&#160;<br/>Dem_ReportErrorStatus()&#160;as&#160;specified&#160;in&#160;[3],&#160;if&#160;production&#160;error&#160;reporting&#160;is&#160;enabled&#160;<br/>(In&#160;&#160;the&#160;&#160;case&#160;&#160;that&#160;&#160;a&#160;&#160;reference&#160;&#160;to&#160;&#160;a&#160;&#160;Dem&#160;&#160;event&#160;&#160;parameter&#160;&#160;is&#160;&#160;configured&#160;&#160;in&#160;<br/>EcuMDemEventParameterRefs).&#160;<br/>If&#160;&#160;another&#160;&#160;module&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;production&#160;&#160;code&#160;&#160;error&#160;&#160;reporting,&#160;&#160;the&#160;&#160;function&#160;&#160;prototype&#160;&#160;for&#160;<br/>reporting&#160;the&#160;error&#160;can&#160;be&#160;configured&#160;by&#160;the&#160;integrator,&#160;but&#160;must&#160;have&#160;the&#160;same&#160;signature&#160;<br/>as the&#160;service&#160;Dem_ReportErrorStatus().&#160;<br/>
The&#160;errors&#160;reported&#160;to&#160;DEM&#160;are described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
ECUM_E_RAM_CHECK_FAILED&#160;<br/>
The&#160;RAM&#160;check&#160;during&#160;wake-up&#160;failed.&#160;&#160;<br/>
ECUM_E_CONFIGURATION_DATA_INCONSISTENT&#160;<br/>
Post&#160;build&#160;configuration&#160;data&#160;is&#160;inconsistent.&#160;<br/>
ECUM_E_IMPROPER_CALLER&#160;&#160;<br/>
Defensive&#160;behavior&#160;checks&#160;have&#160;detected&#160;<br/>improper&#160;use&#160;of&#160;the&#160;module.&#160;<br/>
ECUM_E_ALL_RUN_REQUESTS_KILLED&#160;<br/>
The&#160;API&#160;EcuM_KillAllRUNRequests()&#160;was&#160;<br/>called.&#160;<br/>
Table&#160;3-10&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DEM&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Only&#160;ECUM_E_IMPROPER_CALLER&#160;and&#160;ECUM_E_ALL_RUN_REQUESTS_KILLED&#160;<br/>
<b>&#160;&#160;</b>are&#160;passed&#160;to&#160;the&#160;Dem&#160;directly&#160;out&#160;of&#160;the&#160;static&#160;code.&#160;In&#160;the&#160;other&#160;cases&#160;<br/>
EcuM_ErrorHook (see<a href="TechnicalReference_EcuMs.html#35">&#160;3.11.3)</a>&#160;is&#160;called&#160;and&#160;the&#160;integrator&#160;has&#160;to&#160;decide&#160;what&#160;happens&#160;<br/>in&#160;the&#160;case of&#160;these&#160;errors.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
<b>3.11.3&#160;&#160;EcuM_ErrorHook&#160;<br/></b>The&#160;&#160;EcuM&#160;&#160;has&#160;&#160;an&#160;&#160;own&#160;&#160;ErrorHook&#160;&#160;which&#160;&#160;offers&#160;&#160;the&#160;&#160;integrator&#160;&#160;the&#160;&#160;possibility&#160;&#160;to&#160;&#160;react&#160;&#160;on&#160;<br/>occurring&#160;errors during&#160;runtime.&#160;&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
ECUM_E_HOOK_RAM_CHECK_FAILED&#160;<br/>
If&#160;the&#160;Ram&#160;check&#160;has&#160;failed&#160;after&#160;a sleep&#160;<br/>phase,&#160;the&#160;ErrorHook&#160;is&#160;called&#160;with this&#160;<br/>parameter.&#160;<br/>
ECUM_E_HOOK_CONFIGURATION_DATA_INCONSISTENT&#160;&#160;If&#160;the&#160;consistency&#160;check&#160;of&#160;pre-compile&#160;<br/>
and link-time&#160;parameters&#160;in&#160;variant&#160;post-<br/>build&#160;has&#160;failed,&#160;the&#160;ErrorHook&#160;is&#160;called&#160;<br/>with this&#160;parameter.&#160;<br/>
ECUM_E_HOOK_WRONG_ECUM_USAGE&#160;<br/>
If&#160;the&#160;call&#160;of&#160;ShutdownOS&#160;returns&#160;to&#160;the&#160;<br/>EcuM.&#160;&#160;<br/>ShutdownOS&#160;has&#160;to&#160;call&#160;<br/>EcuM_Shutdown()&#160;to perform&#160;a&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
35&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=36></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-36_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;<br/></b>shutdown.&#160;&#160;<br/>
ECUM_E_HOOK_INVALID_COREID&#160;<br/>
The&#160;OS&#160;returned an&#160;invalid&#160;CoreID&#160;via&#160;<br/>the&#160;API&#160;GetCoreID().&#160;<br/>
Table&#160;3-11&#160;&#160;&#160;Description&#160;of&#160;EcuM&#160;internal&#160;Error&#160;Codes&#160;<br/>
The&#160;&#160;integrator&#160;&#160;has&#160;&#160;to&#160;&#160;implement&#160;&#160;the&#160;&#160;behavior&#160;&#160;of&#160;&#160;the&#160;&#160;EcuM&#160;&#160;in&#160;&#160;this&#160;&#160;situation.&#160;&#160;The&#160;&#160;EcuM&#160;<br/>reports&#160;the&#160;error&#160;not&#160;by&#160;default&#160;to&#160;the&#160;Dem.&#160;If&#160;this&#160;is&#160;desired,&#160;the&#160;integrator&#160;has&#160;to&#160;call&#160;the&#160;<br/>Dem.&#160;<br/>
&#160;<br/>
<b>3.12&#160;&#160;Callout&#160;Execution&#160;Sequences&#160;</b><br/>
This&#160;chapter&#160;&#160;describes&#160;the&#160;execution&#160;order&#160;of&#160;callouts&#160;and&#160;important&#160;functions.&#160;This&#160;may&#160;<br/>be&#160;useful&#160;while&#160;integrating&#160;the&#160;software&#160;stack.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The&#160;execution&#160;sequences&#160;are not&#160;relevant&#160;for&#160;EcuM&#160;fixed.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.12.1&#160;&#160;Callouts&#160;from Startup&#160;to Run&#160;</b><br/>
<b>STARTUP&#160;–&#160;RUN&#160;&#160;</b><br/>
Execution&#160;in&#160;EcuM_Init()&#160;<br/>
<b>&#160;&#160;</b>EcuM_AL_SetProgrammableInterrupts()&#160;<br/><b>&#160;&#160;</b>EcuM_AL_DriverInitZero()&#160;<br/><b>&#160;&#160;</b>EcuM_AL_DriverInitOne()&#160;<br/><b>&#160;&#160;</b>Mcu_GetResetReason()&#160;<br/><b>&#160;&#160;</b>EcuM_SetWakeupEvent(ResetReason)&#160;<br/><b>&#160;&#160;</b>StartOS(ECUM_DEFAULTAPPMODE)&#160;<br/>
Execution&#160;in&#160;EcuM_StartupTwo()&#160;<br/>
<b>&#160;&#160;</b>SchM_Init()&#160;<br/><b>&#160;&#160;</b>BswM_Init(NULL_PTR&#160;/ CfgPtr_BswM)&#160;<br/>
<b>&#160;&#160;</b>If&#160;Wake-up&#160;Events&#160;have occurred&#160;before&#160;BswM_Init:&#160;<br/>
<b>&#160;&#160;</b>BswM_EcuM_CurrentWakeup(WakeupSource,&#160;ECUM_WKSTATUS_VALIDATED)&#160;<br/>
Table&#160;3-12&#160;&#160;&#160;Callouts&#160;from&#160;Startup&#160;to&#160;Run&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
36&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=37></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.12.2&#160;&#160;Callouts&#160;from Run to Sleep (Halt) and back&#160;to Run&#160;&#160;</b><br/>
<b>Run&#160;–&#160;Sleep&#160;(Halt)&#160;–&#160;Run&#160;&#160;<br/></b>Selection of&#160;the ShutdownTarget&#160;must&#160;be&#160;done&#160;before&#160;the&#160;transition&#160;to&#160;sleep&#160;e.g.&#160;by&#160;the&#160;BswM&#160;<br/>
<b>&#160;&#160;</b>EcuM_SelectShutdownTarget(ECUM_STATE_SLEEP,&#160;resetSleepMode)&#160;<br/>
All&#160;validated&#160;wake-up&#160;events&#160;must&#160;be&#160;cleared,&#160;e.g.&#160;by&#160;the&#160;BswM&#160;<br/>
<b>&#160;&#160;</b>EcuM_ClearValidatedWakeupEvent(ECUM_WKSOURCE_ALL_SOURCES)&#160;<br/>
GoHalt&#160;must&#160;be&#160;called&#160;e.g.&#160;by&#160;the&#160;BswM&#160;<br/>
<b>&#160;&#160;</b>EcuM_GoHalt()&#160;<br/>
Execution&#160;in&#160;EcuM_GoHalt()&#160;<br/>
<b>&#160;&#160;</b>BswM_EcuM_CurrentWakeup(wakeupSource,&#160;ECUM_WKSTATUS_NONE)&#160;<br/><b>&#160;&#160;</b>EcuM_EnableWakeupSources(wakeupSource)&#160;<br/><b>&#160;&#160;</b>GetResource(ECUM_OS_RESOURCE)&#160;<br/><b>&#160;&#160;</b>DisableAllInterrupts()&#160;<br/><b>&#160;&#160;</b>EcuM_GenerateRamHash()&#160;<br/><b>&#160;&#160;</b>Mcu_SetMode(ECUM_SLEEPMODELIST[ECUM_CURRENTSLEEPMODE].mcuMode)&#160;<br/><b>&#160;&#160;</b>EnableAllInterrupts()&#160;<br/><b>&#160;&#160;</b>EcuM_CheckRamHash()&#160;<br/>
<b>&#160;&#160;</b>If CheckRamHash&#160;has&#160;failed&#160;<br/>
<b>&#160;&#160;</b>EcuM_ErrorHook(ECUM_E_HOOK_RAM_CHECK_FAILED)&#160;<br/>
<b>&#160;</b><br/>
DisableAllInterrupts()&#160;<br/>
<b>&#160;</b><br/>
Mcu_SetMode(ECUM_NORMALMCUMODEREF)&#160;<br/>
<b>&#160;</b><br/>
EnableAllInterrupts()&#160;<br/>
<b>&#160;</b><br/>
EcuM_DisableWakeupSources(EcuM_PendingWakeups&#160;|&#160;<br/>EcuM_ValidatedWakeups))&#160;<br/>
<b>&#160;</b><br/>
BswM_EcuM_CurrentWakeup(EcuM_PendingWakeups&#160;|&#160;<br/>EcuM_ValidatedWakeups),&#160;&#160;ECUM_WKSTATUS_DISABLED)&#160;<br/>
<b>&#160;</b><br/>
EcuM_Al_DriverRestart()&#160;<br/>
<b>&#160;</b><br/>
ReleaseResource(ECUM_OS_RESOURCE)&#160;<br/>
&#160;<br/>
Table&#160;3-13&#160;&#160;&#160;Callouts&#160;from&#160;Run&#160;to&#160;Sleep&#160;(Halt)&#160;and&#160;back&#160;to&#160;Run&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
37&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=38></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.12.3&#160;&#160;Callouts&#160;from Run to Reset&#160;&#160;</b><br/>
<b>Run&#160;–&#160;Reset&#160;&#160;<br/></b>Selection of&#160;the ShutdownTarget&#160;must&#160;be&#160;done&#160;before&#160;the&#160;transition&#160;to&#160;Off&#160;e.g. by&#160;the&#160;BswM&#160;<br/>
<b>&#160;&#160;</b>EcuM_SelectShutdownTarget(ECUM_STATE_RESET, resetMode)&#160;<br/>
GoDown&#160;must be&#160;called&#160;e.g.&#160;by&#160;the&#160;BswM&#160;<br/>
<b>&#160;&#160;</b>EcuM_GoDown()&#160;<br/>
Execution&#160;in&#160;EcuM_GoDown()&#160;<br/>
<b>&#160;&#160;</b>EcuM_OnGoOffOne()<i>&#160;<br/></i><b>&#160;&#160;</b>BswM_Deinit()<i>&#160;<br/></i><b>&#160;&#160;</b>SchM_Deinit()<i>&#160;<br/></i><b>&#160;&#160;</b>ShutdownOS(E_OK)<i>&#160;</i><br/>
Shutdown&#160;must&#160;be&#160;called&#160;from&#160;the&#160;ShutdownHook&#160;<br/>
<b>&#160;&#160;</b>EcuM_Shutdown()&#160;<br/>
Execution&#160;in&#160;EcuM_Shutdown()&#160;<br/>
<b>&#160;&#160;</b>EcuM_OnGoOffTwo()&#160;<br/><b>&#160;&#160;</b>EcuM_AL_Reset(&#160;EcuM_CurrentShutdownMode&#160;)&#160;<br/>
Table&#160;3-14&#160;&#160;&#160;Callouts&#160;from&#160;Run&#160;to&#160;Reset&#160;<br/>
<b>3.12.4&#160;&#160;Callouts&#160;from Run to Off&#160;&#160;</b><br/>
<b>Run&#160;–&#160;Reset&#160;&#160;<br/></b>Selection of&#160;the ShutdownTarget&#160;must&#160;be&#160;done&#160;before&#160;the&#160;transition&#160;to&#160;Off e.g. by&#160;the&#160;BswM&#160;<br/>
<b>&#160;&#160;</b>EcuM_SelectShutdownTarget(ECUM_STATE_Off, 0)&#160;<br/>
All&#160;validated&#160;wake-up&#160;events&#160;must&#160;be&#160;cleared,&#160;e.g.&#160;by&#160;the&#160;BswM&#160;<br/>
<b>&#160;&#160;</b>EcuM_ClearValidatedWakeupEvent(ECUM_WKSOURCE_ALL_SOURCES)&#160;<br/>
GoDown&#160;must be&#160;called&#160;e.g.&#160;by&#160;the&#160;BswM&#160;<br/>
<b>&#160;&#160;</b>EcuM_GoDown()&#160;<br/>
Execution&#160;in&#160;EcuM_GoDown()&#160;<br/>
<b>&#160;&#160;</b>EcuM_OnGoOffOne()<i>&#160;<br/></i><b>&#160;&#160;</b>BswM_Deinit()<i>&#160;<br/></i><b>&#160;&#160;</b>SchM_Deinit()<i>&#160;</i><br/>
<b>&gt;&#160;&#160;</b>If a&#160;wake-up&#160;event&#160;has&#160;occurred, the Shutdown&#160;Target&#160;will&#160;be&#160;changed&#160;to&#160;<br/>
ECUM_STATE_RESET&#160;and the&#160;reset&#160;mode&#160;will&#160;be&#160;ECUM_RESET_WAKEUP<i>&#160;</i><br/>
<b>&#160;&#160;</b>ShutdownOS(E_OK)<i>&#160;</i><br/>
Shutdown&#160;must&#160;be&#160;called&#160;from&#160;the&#160;ShutdownHook&#160;<br/>
<b>&#160;&#160;</b>EcuM_Shutdown()&#160;<br/>
Execution&#160;in&#160;EcuM_Shutdown()&#160;<br/>
<b>&#160;&#160;</b>EcuM_OnGoOffTwo()&#160;<br/><b>&#160;&#160;</b>EcuM_AL_SwitchOff()&#160;<br/>
Table&#160;3-15&#160;&#160;&#160;Callouts&#160;from&#160;Run&#160;to&#160;Off&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
38&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=39></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-39_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.13&#160;&#160;EcuM&#160;Flex&#160;Users&#160;and&#160;Defensive&#160;Behavior&#160;</b><br/>
The&#160;&#160;EcuM&#160;&#160;offers&#160;&#160;the&#160;&#160;facility&#160;&#160;to&#160;&#160;configure&#160;&#160;flex&#160;&#160;Users&#160;&#160;to&#160;&#160;identify&#160;&#160;the&#160;&#160;caller&#160;&#160;of&#160;&#160;the&#160;&#160;routine&#160;<br/>EcuM_GoDown.&#160;The&#160;calling&#160;module&#160;has&#160;to&#160;use&#160;its&#160;Module&#160;ID&#160;as&#160;specified&#160;by&#160;AUTOSAR&#160;in&#160;<br/><a href="TechnicalReference_EcuMs.html#3">[4].</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>To&#160;use&#160;this&#160;feature,&#160;the&#160;switch&#160;EcuMEnableDefBehaviour&#160;must&#160;be&#160;active.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
39&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-40_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-40_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.14&#160;&#160;Alarm&#160;Clock&#160;</b><br/>
The&#160;EcuM&#160;flex&#160;offers&#160;the&#160;possibility&#160;to&#160;configure&#160;a&#160;clock&#160;which&#160;provides&#160;the&#160;absolute&#160;time&#160;<br/>since&#160;the&#160;last&#160;&#160;power-on&#160;reset&#160;&#160;of&#160;&#160;the&#160;ECU.&#160;This&#160;clock&#160;&#160;can&#160;be&#160;used&#160;to&#160;&#160;retrieve&#160;the&#160;current&#160;<br/>system&#160;&#160;time&#160;&#160;via&#160;&#160;the&#160;&#160;API&#160;&#160;<a href="TechnicalReference_EcuMs.html#90">EcuM_GetCurrentTime&#160;&#160;</a>and&#160;&#160;to&#160;&#160;wake&#160;&#160;up&#160;&#160;the&#160;&#160;ECU&#160;&#160;from&#160;&#160;sleep&#160;<br/>phases.&#160;<br/>&#160;<br/>In&#160;sleep&#160;phases&#160;the&#160;ECU&#160;will&#160;be&#160;woken&#160;up&#160;by&#160;the&#160;Gpt&#160;every&#160;second,&#160;depending&#160;if&#160;the&#160;Gpt&#160;<br/>supports&#160;this.&#160;If&#160;the&#160;wake&#160;up&#160;by&#160;the&#160;Gpt&#160;is&#160;the&#160;only&#160;wakeup&#160;event,&#160;the&#160;EcuM&#160;will&#160;increment&#160;<br/>the&#160;system&#160;clock&#160;and&#160;falls&#160;back&#160;to&#160;sleep&#160;again.&#160;If&#160;a&#160;wake&#160;up&#160;alarm&#160;has&#160;expired,&#160;the&#160;EcuM&#160;<br/>will call EcuM_SetWakeupEvent()&#160;to&#160;indicate&#160;a&#160;valid&#160;wake&#160;up&#160;of&#160;the&#160;ECU.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>To&#160;use&#160;this&#160;feature,&#160;the&#160;switch&#160;EcuMAlarmClockPresent&#160;must&#160;be&#160;active.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.14.1&#160;&#160;Configuring the&#160;Gpt&#160;to provide&#160;the&#160;Time&#160;base&#160;&#160;<br/></b>To&#160;support&#160;the&#160;Alarm&#160;Clock,&#160;a&#160;Gpt&#160;channel&#160;must&#160;be&#160;configured&#160;in&#160;a&#160;way&#160;which&#160;leads&#160;to&#160;an&#160;<br/>interrupt&#160;every&#160;second.&#160;For&#160;a&#160;correct&#160;behavior&#160;of&#160;the&#160;Alarm&#160;Clock,&#160;even&#160;in&#160;sleep&#160;phases,&#160;<br/>the&#160;channel must&#160;be&#160;configured&#160;as&#160;followed:&#160;<br/>
&#160;<br/>
<b>Gpt&#160;Channel&#160;Parameter&#160;</b><br/>
<b>Value&#160;</b><br/>
GptChannelMode&#160;<br/>
GPT_CH_MODE_CONTINUOUS&#160;<br/>
GptEnableWakeup&#160;<br/>
True&#160;<br/>
GptNotification&#160;<br/>
EcuM_AlarmCheckWakeup&#160;<br/>
GptWakeupSourceRef&#160;<br/>
Choose&#160;here&#160;the&#160;same&#160;Wakeup&#160;Source&#160;as&#160;configured&#160;for&#160;<br/>EcuM&#160;parameter&#160;EcuMAlarmWakeupSource&#160;<br/>
Table&#160;3-16&#160;&#160;&#160;Gpt&#160;Channel&#160;Configuration&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The&#160;implementation&#160;of&#160;the&#160;EcuM&#160;alarm&#160;clock&#160;requires&#160;that&#160;the&#160;Gpt&#160;provides&#160;a&#160;time&#160;base&#160;<br/>
<b>&#160;&#160;</b>of&#160;exactly&#160;one second.&#160;If&#160;this&#160;is&#160;not&#160;supported&#160;by&#160;Gpt,&#160;the&#160;EcuM&#160;does not&#160;perform&#160;a&#160;<br/>
correction&#160;of&#160;the&#160;time&#160;base.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
<b>3.14.2&#160;&#160;Configuring the&#160;EcuM&#160;for using the&#160;Alarm&#160;Clock&#160;<br/></b>For&#160;&#160;setting&#160;&#160;a&#160;&#160;wake&#160;&#160;up&#160;&#160;alarm&#160;&#160;during&#160;&#160;the&#160;&#160;runtime&#160;&#160;of&#160;&#160;the&#160;ECU,&#160;&#160;an&#160;&#160;EcuMAlarmClock&#160;&#160;with&#160;&#160;a&#160;<br/>reference&#160;to&#160;an&#160;EcuMFlexUserConfig&#160;must&#160;be&#160;configured.&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
40&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-41_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-41_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
The&#160;&#160;Gpt&#160;&#160;channel&#160;&#160;configured&#160;&#160;in&#160;&#160;<a href="TechnicalReference_EcuMs.html#40">3.14.1&#160;&#160;</a>must&#160;&#160;be&#160;&#160;referenced&#160;&#160;by&#160;&#160;the&#160;&#160;EcuM&#160;&#160;parameter&#160;<br/>EcuMGptChannelRef.&#160;<br/>
&#160;<br/>
<b>3.14.3&#160;&#160;Setting of the&#160;EcuM&#160;Clock&#160;<br/></b>The&#160;API<a href="TechnicalReference_EcuMs.html#89">&#160;&#160;EcuM_SetClock&#160;&#160;</a>is&#160;&#160;offered&#160;&#160;to&#160;&#160;allow&#160;&#160;configuring&#160;&#160;an&#160;&#160;EcuMFlexUser&#160;&#160;to&#160;&#160;modify&#160;&#160;the&#160;<br/>system&#160;&#160;time&#160;&#160;during&#160;&#160;runtime.&#160;&#160;This&#160;&#160;user&#160;&#160;must&#160;&#160;be&#160;&#160;set&#160;&#160;as&#160;&#160;reference&#160;&#160;in&#160;&#160;the&#160;&#160;configuration&#160;<br/>parameter&#160;EcuMSetClockAllowedUserRef.&#160;<br/>Only&#160;if&#160;this&#160;reference&#160;is&#160;configured,&#160;the&#160;usage&#160;of&#160;the&#160;API<a href="TechnicalReference_EcuMs.html#89">&#160;EcuM_SetClock&#160;</a>is&#160;allowed&#160;for&#160;this&#160;<br/>user.&#160;<br/>
<b>3.14.4&#160;&#160;Setting of a&#160;Time&#160;Triggered&#160;Wake&#160;Up&#160;Alarm&#160;<br/></b>Via&#160;the&#160;APIs<a href="TechnicalReference_EcuMs.html#85">&#160;EcuM_SetRelWakeupAlarm&#160;</a>and<a href="TechnicalReference_EcuMs.html#86">&#160;EcuM_SetAbsWakeupAlarm&#160;</a>the&#160;configured&#160;<br/>EcuMFlexUsers&#160;&#160;can&#160;&#160;set&#160;&#160;wake&#160;&#160;up&#160;&#160;alarms&#160;&#160;during&#160;&#160;the&#160;&#160;runtime&#160;&#160;of&#160;&#160;the&#160;&#160;ECU.&#160;&#160;This&#160;&#160;wake&#160;&#160;up&#160;<br/>alarm&#160;will&#160;be&#160;active&#160;during&#160;the&#160;next&#160;sleep&#160;phase.&#160;<br/>The&#160;wake&#160;up&#160;alarm&#160;can&#160;be&#160;cancelled&#160;by&#160;the&#160;user&#160;during&#160;runtime&#160;of&#160;the&#160;ECU&#160;via&#160;the&#160;API&#160;<br/><a href="TechnicalReference_EcuMs.html#87">EcuM_AbortWakeupAlarm.&#160;</a>&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>One&#160;single&#160;EcuMFlexUser&#160;can&#160;only&#160;set&#160;one&#160;single&#160;wake up&#160;alarm.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>All&#160;wake&#160;up&#160;alarms&#160;are&#160;cleared&#160;if&#160;the&#160;ECU&#160;wakes&#160;up&#160;from&#160;a&#160;sleep&#160;phase,&#160;even&#160;if&#160;the&#160;<br/>
<b>&#160;&#160;</b>reason&#160;for&#160;this&#160;wake up&#160;was not&#160;time&#160;triggered.&#160;The&#160;wake up&#160;alarms&#160;must&#160;be&#160;rearmed&#160;<br/>
before the&#160;next&#160;sleep&#160;phase&#160;is&#160;entered.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
41&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-42_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-42_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.15&#160;&#160;MultiCore&#160;Ecu&#160;</b><br/>
The&#160;&#160;EcuM&#160;&#160;offers&#160;&#160;the&#160;&#160;possibility&#160;&#160;to&#160;&#160;handle&#160;&#160;multi&#160;&#160;core&#160;&#160;ECUs.&#160;&#160;The&#160;&#160;handling&#160;&#160;of&#160;&#160;the&#160;<br/>initialization,&#160;&#160;sleep&#160;&#160;and&#160;&#160;shutdown&#160;&#160;differs&#160;&#160;to&#160;&#160;a&#160;&#160;single&#160;&#160;core&#160;&#160;ECU&#160;&#160;and&#160;&#160;is&#160;&#160;described&#160;&#160;in&#160;&#160;the&#160;<br/>following.&#160;<br/>
<b>3.15.1&#160;&#160;Initialization of&#160;a&#160;MultiCore&#160;ECU&#160;</b><br/>
<b>3.15.1.1&#160;&#160;Initialization on the&#160;Master&#160;Core&#160;<br/></b>After&#160;&#160;power-on&#160;&#160;of&#160;&#160;the&#160;&#160;ECU,&#160;&#160;the&#160;&#160;master&#160;&#160;core&#160;&#160;starts&#160;&#160;running&#160;&#160;and&#160;&#160;EcuM_Init()&#160;&#160;should&#160;&#160;be&#160;<br/>called&#160;in&#160;the&#160;startup&#160;code.&#160;At&#160;the&#160;end&#160;of&#160;EcuM_Init()&#160;the&#160;callout&#160;EcuM_StartOS()&#160;is called.&#160;<br/>In&#160;the&#160;callout&#160;EcuM_StartOS() all other slave&#160;cores&#160;are&#160;started&#160;via&#160;the&#160;OS&#160;API&#160;StartCore().&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Example&#160;<br/></b>In&#160;the&#160;following&#160;example the&#160;startup&#160;sequence&#160;of&#160;the&#160;master&#160;core&#160;for&#160;a ECU&#160;with&#160;4&#160;<br/>
&#160;&#160;cores&#160;can&#160;be&#160;seen:&#160;<br/>
<b>&#160;sd&#160;MasterCore&#160;Initialization</b><br/>
Module<br/>
Module<br/>
Startup&#160;Code<br/>
Module<br/>
Module<br/>
Module<br/>
Integration&#160;Code<br/>
EcuM<br/>
Os<br/>
SchM<br/>
BswM<br/>
(EcuM_Callout_Stubs)<br/>
<b>InitTask</b><br/>
EcuM_Init()<br/>
PreOS<br/>initialization<br/>sequence&#160;of<br/>EcuM()<br/>
EcuM_StartOS(AppModeType)<br/>
StartCore(CoreID1,&#160;&amp;Status)<br/>
StartCore(CoreID2,&#160;&amp;Status)<br/>
StartCore(CoreID3,&#160;&amp;Status)<br/>
StartOS(appMode)<br/>
ActivateTask()<br/>
EcuM_StartupTwo()<br/>
SchM_Init()<br/>
BswM_Init(const&#160;BswM_ConfigType&#160;*)<br/>
&#160;<br/>
Figure&#160;3-5&#160;&#160;Startup&#160;Sequence&#160;on&#160;a&#160;Master&#160;Core&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>The&#160;callout&#160;EcuM_StartOS()&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool&#160;per&#160;default.&#160;In&#160;some&#160;<br/>
&#160;&#160;cases&#160;it&#160;might&#160;be&#160;necessary&#160;to&#160;adapt&#160;this&#160;callout.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
42&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-43_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-43_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.15.1.2&#160;&#160;Initialization on the&#160;Slave&#160;Core&#160;<br/></b>After&#160;&#160;the&#160;&#160;slave&#160;&#160;core&#160;&#160;has&#160;&#160;been&#160;&#160;started&#160;&#160;by&#160;&#160;the&#160;&#160;master&#160;&#160;core,&#160;&#160;it&#160;&#160;also&#160;&#160;starts&#160;&#160;running&#160;&#160;with&#160;&#160;the&#160;<br/>startup&#160;code.&#160;EcuM_Init()&#160;is&#160;called&#160;from&#160;the&#160;startup&#160;code,&#160;but&#160;on&#160;the&#160;slave&#160;core&#160;only&#160;driver&#160;<br/>initialization&#160;and&#160;a&#160;call to&#160;StartOS()&#160;is&#160;performed&#160;via&#160;the&#160;callout&#160;EcuM_StartOS().&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Example&#160;<br/></b>In&#160;the&#160;following&#160;example the&#160;startup&#160;sequence&#160;of&#160;a&#160;slave core&#160;for&#160;a&#160;ECU&#160;with&#160;4&#160;cores&#160;<br/>
&#160;&#160;can&#160;be&#160;seen:&#160;<br/>
<b>&#160;sd&#160;Slav&#160;eCore&#160;Initialization</b><br/>
Module<br/>
Module<br/>
Startup&#160;Code<br/>
Module<br/>
Module<br/>
Integration&#160;Code<br/>
EcuM<br/>
Os<br/>
SchM<br/>
(EcuM_Callout_Stubs)<br/>
<b>InitTask</b><br/>
EcuM_Init()<br/>
EcuM_AL_DriverInitZero()<br/>
EcuM_AL_DriverInitOne()<br/>
EcuM_StartOS(AppModeType)<br/>
StartOS(appMode)<br/>
ActivateTask()<br/>
EcuM_StartupTwo()<br/>
SchM_Init()<br/>
&#160;<br/>
Figure&#160;3-6&#160;&#160;Startup&#160;Sequence&#160;on&#160;a&#160;Slave&#160;Core&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>On&#160;the&#160;slave&#160;core&#160;a call&#160;to EcuM_StartupTwo()&#160;is&#160;only&#160;necessary&#160;if&#160;the&#160;initialization&#160;of&#160;<br/>
<b>&#160;&#160;</b>the&#160;SchM&#160;should&#160;be&#160;done by&#160;the&#160;EcuM.&#160;<br/>
The&#160;BswM&#160;is&#160;currently&#160;not&#160;initialized&#160;on&#160;a&#160;slave core in&#160;this&#160;release!&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.15.1.2.1&#160;&#160;Driver initialization on the&#160;Slave&#160;Core&#160;<br/></b>The&#160;&#160;callouts&#160;&#160;EcuM_AL_DriverInitZero()&#160;&#160;and&#160;&#160;EcuM_AL_DriverInitOne()&#160;&#160;are&#160;&#160;also&#160;&#160;called&#160;&#160;on&#160;<br/>slave&#160;cores,&#160;but&#160;the&#160;generated&#160;code&#160;is&#160;only&#160;executed&#160;on&#160;the&#160;master core.&#160;<br/>
&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
43&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-44_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
On&#160;which&#160;core&#160;the&#160;driver&#160;initialization&#160;is&#160;called,&#160;is&#160;determined&#160;via&#160;the&#160;OS&#160;API&#160;GetCoreID(),&#160;<br/>as it&#160;can&#160;be&#160;seen&#160;in&#160;the&#160;code&#160;example&#160;below.&#160;<br/>A&#160;slave&#160;core&#160;specific&#160;handling&#160;has to&#160;be&#160;implemented&#160;by&#160;the&#160;user.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>/*********************************************************************&#160;<br/>
&#160;&#160;* EcuM_AL_DriverInitZero&#160;<br/>
*********************************************************************/&#160;<br/>FUNC(void, ECUM_CODE) EcuM_AL_DriverInitZero(void)&#160;<br/>{&#160;<br/>&#160;&#160;if(GetCoreID() == ECUM_CORE_ID_MASTER)&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;MasterCore_Init();&#160;<br/>&#160;&#160;}&#160;<br/>&#160;<br/>/*********************************************************************&#160;<br/>&#160;* DO NOT CHANGE THIS COMMENT! &#160; &lt;USERBLOCK EcuM_AL_DriverInitZero&gt; &#160;&#160;<br/>DO NOT CHANGE THIS COMMENT!&#160;<br/>*********************************************************************/&#160;<br/>&#160;&#160;/* Add implementation of EcuM_AL_DriverInitZero() */&#160;<br/>&#160;<br/>&#160;&#160;return;&#160;<br/>/*********************************************************************&#160;<br/>&#160;* DO NOT CHANGE THIS COMMENT! &#160; &lt;/USERBLOCK&gt; &#160; DO NOT CHANGE THIS&#160;<br/>COMMENT!&#160;<br/>*********************************************************************/&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
<b>3.15.2&#160;&#160;Sleep&#160;handling of&#160;slave&#160;cores&#160;<br/></b>The&#160;&#160;EcuM&#160;&#160;flex&#160;&#160;supports&#160;&#160;two&#160;&#160;different&#160;&#160;ways&#160;&#160;to&#160;&#160;set&#160;&#160;the&#160;&#160;ECU&#160;&#160;to&#160;&#160;sleep,&#160;&#160;with&#160;&#160;and&#160;&#160;without&#160;<br/>synchronization&#160;of&#160;&#160;all&#160;cores.&#160;Which&#160;&#160;handling&#160;&#160;is&#160;&#160;used&#160;depends&#160;&#160;on&#160;&#160;the&#160;&#160;boolean&#160;&#160;parameter&#160;<br/>EcuMSlaveCoreHandling&#160;<br/>
<b>EcuMSlaveCoreHandling&#160;</b><br/>
<b>Behavior&#160;&#160;</b><br/>
False&#160;<br/>
The&#160;Master&#160;Core&#160;does&#160;not&#160;care&#160;about&#160;slave&#160;cores&#160;during&#160;the&#160;<br/>sleep&#160;&#160;mode.&#160;&#160;Depending&#160;&#160;on&#160;&#160;the&#160;&#160;used&#160;&#160;hardware,&#160;&#160;it&#160;&#160;might&#160;<br/>happen&#160;that&#160;the&#160;Master&#160;Core&#160;has&#160;switched&#160;already&#160;to&#160;sleep&#160;<br/>and&#160;the&#160;slave&#160;cores&#160;are&#160;still&#160;running.&#160;<br/>
True&#160;<br/>
The&#160;&#160;Master&#160;&#160;Core&#160;&#160;waits&#160;&#160;on&#160;&#160;the&#160;&#160;way&#160;&#160;to&#160;&#160;sleep&#160;&#160;(initiated&#160;&#160;via&#160;<br/>EcuM_GoHalt()&#160;&#160;/&#160;&#160;EcuM_GoPoll()&#160;&#160;)&#160;&#160;till&#160;&#160;all&#160;&#160;slave&#160;&#160;cores&#160;&#160;has&#160;<br/>already&#160;&#160;switched&#160;&#160;to&#160;&#160;sleep.&#160;&#160;During&#160;&#160;wait&#160;&#160;for&#160;&#160;the&#160;&#160;slave&#160;&#160;cores,&#160;<br/>the&#160;&#160;callou<a href="TechnicalReference_EcuMs.html#106">t&#160;&#160;EcuM_WaitForSlaveCores&#160;&#160;</a>is&#160;&#160;called&#160;&#160;cyclically&#160;&#160;till&#160;<br/>all&#160;cores&#160;have&#160;switched&#160;their&#160;state&#160;to&#160;sleep.&#160;The&#160;callout&#160;can&#160;<br/>be&#160;used&#160;to&#160;set&#160;the&#160;slaves&#160;to&#160;sleep.&#160;<br/>
Table&#160;3-17&#160;&#160;&#160;Sleep&#160;handling&#160;on&#160;Slave&#160;Cores&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
44&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-45_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.15.3&#160;&#160;Blocking of the&#160;BSW&#160;Scheduler&#160;during Sleep&#160;<br/></b>If&#160;only&#160;one&#160;BSW&#160;scheduler&#160;is&#160;used&#160;on&#160;the&#160;master&#160;core,&#160;it&#160;is&#160;sufficient&#160;to&#160;configure&#160;only&#160;one&#160;<br/>OsResource&#160;which&#160;is blocked&#160;during&#160;the&#160;sleep&#160;mode.&#160;<br/>If&#160;&#160;there&#160;&#160;is&#160;&#160;more&#160;&#160;than&#160;&#160;one&#160;&#160;BSW&#160;&#160;scheduler&#160;&#160;running&#160;&#160;on&#160;&#160;several&#160;&#160;cores,&#160;&#160;it&#160;&#160;is&#160;&#160;necessary&#160;&#160;to&#160;<br/>configure&#160;an&#160;OsResource&#160;for&#160;every&#160;core.&#160;The&#160;configuration&#160;tool&#160;assigns&#160;automatically&#160;the&#160;<br/>configured&#160;OsResource&#160;to&#160;the&#160;corresponding&#160;core.&#160;&#160;<br/>
<b>3.15.4&#160;&#160;Shutdown of&#160;the&#160;MultiCore&#160;ECU&#160;<br/></b>It&#160;is&#160;necessary&#160;to&#160;call&#160;EcuM_GoDown()&#160;on&#160;all&#160;cores&#160;which&#160;have&#160;a&#160;running&#160;SchM&#160;to&#160;assure&#160;<br/>a&#160;regular&#160;de-initialization&#160;of&#160;the&#160;SchM.&#160;<br/>Finally&#160;after&#160;EcuM_GoDown()&#160;was&#160;called&#160;for&#160;all&#160;these&#160;slave&#160;cores,&#160;the&#160;API&#160;can&#160;be&#160;called&#160;<br/>on&#160;the&#160;master core.&#160;This&#160;leads via&#160;the&#160;callou<a href="TechnicalReference_EcuMs.html#107">t&#160;EcuM_ShutdownOS&#160;</a>to&#160;a&#160;call&#160;of&#160;the&#160;OS&#160;API&#160;<br/>ShutdownAllCores().&#160;This&#160;API&#160;synchronizes all&#160;cores and&#160;stops the&#160;slaves.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>If&#160;the&#160;SchM&#160;is&#160;only&#160;running&#160;on&#160;the&#160;master&#160;core it&#160;is&#160;sufficient&#160;to call&#160;EcuM_GoDown()&#160;on&#160;<br/>
&#160;&#160;the&#160;master&#160;core&#160;only.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.15.5&#160;&#160;Reconfiguration of&#160;the&#160;BSW&#160;Core&#160;ID&#160;<br/></b>The&#160;EcuM&#160;supports&#160;the&#160;configuration&#160;of&#160;the&#160;BSW&#160;Core&#160;Id.&#160;Per&#160;default&#160;the&#160;master&#160;Core&#160;Id&#160;<br/>is&#160;mapped&#160;to&#160;the&#160;OS&#160;define&#160;OS_CORE_ID_MASTER&#160;(Id&#160;0).&#160;&#160;<br/>&#160;<br/>If&#160;the&#160;BSW&#160;shall&#160;run&#160;on&#160;another&#160;Core,&#160;the&#160;Id&#160;has to&#160;be&#160;configured&#160;via&#160;the&#160;configuration&#160;tool.&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
45&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-46_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.16&#160;&#160;Mode&#160;Handling&#160;for&#160;EcuM&#160;Flex&#160;</b><br/>
<b>3.16.1&#160;&#160;Mode&#160;Handling&#160;<br/></b>The&#160;&#160;BswM&#160;&#160;can&#160;&#160;set&#160;&#160;a&#160;&#160;specific&#160;&#160;EcuM&#160;&#160;state&#160;&#160;(via<a href="TechnicalReference_EcuMs.html#91">&#160;&#160;EcuM_SetState)</a>&#160;&#160;which&#160;&#160;is&#160;&#160;mapped&#160;&#160;to&#160;&#160;the&#160;<br/>corresponding&#160;mode&#160;and&#160;an&#160;Rte&#160;mode&#160;switch&#160;will&#160;be&#160;initiated&#160;by&#160;the&#160;EcuM.&#160;The&#160;mapping&#160;<br/>of&#160;states&#160;to&#160;modes can&#160;be&#160;seen&#160;in<a href="TechnicalReference_EcuMs.html#46">&#160;Table&#160;3-18.</a>&#160;<br/>After&#160;the&#160;mode&#160;switch&#160;is&#160;initiated,&#160;the&#160;EcuM&#160;polls&#160;the&#160;Rte&#160;in&#160;each&#160;MainFunction&#160;cycle&#160;if&#160;the&#160;<br/>mode&#160;&#160;switch&#160;&#160;is&#160;&#160;executed&#160;&#160;successfully.&#160;&#160;After&#160;&#160;the&#160;&#160;Rte&#160;&#160;has&#160;&#160;acknowledged&#160;&#160;the&#160;&#160;successful&#160;<br/>mode&#160;switch&#160;execution,&#160;the&#160;EcuM&#160;will notify&#160;the&#160;BswM&#160;about&#160;the&#160;finished&#160;mode&#160;switch.&#160;<br/>
<b>EcuM&#160;State&#160;</b><br/>
<b>EcuM&#160;Mode&#160;</b><br/>
ECUM_STATE_STARTUP&#160;<br/>
RTE_MODE_EcuM_Mode_STARTUP&#160;<br/>
ECUM_STATE_SLEEP&#160;<br/>
RTE_MODE_EcuM_Mode_SHUTDOWN&#160;<br/>or&#160;<br/>RTE_MODE_EcuM_Mode_SLEEP&#160;<br/>
ECUM_STATE_APP_RUN&#160;<br/>
RTE_MODE_EcuM_Mode_RUN&#160;<br/>
ECUM_STATE_APP_POST_RUN&#160;<br/>
RTE_MODE_EcuM_Mode_POST_RUN&#160;<br/>
ECUM_STATE_SHUTDOWN&#160;<br/>
RTE_MODE_EcuM_Mode_SHUTDOWN&#160;<br/>or&#160;<br/>RTE_MODE_EcuM_Mode_SLEEP&#160;<br/>
Table&#160;3-18&#160;&#160;&#160;Mapping&#160;of&#160;States&#160;to&#160;Modes&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>In&#160;case&#160;of&#160;a&#160;requested&#160;state&#160;ECUM_STATE_SHUTDOWN&#160;or&#160;ECUM_STATE_SLEEP,&#160;<br/>
&#160;&#160;the&#160;corresponding&#160;mode&#160;depends&#160;on&#160;the&#160;currently&#160;configured&#160;shutdown&#160;target.&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
46&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=47></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.16.2&#160;&#160;Run&#160;Request Protocol&#160;<br/></b>The&#160;run&#160;request&#160;protocol&#160;is&#160;a&#160;mechanism&#160;for&#160;applications&#160;or&#160;Software&#160;Components&#160;(SW-C)&#160;<br/>to&#160;&#160;request&#160;&#160;RUN&#160;&#160;state&#160;&#160;explicitly&#160;&#160;via&#160;&#160;<a href="TechnicalReference_EcuMs.html#76">EcuM_RequestRUN.&#160;&#160;</a>The&#160;&#160;EcuM&#160;&#160;notifies&#160;&#160;the&#160;&#160;BswM&#160;<br/>about&#160;&#160;an&#160;active&#160;application&#160;request.&#160;If&#160;the&#160;application&#160;has&#160;nothing&#160;to&#160;do&#160;anymore&#160;&#160;it&#160;&#160;must&#160;<br/>release&#160;the&#160;previous&#160;requested&#160;RUN&#160;state.&#160;If&#160;no&#160;other&#160;SW-C&#160;has&#160;requested&#160;RUN&#160;state&#160;the&#160;<br/>ECU&#160;State&#160;Manger&#160;will&#160;notify&#160;the&#160;BswM&#160;that&#160;no&#160;application&#160;request&#160;is&#160;active&#160;anymore.&#160;<br/>If&#160;SW-C&#160;needs&#160;special&#160;preparation&#160;for&#160;one&#160;of&#160;the&#160;shutdown&#160;states&#160;(SLEEP,&#160;OFF,&#160;RESET)&#160;<br/>the&#160;&#160;SW-C&#160;&#160;must&#160;&#160;request&#160;&#160;POST&#160;&#160;RUN&#160;&#160;state.&#160;&#160;This&#160;&#160;is&#160;&#160;the&#160;&#160;same&#160;&#160;mechanism&#160;&#160;like&#160;&#160;requesting&#160;<br/>RUN&#160;state.&#160;So,&#160;the&#160;POST&#160;RUN&#160;state&#160;has&#160;to&#160;be&#160;released&#160;after&#160;the&#160;job&#160;of&#160;the&#160;application&#160;is&#160;<br/>finished.&#160;It&#160;is&#160;very&#160;important&#160;for&#160;SW-C’s&#160;which&#160;needs&#160;POST&#160;RUN&#160;state&#160;activities&#160;to&#160;request&#160;<br/>the&#160;POST&#160;RUN&#160;state&#160;before&#160;releasing&#160;the&#160;RUN&#160;request.&#160;Otherwise&#160;it&#160;is&#160;possible&#160;that&#160;the&#160;<br/>application&#160;doesn't&#160;get&#160;the&#160;chance&#160;to&#160;execute&#160;its&#160;POST&#160;RUN&#160;activities,&#160;depending&#160;on&#160;the&#160;<br/>BswM&#160;configuration.&#160;<br/>To&#160;request&#160;RUN&#160;or&#160;POST&#160;RUN&#160;state&#160;each&#160;SW-C&#160;must&#160;be&#160;a&#160;configured&#160;user&#160;of&#160;the&#160;ECU&#160;<br/>State&#160;&#160;Manager.&#160;&#160;Therefore&#160;&#160;it&#160;&#160;is&#160;&#160;necessary&#160;&#160;to&#160;&#160;define&#160;&#160;one&#160;&#160;user&#160;&#160;for&#160;&#160;each&#160;&#160;SW-C&#160;&#160;to&#160;&#160;place&#160;<br/>requests.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
47&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-48_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.17&#160;&#160;Generated&#160;Template&#160;Files&#160;</b><br/>
A&#160;generated&#160;template&#160;file&#160;in&#160;this document&#160;is&#160;a&#160;file&#160;which:&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>is generated&#160;by&#160;the&#160;generation&#160;tool&#160;at&#160;every&#160;generation&#160;process&#160;&#160;<br/><b>&gt;&#160;&#160;</b>the&#160;user can&#160;modify&#160;this&#160;template&#160;for&#160;his&#160;needs&#160;&#160;<br/><b>&gt;&#160;&#160;</b>the&#160;changes&#160;made&#160;by&#160;the&#160;user&#160;will&#160;not&#160;be&#160;overwritten&#160;at&#160;the&#160;next&#160;generation&#160;process&#160;&#160;<br/>
&#160;&#160;<br/>In&#160;order not&#160;to&#160;overwrite&#160;the&#160;changes&#160;made&#160;by&#160;the&#160;user,&#160;the&#160;template&#160;file&#160;contains special&#160;<br/>comments.&#160;The&#160;user&#160;must&#160;insert&#160;his&#160;code&#160;between&#160;the&#160;two&#160;comments&#160;which&#160;delimit the&#160;<br/>user&#160;block.&#160;The&#160;comments&#160;have&#160;the&#160;following&#160;format:&#160;<br/>&#160;<br/>/***************************************************************************************************************************************&#160;<br/>&#160;*&#160;DO&#160;NOT&#160;CHANGE&#160;THIS&#160;COMMENT!&#160;&#160;&lt;USERBLOCK&#160;FUNCTIONNAME&gt;&#160;&#160;&#160;DO&#160;NOT&#160;CHANGE THIS COMMENT!&#160;<br/>***************************************************************************************************************************************/&#160;<br/>&#160;<br/>&#160;<br/>/****************************************************************************************************************************************&#160;<br/>&#160;*&#160;DO&#160;NOT&#160;CHANGE&#160;THIS&#160;COMMENT!&#160;&#160;&lt;/USERBLOCK&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DO&#160;NOT&#160;CHANGE&#160;THIS&#160;COMMENT!&#160;<br/>****************************************************************************************************************************************/&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Do&#160;not&#160;modify&#160;or&#160;delete&#160;these&#160;comments.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.18&#160;&#160;Wake-up&#160;Event&#160;Handling and&#160;Wake-up&#160;Validation&#160;</b><br/>
The&#160;handling&#160;of&#160;Wake-up&#160;Sources&#160;and&#160;Wake-up&#160;Validation&#160;has&#160;to&#160;be&#160;configured&#160;and&#160;<br/>implemented&#160;specifically&#160;for&#160;every&#160;ECU.&#160;The&#160;following&#160;list&#160;provides&#160;a&#160;short overview&#160;which&#160;<br/>callouts&#160;are&#160;affected:&#160;&#160;<br/>
<b>&#160;&#160;</b>EcuM_EnableWakeupSources(),&#160;(refer&#160;to&#160;Ch.<a href="TechnicalReference_EcuMs.html#110">&#160;5.7.2.17)</a>&#160;<br/><b>&#160;&#160;</b>EcuM_DisableWakeupSources(),&#160;(refer&#160;to&#160;Ch.<a href="TechnicalReference_EcuMs.html#110">&#160;5.7.2.18)</a>&#160;<br/><b>&#160;&#160;</b>EcuM_CheckWakeup(),&#160;(refer&#160;to&#160;Ch<a href="TechnicalReference_EcuMs.html#112">.&#160;5.7.2.21)</a>&#160;<br/><b>&#160;&#160;</b>EcuM_StartWakeupSources(),&#160;(refer&#160;to&#160;Ch<a href="TechnicalReference_EcuMs.html#111">.&#160;5.7.2.19)</a>&#160;<br/><b>&#160;&#160;</b>EcuM_StopWakeupSources(),&#160;(refer&#160;to&#160;Ch<a href="TechnicalReference_EcuMs.html#111">.&#160;5.7.2.20)</a>&#160;<br/>
&#160;<br/>
The&#160;integration&#160;task&#160;is&#160;to&#160;fill&#160;these&#160;callouts&#160;with&#160;code&#160;which&#160;fulfill&#160;the&#160;ECU&#160;specific&#160;<br/>requirements.&#160;The&#160;following&#160;paragraphs&#160;illustrate&#160;two&#160;example&#160;use&#160;cases:&#160;<br/>
<b>&#160;&#160;</b>Wake-up&#160;after&#160;a&#160;physical&#160;sleep&#160;mode&#160;&#160;<br/><b>&#160;&#160;</b>Wake-up&#160;validation&#160;of&#160;communication&#160;channels (EcuM&#160;in&#160;Run&#160;state)&#160;<br/>
&#160;<br/>
<b>3.18.1&#160;&#160;Wake-up&#160;after a&#160;Physical&#160;Sleep&#160;Mode&#160;</b><br/>
<b>3.18.1.1&#160;&#160;Use&#160;Case&#160;Description&#160;<br/></b>A&#160;raising&#160;edge&#160;on&#160;an&#160;ICU&#160;channel&#160;shall&#160;bring&#160;the&#160;ECUM&#160;into&#160;RUN&#160;state.&#160;A&#160;wake-up&#160;source&#160;<br/>“ECUM_WKSOURCE_ICU_CH0”&#160;&#160;is&#160;&#160;configured&#160;for&#160;&#160;that.&#160;The&#160;&#160;name&#160;&#160;of&#160;&#160;the&#160;&#160;configured&#160;&#160;ICU&#160;<br/>channel is Icu_Channel0.&#160;&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
48&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=49></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
No&#160;&#160;wake-up&#160;&#160;validation&#160;shall&#160;be&#160;performed&#160;on&#160;that&#160;&#160;wake-up&#160;&#160;event.&#160;This&#160;&#160;wake-up&#160;event&#160;&#160;is&#160;<br/>the&#160;only&#160;active&#160;wake-up&#160;event&#160;for the&#160;desired&#160;sleep&#160;mode.&#160;&#160;<br/>
<b>3.18.1.2&#160;&#160;Execution&#160;Flow&#160;</b><br/>
<b>&gt;&#160;&#160;</b>EcuM&#160;is&#160;in&#160;ECUM_STATE_RUN&#160;&#160;<br/><b>&gt;&#160;&#160;</b>BswM&#160;calls&#160;EcuM_GoHalt()&#160;<br/>
<b>&#160;&#160;</b>Callout&#160;EcuM_EnableWakeupSources()&#160;is executed.&#160;<br/><b>&#160;&#160;</b>EcuM&#160;transits to&#160;sleep,&#160;Mcu_SetMode() is called&#160;<br/>
<b>&gt;&#160;&#160;</b>External&#160;event&#160;triggers&#160;ICU&#160;hardware&#160;to&#160;raise&#160;an&#160;interrupt&#160;<br/><b>&gt;&#160;&#160;</b>Callout&#160;EcuM_CheckWakeup()&#160;is&#160;executed&#160;by&#160;ISR&#160;<br/><b>&gt;&#160;&#160;</b>API&#160;function&#160;EcuM_SetWakeupEvent()&#160;is executed&#160;<br/><b>&gt;&#160;</b>EcuM&#160;executes&#160;implicitly&#160;EcuM_ValidateWakeupEvent()&#160;because&#160;wake-up&#160;event&#160;is&#160;<br/>
instantly&#160;valid&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM&#160;transits&#160;from&#160;ECUM_STATE_SLEEP&#160;to&#160;ECUM_STATE_WAKEUP_ONE&#160;<br/><b>&gt;&#160;&#160;</b>EcuM&#160;transits&#160;from&#160;ECUM_STATE_WAKEUP_TWO&#160;to&#160;ECUM_STATE_&#160;RUN&#160;<br/>
<b>&#160;&#160;</b>Callout&#160;EcuM_DisableWakeupSources() is executed&#160;<br/>
<b>3.18.1.3&#160;&#160;Callout&#160;Implementation&#160;Examples&#160;<br/></b>FUNC(void, ECUM_CODE) EcuM_EnableWakeupSources(EcuM_WakeupSourceType&#160;<br/>wakeupSource)&#160;<br/>{&#160;<br/>&#160;&#160;/* Check for each configured wake-up source the corresponding bit&#160;&#160;<br/>&#160;&#160;&#160;* is set. Here the bit for the ICU wake-up source must be set&#160;<br/>&#160;&#160;*/&#160;<br/>&#160;&#160;if&#160;((wakeupSource &amp; ECUM_WKSOURCE_ICU_CH0) != 0)&#160;<br/>&#160;&#160;{&#160;<br/>&#160;&#160;&#160;&#160;Icu_EnableNotification(Icu_Channel0);&#160;<br/>&#160;&#160;&#160;&#160;Icu_EnableWakeup(Icu_Channel0);&#160;<br/>&#160;&#160;&#160;&#160;Icu_SetMode(ICU_MODE_SLEEP);&#160;<br/>&#160;&#160;}&#160;<br/>&#160;&#160;/* … */&#160;<br/>}&#160;<br/>&#160;<br/>FUNC(void, ECUM_CODE) EcuM_CheckWakeup(EcuM_WakeupSourceType wakeupSource)&#160;<br/>{&#160;<br/>&#160;&#160;if&#160;((wakeupSource &amp; ECUM_WKSOURCE_ICU_CH0) != 0)&#160;<br/>&#160;&#160;{&#160;<br/>&#160;&#160;&#160;&#160;/* no validation necessary, so call EcuM_SetWakeupEvent() */&#160;<br/>&#160;<br/>&#160;&#160;&#160;&#160;EcuM_SetWakeupEvent(ECUM_WKSOURCE_ICU_CH0);&#160;<br/>&#160;&#160;}&#160;<br/>&#160;&#160;/* … */&#160;<br/>}&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>FUNC(void, ECUM_CODE) EcuM_DisableWakeupSources(EcuM_WakeupSourceType&#160;<br/>wakeupSource)&#160;<br/>{&#160;<br/>&#160;&#160;if&#160;((wakeupSource &amp; ECUM_WKSOURCE_ICU_CH0) != 0)&#160;<br/>&#160;&#160;{&#160;<br/>&#160;&#160;&#160;&#160;Icu_DisableNotification(Icu_Channel0);&#160;<br/>&#160;&#160;&#160;&#160;Icu_DisableWakeup(Icu_Channel0);&#160;<br/>&#160;&#160;&#160;&#160;Icu_SetMode(ICU_MODE_NORMAL);&#160;<br/>&#160;&#160;}&#160;&#160;<br/>}&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
49&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=50></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
&#160;<br/>
<b>3.18.2&#160;&#160;Wake-up&#160;Validation of&#160;Communication&#160;Channels&#160;(ECUM&#160;in RUN&#160;State)&#160;</b><br/>
<b>3.18.2.1&#160;&#160;Use&#160;Case&#160;Description&#160;<br/></b>A&#160;&#160;wake-up&#160;&#160;capable&#160;&#160;CAN&#160;&#160;hardware&#160;&#160;is&#160;&#160;assumed.&#160;A&#160;&#160;message&#160;&#160;on&#160;&#160;a&#160;&#160;CAN&#160;&#160;channel&#160;&#160;shall&#160;&#160;be&#160;<br/>recognized&#160;and&#160;set&#160;the&#160;CAN&#160;channel&#160;into&#160;normal&#160;operation&#160;mode&#160;(which&#160;will&#160;be&#160;triggered&#160;<br/>by&#160;ComM).&#160;A&#160;wake-up&#160;source&#160;ECUM_WKSOURCE_CAN0&#160;is&#160;configured&#160;for&#160;that.&#160;Wake-up&#160;<br/>Validation&#160;shall&#160;be&#160;performed&#160;for that&#160;channel.&#160;<br/>
<b>3.18.2.2&#160;&#160;Execution&#160;Flow&#160;</b><br/>
<b>&gt;&#160;&#160;</b>ECUM&#160;is&#160;in&#160;RUN&#160;state,&#160;the&#160;CAN&#160;channel is in&#160;sleep&#160;state&#160;and&#160;is&#160;able&#160;to&#160;detect&#160;wake-up&#160;<br/>
events&#160;<br/>
<b>&gt;&#160;&#160;</b>Callout&#160;EcuM_CheckWakeup()&#160;is&#160;executed&#160;by&#160;ISR&#160;<br/>
<b>&gt;&#160;&#160;</b>API&#160;EcuM_SetWakeupEvent() is&#160;executed,&#160;EcuM&#160;starts&#160;wake-up&#160;validation&#160;timeout&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_MainFunction()&#160;triggered&#160;by&#160;SCHM&#160;<br/>
<b>&#160;&#160;</b>(a)&#160;ECUM&#160;detects&#160;a&#160;pending&#160;wake-up&#160;event&#160;and&#160;executes&#160;callout&#160;<br/>
EcuM_StartWakeupSources()&#160;<br/>
<b>&#160;&#160;</b>(b)&#160;ECUM&#160;executes callout&#160;EcuM_CheckValidation()&#160;<br/>
<b>&#160;&#160;</b>Note:&#160;step&#160;(b)&#160;may&#160;be&#160;executed&#160;several&#160;times,&#160;with&#160;each&#160;EcuM_MainFunction()&#160;<br/>
call&#160;until the&#160;wake-up&#160;event&#160;is validated&#160;or&#160;expired,&#160;but&#160;<br/>EcuM_StartWakeupSources()&#160;is executed&#160;only&#160;once.&#160;<br/>
<b>&gt;&#160;&#160;</b>Case&#160;Validation&#160;successful:&#160;<br/>
<b>&#160;&#160;</b>API&#160;EcuM_ValidateWakeupEvent()&#160;is executed,&#160;within&#160;this routine&#160;<br/>
ComM_WakeUpIndication()&#160;is&#160;called&#160;<br/>
<b>&#160;&#160;</b>EcuM_MainFunction()&#160;triggered&#160;by&#160;SCHM&#160;<br/>
<b>&#160;&#160;</b>ECUM&#160;stops validation&#160;timeout&#160;<br/>
<b>&gt;&#160;&#160;</b>Case&#160;Validation&#160;failed:&#160;<br/>
<b>&#160;&#160;</b>ECUM&#160;executes&#160;callout&#160;EcuM_StopWakeupSources()&#160;<br/>
<b>&#160;&#160;</b>The&#160;pending&#160;wake-up&#160;changes to&#160;an&#160;expired&#160;wake-up&#160;source&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
50&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=51></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.18.2.3&#160;&#160;Callout&#160;Implementation&#160;Examples&#160;</b><br/>
<b>3.18.2.3.1&#160;&#160;EcuM_CheckWakeup&#160;<br/></b>FUNC(void, ECUM_CODE) EcuM_CheckWakeup(EcuM_WakeupSourceType wakeupSource)&#160;&#160;<br/>{&#160;<br/>
if((wakeupSource &amp; ECUM_WKSOURCE_CAN0) != 0)&#160;<br/>{&#160;<br/>
CanIf_CheckWakeup(ECUM_WKSOURCE_CAN0);&#160;<br/>
}&#160;<br/>
}&#160;<br/>&#160;<br/>
<b>3.18.2.3.2&#160;&#160;EcuM_CheckValidation&#160;<br/></b>FUNC(void, ECUM_CODE) EcuM_CheckValidation(EcuM_WakeupSourceType wakeupSource)&#160;<br/>{&#160;<br/>
if&#160;((wakeupSource &amp; ECUM_WKSOURCE_CAN0) != 0)&#160;<br/>{&#160;<br/>
/* Query the driver if the wake-up event was valid */&#160;<br/>CanIf_CheckValidation(ECUM_WKSOURCE_CAN0);&#160;<br/>
}&#160;<br/>
}&#160;<br/>&#160;<br/>
<b>3.18.2.3.3&#160;&#160;EcuM_StartWakeupSources&#160;and EcuM_StopWakeupSources&#160;in&#160;the&#160;case&#160;</b><br/>
<b>of&#160;a&#160;MICROSAR CanSM&#160;</b><br/>
If the&#160;used&#160;CanSM&#160;module&#160;is a&#160;MICROSAR module,&#160;the&#160;following&#160;implementation&#160;can&#160;be&#160;<br/>used.&#160;<br/>&#160;<br/>
FUNC(void, ECUM_CODE) EcuM_StartWakeupSources(EcuM_WakeupSourceType&#160;<br/>wakeupSource)&#160;<br/>{&#160;<br/>&#160;&#160;if&#160;((wakeupSource &amp; ECUM_WKSOURCE_CAN0) != 0)&#160;<br/>&#160;&#160;{&#160;/* CanSM needs the corresponding Network Handle */&#160;<br/>&#160; &#160;&#160;if&#160;(CanSM_StartWakeupSources(0x00) == E_NOT_OK)&#160;<br/>&#160; &#160;&#160;{&#160;<br/>&#160; &#160; &#160;&#160;/* place ECU depended error handling here */&#160;<br/>&#160; &#160;&#160;}&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>void&#160;EcuM_StopWakeupSources(EcuM_WakeupSourceType wakeupSource)&#160;<br/>{&#160;<br/>&#160;&#160;if&#160;((wakeupSource &amp; ECUM_WKSOURCE_CAN0) != 0)&#160;<br/>&#160;&#160;{&#160;/* CanSM needs the corresponding Network Handle */&#160;<br/>&#160; &#160;&#160;if&#160;(CanSM_StopWakeupSources(0x00, wakeupSource) == E_NOT_OK)&#160;<br/>&#160; &#160;&#160;{&#160;<br/>&#160; &#160; &#160;&#160;/* place ECU depended error handling here */&#160;<br/>&#160; &#160;&#160;}&#160;&#160;&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
51&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=52></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>3.18.2.3.4&#160;&#160;EcuM_StartWakeupSources&#160;and EcuM_StopWakeupSources&#160;in&#160;the&#160;case&#160;</b><br/>
<b>of&#160;a&#160;non MICROSAR&#160;CanSM&#160;</b><br/>
If&#160;the&#160;used&#160;CanSM&#160;module&#160;is a&#160;non&#160;MICROSAR&#160;module,&#160;the&#160;following&#160;implementation&#160;can&#160;<br/>be&#160;used.&#160;<br/>&#160;<br/>FUNC(void, ECUM_CODE) EcuM_StartWakeupSources(EcuM_WakeupSourceType&#160;<br/>wakeupSource)&#160;&#160;<br/>{&#160;<br/>&#160;&#160;CanIf_ControllerModeType CanIfCtrlMode;&#160;<br/>
if&#160;((wakeupSource &amp; ECUM_WKSOURCE_CAN0) != 0)&#160;<br/>{&#160;<br/>
/* determine in which is the current Can Controller state */&#160;<br/>(void)CanIf_GetControllerMode(0, &amp;CanIfCtrlMode);&#160;<br/>/* in case the Can Controller is not CANIF_CS_STARTED */&#160;<br/>
&#160;<br/>
if&#160;(CANIF_CS_STARTED != CanIfCtrlMode)&#160;<br/>{&#160;<br/>/* Set the controller and transceiver mode into normal operation mode*/&#160;<br/>CanIf_SetTrcvMode(0, CANIF_TRCV_MODE_NORMAL);&#160;&#160;<br/>CanIf_SetControllerMode(0, CANIF_CS_STOPPED);&#160;<br/>CanIf_SetControllerMode(0, CANIF_CS_STARTED);&#160;&#160;&#160;<br/>
}&#160;<br/>else&#160;<br/>{&#160;<br/>
/* Stack already up and running */&#160;<br/>
}&#160;<br/>&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>&#160;<br/>FUNC(void, ECUM_CODE) EcuM_StopWakeupSources(EcuM_WakeupSourceType wakeupSource)&#160;<br/>{&#160;<br/>
if&#160;((wakeupSource &amp; ECUM_WKSOURCE_CAN0) != 0)&#160;<br/>{&#160;<br/>
/* Validation was not successful, set the CAN controller and&#160;<br/>* Transceiver back to sleep mode. */&#160;<br/>CanIf_SetControllerMode(0, CANIF_CS_STOPPED);&#160;<br/>CanIf_SetControllerMode(0, CANIF_CS_SLEEP);&#160;<br/>CanIf_SetTrcvMode(0, CANIF_TRCV_MODE_STANDBY);&#160;<br/>
}&#160;<br/>
}&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
52&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-53_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>4&#160;&#160;Integration&#160;</b><br/>
This&#160;chapter&#160;gives&#160;necessary&#160;information&#160;for&#160;the&#160;integration&#160;of&#160;the&#160;MICROSAR&#160;EcuM&#160;into&#160;<br/>an&#160;application&#160;environment&#160;of&#160;an&#160;ECU.&#160;<br/>
<b>4.1&#160;</b><br/>
<b>Scope&#160;of&#160;Delivery&#160;</b><br/>
The&#160;delivery&#160;of&#160;the&#160;EcuM&#160;contains&#160;the&#160;files&#160;which&#160;are&#160;described&#160;in&#160;the&#160;chapte<a href="TechnicalReference_EcuMs.html#53">rs&#160;4.1.1&#160;</a>and&#160;<br/><a href="TechnicalReference_EcuMs.html#53">4.1.2:</a>&#160;<br/>
<b>4.1.1&#160;</b><br/>
<b>Static&#160;Files&#160;</b><br/>
<b>File Name&#160;</b><br/>
<b>Source&#160;</b><br/>
<b>Object&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Code&#160;</b><br/>
<b>Code&#160;</b><br/>
<b>Delivery&#160;&#160;Delivery&#160;</b><br/>
EcuM.c&#160;<br/>
This&#160;is&#160;the&#160;source&#160;file&#160;of&#160;the&#160;EcuM.&#160;It&#160;contains&#160;the&#160;<br/>
&#160;<br/>
&#160;<br/>
implementation&#160;of&#160;the&#160;EcuM&#160;interfaces.&#160;<br/>
EcuM.h&#160;<br/>
This&#160;is&#160;the&#160;header&#160;file&#160;of&#160;the&#160;EcuM.&#160;It&#160;declares&#160;the&#160;<br/>
&#160;<br/>
&#160;<br/>
interfaces&#160;of&#160;the&#160;MIRCROSAR&#160;module&#160;EcuM.&#160;<br/>
EcuM_Cbk.h&#160;<br/>
Contains&#160;the&#160;prototypes&#160;of&#160;the&#160;provided callbacks&#160;and&#160;<br/>
&#160;<br/>
&#160;<br/>
callout&#160;functions.&#160;<br/>
Table&#160;4-1&#160;&#160;&#160;Static&#160;files&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Do not&#160;edit&#160;manually&#160;<br/></b>The&#160;static&#160;files&#160;listed&#160;above&#160;must&#160;not&#160;be&#160;edited&#160;by&#160;the&#160;user!&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>4.1.2&#160;</b><br/>
<b>Dynamic&#160;Files&#160;</b><br/>
The&#160;dynamic&#160;files are&#160;generated&#160;by&#160;the&#160;configuration&#160;tool.&#160;<br/>
<b>File Name&#160;</b><br/>
<b>Description&#160;</b><br/>
EcuM_Cfg.h&#160;<br/>
Contains&#160;the&#160;configuration of&#160;the&#160;EcuM.&#160;<br/>
EcuM_Cfg.c&#160;<br/>
Contains&#160;the&#160;generated&#160;configuration&#160;data&#160;of&#160;the&#160;EcuM&#160;<br/>
EcuM_PrivateCfg.h&#160;<br/>
Contains&#160;configuration&#160;data&#160;which&#160;is&#160;only&#160;relevant&#160;for&#160;the&#160;EcuM&#160;<br/>implementation.&#160;This&#160;file&#160;must&#160;be&#160;only&#160;included&#160;by&#160;the&#160;EcuM&#160;<br/>implementation&#160;files.&#160;<br/>
EcuM_Generated_Types.h&#160;&#160;Contains&#160;all&#160;provided&#160;types&#160;of&#160;the&#160;EcuM.&#160;<br/>EcuM_PBcfg.c&#160;<br/>
Contains&#160;the&#160;post-build&#160;configuration&#160;of&#160;the&#160;EcuM.&#160;<br/>
EcuM_Callout_Stubs.c&#160;<br/>
Template&#160;for&#160;the&#160;callout&#160;code which has&#160;to&#160;be&#160;filled&#160;by&#160;the&#160;integrator.&#160;<br/>
EcuM_Init_PBcfg.c&#160;<br/>
This&#160;file&#160;contains&#160;configuration&#160;pointers&#160;to&#160;post-build&#160;modules.&#160;<br/>
EcuM_Init_PBcfg.h&#160;<br/>
This&#160;file&#160;contains&#160;the&#160;definition&#160;of&#160;the&#160;global&#160;post-build&#160;struct.&#160;<br/>
EcuM_Init_Cfg.c&#160;<br/>
This&#160;file&#160;contains&#160;configuration&#160;pointers&#160;to&#160;variant&#160;modules.&#160;<br/>
EcuM_Init_Cfg.h&#160;<br/>
This&#160;file&#160;contains&#160;the&#160;definition&#160;of&#160;the&#160;variant&#160;modules&#160;struct.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
53&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=54></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-54_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-54_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>File Name&#160;</b><br/>
<b>Description&#160;</b><br/>
EcuM_Error.h&#160;<br/>
This&#160;file&#160;provides&#160;an&#160;BSW&#160;Error&#160;function&#160;for&#160;post-build-loadable&#160;<br/>
Table&#160;4-2&#160;&#160;&#160;Generated&#160;files&#160;<br/>
&#160;<br/>
<b>4.2&#160;</b><br/>
<b>Critical&#160;Sections&#160;&#160;&#160;</b><br/>
The&#160;EcuM&#160;calls the&#160;following&#160;function&#160;when&#160;entering&#160;a&#160;critical&#160;section:&#160;<br/>
<b>&gt;&#160;</b>void&#160;&#160;SchM_Enter_EcuM_ECUM_EXCLUSIVE_AREA_0(void)&#160;<br/>
<b>&gt;&#160;&#160;</b>When&#160;the&#160;critical&#160;section&#160;is&#160;left&#160;the&#160;following&#160;function&#160;is called&#160;by&#160;the&#160;EcuM:&#160;<br/>
<b>&gt;&#160;</b>void&#160;SchM_Exit_EcuM_ECUM_EXCLUSIVE_AREA_0(void)&#160;<br/>
<b>Critical&#160;Section&#160;Define&#160;</b><br/>
<b>Interrupt&#160;Lock&#160;</b><br/>
ECUM_EXCLUSIVE_AREA_0&#160;<br/>
No&#160;interrupt&#160;by&#160;any&#160;wake-up&#160;interrupt&#160;is&#160;<br/>allowed.&#160;These&#160;interrupts&#160;must&#160;be&#160;locked&#160;in&#160;<br/>this&#160;exclusive&#160;area.&#160;<br/>
ECUM_EXCLUSIVE_AREA_1&#160;<br/>
If&#160;it&#160;cannot&#160;be&#160;assured&#160;that&#160;a&#160;32bit variable&#160;<br/>is&#160;written&#160;atomically,&#160;this&#160;exclusive&#160;area&#160;<br/>must&#160;be&#160;configured&#160;as&#160;a&#160;spin&#160;lock to&#160;<br/>protect&#160;access&#160;on&#160;global state&#160;variables.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>The&#160;configuration&#160;of&#160;this&#160;exclusive&#160;<br/>
&#160;&#160;area&#160;is&#160;only&#160;necessary&#160;in&#160;the&#160;case&#160;<br/>
of&#160;a&#160;multi&#160;core&#160;ECU&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
ECUM_EXCLUSIVE_AREA_2&#160;<br/>
No&#160;task&#160;switch&#160;and&#160;no&#160;interrupt&#160;from&#160;the&#160;<br/>Gpt&#160;is&#160;allowed&#160;in&#160;this&#160;exclusive&#160;area&#160;to&#160;<br/>protect&#160;the&#160;global system&#160;time.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>The&#160;configuration&#160;of&#160;this&#160;exclusive&#160;<br/>
&#160;&#160;area&#160;is&#160;only&#160;necessary&#160;if&#160;the&#160;<br/>
feature&#160;Alarm&#160;Clock&#160;is&#160;enabled&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Table&#160;4-3&#160;&#160;&#160;Critical&#160;Sections&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
54&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=55></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>4.3&#160;</b><br/>
<b>Include&#160;Structure&#160;</b><br/>
<b>&#160;class&#160;include&#160;Structure</b><br/>
Std_Types.h<br/>
EcuM_Generated_Types.h<br/>
NvM.h<br/>
EcuM_Cfg.h<br/>
«include»<br/>
«include»<br/>
«include<br/>in&#160;case&#160;of<br/>
Rte_EcuM_Type.h<br/>
EcuM<br/>
«include»<br/>
fixed»<br/>
«include»<br/>
EcuM_Error.h<br/>
«include»<br/>
EcuM_Cbk.h<br/>
EcuM_PBcfg.c<br/>
«include»<br/>
ComM.h<br/>
«include»<br/>
«include»<br/>
EcuM_Cfg.c<br/>
EcuM_Init_PBcfg.c<br/>
EcuM.h<br/>
Rte_Main.h<br/>
«include»«include»<br/>
«include»<br/>
ComM_EcuMBswM.h<br/>
EcuM_Init_Cfg.h<br/>
«include»<br/>
EcuM_Init_PBcfg.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
SchM_EcuM.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
EcuM_Init_Cfg.c<br/>
EcuM_PrivateCfg.h<br/>
EcuM_Callout_Stubs.c<br/>
«include»<br/>
BswM.h<br/>
«include»<br/>
«include»&#160;«include»&#160;«include»&#160;«include»&#160;«include»<br/>
«include»<br/>
Dem.h<br/>
Mcu.h<br/>
Os.h<br/>
Det.h<br/>
EcuM.c<br/>
BswM_EcuM.h<br/>
«include»<br/>
&#160;<br/>
&#160;<br/>
Figure&#160;4-1&#160;&#160;Include&#160;structure&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
55&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=56></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>4.4&#160;</b><br/>
<b>Dependencies&#160;on other&#160;BSW&#160;Modules&#160;</b><br/>
<b>4.4.1&#160;</b><br/>
<b>BswM&#160;</b><br/>
The&#160;&#160;EcuM&#160;&#160;module&#160;&#160;depends&#160;&#160;on&#160;&#160;the&#160;&#160;BswM.&#160;&#160;The&#160;&#160;EcuM&#160;&#160;performs&#160;&#160;the&#160;&#160;initialization&#160;&#160;of&#160;&#160;the&#160;<br/>BswM&#160;during&#160;EcuM_StartupTwo().&#160;<br/>The&#160;&#160;states&#160;&#160;of&#160;&#160;all&#160;&#160;wake-up&#160;&#160;sources&#160;&#160;are&#160;&#160;reported&#160;&#160;to&#160;&#160;the&#160;&#160;BswM&#160;&#160;in&#160;&#160;the&#160;&#160;case&#160;&#160;of&#160;&#160;a&#160;&#160;changing&#160;<br/>wake-up&#160;source.&#160;<br/>The&#160;usage&#160;of&#160;the&#160;BswM&#160;cannot&#160;be&#160;switched&#160;off.&#160;&#160;<br/>
<b>4.4.1.1&#160;</b><br/>
<b>BswM&#160;and EcuM&#160;fixed&#160;</b><br/>
The&#160;EcuM&#160;reports&#160;all&#160;state&#160;changes&#160;described&#160;in<a href="TechnicalReference_EcuMs.html#24">&#160;3.6.2.1&#160;</a>to&#160;the&#160;BswM.&#160;&#160;<br/>
<b>4.4.2&#160;</b><br/>
<b>AUTOSAR OS&#160;</b><br/>
The&#160;EcuM&#160;module&#160;depends&#160;on&#160;the&#160;AUTOSAR OS.&#160;It&#160;starts&#160;and&#160;performs&#160;the&#160;shutdown&#160;of&#160;<br/>the&#160;OS.&#160;&#160;<br/>The&#160;EcuM&#160;needs&#160;a&#160;valid&#160;reference&#160;within&#160;the&#160;EcuC&#160;file&#160;to&#160;a&#160;configured&#160;OS&#160;application&#160;<br/>mode.&#160;Additionally&#160;an&#160;OsResource&#160;must&#160;be&#160;configured&#160;to&#160;block&#160;other tasks during&#160;a&#160;sleep&#160;<br/>mode.&#160;<br/>The&#160;usage&#160;of&#160;the&#160;OS&#160;cannot&#160;be&#160;switched&#160;off.&#160;&#160;<br/>
<b>4.4.3&#160;</b><br/>
<b>MCU&#160;</b><br/>
The&#160;EcuM&#160;module&#160;depends&#160;on&#160;a&#160;MCU.&#160;The&#160;MCU&#160;mode&#160;settings&#160;are&#160;used&#160;to&#160;enter&#160;power&#160;<br/>saving&#160;&#160;modes&#160;&#160;in&#160;&#160;the&#160;&#160;phases&#160;&#160;ECUM_STATE_SLEEP&#160;&#160;and&#160;&#160;ECUM_STATE_OFF,&#160;&#160;it&#160;&#160;is&#160;&#160;also&#160;<br/>used&#160;&#160;to&#160;restore&#160;the&#160;normal&#160;&#160;MCU&#160;&#160;mode.&#160;Every&#160;&#160;sleep&#160;mode&#160;&#160;must&#160;have&#160;configured&#160;a&#160;MCU&#160;<br/>mode&#160;which&#160;will&#160;be&#160;entered&#160;in&#160;that&#160;sleep&#160;mode.&#160;<br/>After&#160;a&#160;reset,&#160;the&#160;MCU&#160;is called&#160;to&#160;get&#160;the&#160;reason&#160;for the&#160;current&#160;reset.&#160;&#160;<br/>The&#160;usage&#160;of&#160;the&#160;MCU&#160;cannot&#160;be&#160;switched&#160;off.&#160;<br/>
<b>4.4.4&#160;</b><br/>
<b>DEM&#160;</b><br/>
The&#160;EcuM&#160;depends&#160;on&#160;the&#160;DEM.&#160;The&#160;EcuM&#160;supports the&#160;pre-initialization&#160;of&#160;the&#160;DEM&#160;and&#160;<br/>if&#160;the&#160;production&#160;errors&#160;for&#160;the&#160;EcuM&#160;are&#160;configured&#160;as active,&#160;the&#160;EcuM&#160;reports&#160;some&#160;<br/>Errors to&#160;the&#160;DEM.&#160;Refer to&#160;chapte<a href="TechnicalReference_EcuMs.html#35">r&#160;3.11.2&#160;</a>for&#160;more information.&#160;<br/>The&#160;usage&#160;of&#160;the&#160;DEM&#160;can&#160;be&#160;switched&#160;off.&#160;<br/>
<b>4.4.5&#160;</b><br/>
<b>DET&#160;</b><br/>
The&#160;EcuM&#160;depends&#160;on&#160;the&#160;DET.&#160;The&#160;EcuM&#160;performs&#160;the&#160;initialization&#160;and&#160;reports&#160;<br/>development&#160;errors&#160;for&#160;diagnostic purposes.&#160;Refer to&#160;chapte<a href="TechnicalReference_EcuMs.html#33">r&#160;3.11.1&#160;</a>for&#160;more information.&#160;<br/>The&#160;usage&#160;of&#160;the&#160;DET&#160;can&#160;be&#160;switched&#160;off.&#160;<br/>
<b>4.4.6&#160;</b><br/>
<b>ComM&#160;</b><br/>
This&#160;module&#160;depends&#160;on&#160;the&#160;ComM.&#160;The&#160;EcuM&#160;manages&#160;the&#160;validation&#160;of&#160;communication&#160;<br/>channels.&#160;&#160;In&#160;&#160;the&#160;&#160;case&#160;&#160;of&#160;&#160;a&#160;&#160;validated&#160;&#160;wake-up&#160;&#160;event&#160;&#160;from&#160;&#160;a&#160;&#160;communication&#160;&#160;channel,&#160;&#160;the&#160;<br/>EcuM&#160;reports this&#160;event&#160;to&#160;the&#160;ComM.&#160;&#160;<br/>
<b>4.4.6.1&#160;</b><br/>
<b>ComM&#160;and EcuM&#160;fixed&#160;</b><br/>
In&#160;<br/>
the&#160;<br/>
transition&#160;<br/>
to&#160;<br/>
ECUM_STATE_APP_RUN,&#160;<br/>
the&#160;<br/>
EcuM&#160;<br/>
calls&#160;<br/>
ComM_CommunicationAllowed()&#160;for&#160;all&#160;configured&#160;communication&#160;channels.&#160;<br/>In&#160;&#160;ECUM_STATE_APP_RUN,&#160;&#160;the&#160;&#160;ComM&#160;&#160;API&#160;&#160;ComM_GetState()&#160;&#160;is&#160;&#160;called&#160;&#160;for&#160;&#160;every&#160;<br/>communication&#160;channel&#160;in&#160;EcuM_MainFunction.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
56&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=57></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-57_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
If&#160;&#160;ComM_GetState()&#160;&#160;returns&#160;&#160;COMM_NO_COM_NO_PENDING_REQUEST&#160;&#160;for&#160;&#160;all&#160;<br/>channels, the&#160;EcuM&#160;can&#160;leave&#160;the&#160;ECUM_STATE_APP_RUN.&#160;<br/>
<b>4.4.7&#160;</b><br/>
<b>SchM&#160;</b><br/>
The&#160;&#160;EcuM&#160;&#160;module&#160;&#160;depends&#160;&#160;on&#160;&#160;the&#160;&#160;SchM.&#160;&#160;The&#160;&#160;EcuM&#160;&#160;performs&#160;&#160;the&#160;&#160;initialization&#160;&#160;of&#160;&#160;the&#160;<br/>SchM&#160;during&#160;EcuM_StartupTwo().&#160;<br/>The&#160;usage&#160;of&#160;the&#160;SchM&#160;cannot&#160;be&#160;switched&#160;off.&#160;<br/>
<b>4.4.8&#160;</b><br/>
<b>Gpt&#160;</b><br/>
In&#160;&#160;the&#160;&#160;case&#160;&#160;that&#160;&#160;the&#160;Alarm&#160;&#160;Clock&#160;&#160;is&#160;&#160;enabled,&#160;&#160;the&#160;&#160;EcuM&#160;&#160;depends&#160;&#160;on&#160;&#160;the&#160;&#160;Gpt.&#160;&#160;The&#160;&#160;EcuM&#160;<br/>initialize&#160;the&#160;Gpt&#160;(has&#160;to&#160;be&#160;done&#160;in&#160;EcuM_AL_DriverInitOne)&#160;and&#160;starts&#160;the&#160;corresponding&#160;<br/>timer&#160;during&#160;EcuM_StartupTwo().&#160;On&#160;the&#160;way&#160;to&#160;sleep,&#160;the&#160;mode&#160;of&#160;the&#160;Gpt&#160;is&#160;switched&#160;to&#160;<br/>sleep&#160;and&#160;the&#160;normal&#160;mode&#160;is recovered&#160;after&#160;a&#160;wake-up&#160;from&#160;sleep.&#160;<br/>
<b>4.4.9&#160;</b><br/>
<b>NvM&#160;</b><br/>
The&#160;&#160;EcuM&#160;&#160;handles&#160;&#160;the&#160;&#160;call&#160;&#160;of&#160;&#160;NvM_WriteAll()&#160;&#160;and&#160;&#160;NvM_CancelWriteAll().&#160;&#160;Both&#160;&#160;calls&#160;&#160;are&#160;<br/>protected&#160;with&#160;a&#160;configurable&#160;timeout&#160;to&#160;guarantee&#160;a&#160;shutdown&#160;of&#160;the&#160;ECU&#160;even&#160;in&#160;case&#160;of&#160;<br/>a&#160;defect&#160;NvM.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Dependency&#160;to&#160;the&#160;NvM&#160;exists&#160;only&#160;in&#160;case&#160;of&#160;EcuM&#160;fixed.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
57&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=58></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5&#160;&#160;API&#160;Description&#160;</b><br/>
<b>5.1&#160;</b><br/>
<b>Type&#160;Definitions&#160;</b><br/>
The&#160;types&#160;defined&#160;by&#160;the&#160;EcuM&#160;are described&#160;in&#160;this chapter.&#160;<br/>
<b>Type&#160;Name&#160;</b><br/>
<b>C-Type&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Value&#160;Range&#160;</b><br/>
EcuM_StateType&#160;<br/>
uint8&#160;<br/>
Encodes&#160;all&#160;states&#160;and&#160;&#160;ECUM_SUBSTATE_MASK&#160;<br/>sub&#160;states&#160;provided&#160;by&#160;&#160;Get&#160;the&#160;current&#160;state&#160;by&#160;AND&#160;<br/>
the&#160;ECU&#160;State&#160;<br/>
gating&#160;the&#160;state with&#160;this&#160;mask.&#160;All&#160;<br/>
Manager.&#160;<br/>
states&#160;are delivered&#160;including&#160;<br/>substates.&#160;<br/>ECUM_STATE_STARTUP&#160;<br/>STARTUP&#160;super&#160;state&#160;<br/>ECUM_STATE_STARTUP_ONE&#160;<br/>Initialization&#160;of&#160;drivers&#160;which&#160;don’t&#160;<br/>need&#160;OS&#160;support.&#160;<br/>ECUM_STATE_STARTUP_TWO&#160;<br/>Initialization&#160;of&#160;drivers&#160;which&#160;need&#160;<br/>OS&#160;support.&#160;<br/>ECUM_STATE_WAKEUP&#160;<br/>WAKE-UP&#160;super&#160;state&#160;<br/>Not&#160;used&#160;in&#160;this&#160;EcuM&#160;flex&#160;<br/>Implementation!&#160;<br/>ECUM_STATE_WAKEUP_ONE&#160;<br/>Reinitializing&#160;of&#160;drivers&#160;for&#160;normal&#160;<br/>operation.&#160;<br/>ECUM_STATE_WAKEUP_VALIDATIO<br/>N&#160;<br/>Waits&#160;for&#160;validation&#160;of&#160;a&#160;wake-up&#160;<br/>event&#160;<br/>ECUM_STATE_WAKEUP_REACTION&#160;<br/>Computes&#160;the&#160;appropriate&#160;wake-up&#160;<br/>reaction&#160;<br/>Not&#160;used&#160;in&#160;this&#160;EcuM&#160;flex&#160;<br/>Implementation!&#160;<br/>ECUM_STATE_WAKEUP_TWO&#160;<br/>Prepares&#160;the&#160;ECU&#160;for&#160;RUN&#160;state&#160;<br/>Not&#160;used&#160;in&#160;this&#160;EcuM&#160;flex&#160;<br/>Implementation!&#160;<br/>ECUM_STATE_WAKEUP_WAKESLE<br/>EP&#160;<br/>A&#160;short&#160;system&#160;phase where the&#160;<br/>ECU&#160;transit&#160;from&#160;a&#160;wake-up&#160;directly&#160;<br/>to sleep again.&#160;<br/>Not&#160;used&#160;in&#160;this&#160;EcuM&#160;flex&#160;<br/>Implementation!&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
58&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=59></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>Type&#160;Name&#160;</b><br/>
<b>C-Type&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Value&#160;Range&#160;<br/></b>ECUM_STATE_WAKEUP_TTII&#160;<br/>Performs&#160;the&#160;TTII&#160;protocol&#160;<br/>Not&#160;used&#160;in&#160;this&#160;EcuM&#160;flex&#160;<br/>Implementation!&#160;<br/>ECUM_STATE_RUN&#160;<br/>Normal&#160;ECU&#160;operation&#160;super&#160;state&#160;<br/>ECUM_STATE_APP_RUN&#160;<br/>ECU&#160;is&#160;in normal&#160;operation&#160;state&#160;<br/>Not&#160;used&#160;in&#160;this&#160;EcuM&#160;flex&#160;<br/>Implementation!&#160;<br/>ECUM_STATE_APP_POST_RUN&#160;<br/>ECU&#160;performs&#160;POST&#160;RUN&#160;<br/>activities&#160;<br/>Not&#160;used&#160;in&#160;this&#160;EcuM&#160;flex&#160;<br/>Implementation!&#160;<br/>ECUM_STATE_SHUTDOWN&#160;<br/>Shutdown&#160;super&#160;state&#160;<br/>ECUM_STATE_PREP_SHUTDOWN&#160;<br/>Prepares&#160;the&#160;ECU&#160;for&#160;the&#160;following&#160;<br/>shutdown sequence.&#160;<br/>Not&#160;used&#160;in&#160;this&#160;EcuM&#160;flex&#160;<br/>Implementation!&#160;<br/>ECUM_STATE_GO_SLEEP&#160;<br/>Activation&#160;of&#160;the&#160;wake-up&#160;sources&#160;<br/>ECUM_STATE_GO_OFF_ONE&#160;<br/>Shutdown&#160;of&#160;system&#160;services&#160;<br/>ECUM_STATE_GO_OFF_TWO&#160;<br/>Performs&#160;a&#160;RESET&#160;or&#160;switches&#160;off&#160;<br/>the&#160;ECU&#160;<br/>ECUM_STATE_SLEEP&#160;<br/>ECU&#160;is&#160;in&#160;sleep&#160;state&#160;(this&#160;<br/>information&#160;cannot&#160;be&#160;retrieved)&#160;<br/>ECUM_STATE_OFF&#160;<br/>ECU&#160;is&#160;without&#160;power&#160;supply&#160;(this&#160;<br/>information&#160;cannot&#160;be&#160;retrieved)&#160;<br/>
EcuM_WakeupSource&#160;uint32&#160;<br/>
Each&#160;bit&#160;in this&#160;type&#160;<br/>
ECUM_WKSOURCE_POWER&#160;&#160;<br/>
Type&#160;<br/>
identifies&#160;a&#160;wake-up&#160;<br/>
Identifies&#160;a power&#160;on&#160;reset&#160;(bit&#160;0)&#160;<br/>
source.&#160;<br/>
ECUM_WKSOURCE_RESET&#160;<br/>Identifies&#160;a hardware reset&#160;(bit&#160;1)&#160;<br/>ECUM_WKSOURCE_INTERNAL_RE<br/>SET&#160;&#160;<br/>Identifies&#160;resets&#160;which only&#160;reset&#160;<br/>the&#160;core of&#160;the&#160;microcontroller&#160;but&#160;<br/>not&#160;the&#160;peripherals.&#160;This&#160;source&#160;<br/>also&#160;indicates&#160;unhandled&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
59&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=60></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>Type&#160;Name&#160;</b><br/>
<b>C-Type&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Value&#160;Range&#160;<br/></b>exceptions&#160;(bit&#160;2)&#160;<br/>ECUM_WKSOURCE_INTERNAL_WD<br/>G&#160;&#160;<br/>Identifies&#160;a reset&#160;by&#160;internal&#160;<br/>watchdog&#160;(bit&#160;3)&#160;<br/>ECUM_WKSOURCE_EXTERNAL_W<br/>DG&#160;&#160;<br/>Identifies&#160;a reset&#160;by&#160;external&#160;<br/>watchdog&#160;(bit&#160;4).&#160;(This&#160;is&#160;only&#160;<br/>possible&#160;if&#160;the&#160;hardware&#160;supports&#160;<br/>this&#160;feature)&#160;<br/>ECUM_WKSOURCE_ALL_SOURCES&#160;&#160;<br/>Identifies&#160;each&#160;wake-up&#160;source&#160;<br/>ECUM_WKSOURCE_NONE&#160;&#160;<br/>Value&#160;0.&#160;This&#160;is&#160;a&#160;MICROSAR&#160;<br/>ECUM&#160;extension&#160;and&#160;identifies&#160;an&#160;<br/>invalid&#160;wake-up&#160;source.&#160;<br/>ECUM_WKSOURCE_&lt;NAME&gt;&#160;&#160;<br/>Can&#160;be&#160;extended by&#160;configuration&#160;<br/>
EcuM_UserType&#160;<br/>
uint8&#160;<br/>
ID&#160;of&#160;the&#160;Users&#160;which&#160;<br/>
0..255&#160;<br/>
are able&#160;to&#160;request&#160;<br/>
The&#160;Range&#160;depends&#160;on&#160;the&#160;<br/>
RUN&#160;state.&#160;Each&#160;user&#160;<br/>
number&#160;of&#160;configured&#160;users&#160;<br/>
must&#160;have&#160;a&#160;unique&#160;ID.&#160;<br/>
EcuM_WakeupStateTy&#160;uint8&#160;<br/>
The&#160;type&#160;describes&#160;<br/>
ECUM_WKSTATUS_NONE&#160;&#160;<br/>
pe&#160;<br/>
possible results&#160;of&#160;the&#160;<br/>
The&#160;wake-up&#160;source&#160;is&#160;Disabled&#160;<br/>
WAKE-UP&#160;<br/>
ECUM_WKSTATUS_PENDING&#160;&#160;<br/>
VALIDATION&#160;state.&#160;<br/>
The&#160;wake-up&#160;event&#160;was&#160;detected&#160;<br/>but&#160;not&#160;yet&#160;validated&#160;<br/>ECUM_WKSTATUS_VALIDATED&#160;&#160;<br/>The&#160;wake-up&#160;event&#160;is&#160;valid&#160;<br/>ECUM_WKSTATUS_EXPIRED&#160;&#160;<br/>The&#160;wake-up&#160;event&#160;has&#160;not&#160;been&#160;<br/>validated&#160;and&#160;has&#160;already&#160;expired.&#160;<br/>ECUM_WKSTATUS_ENABLED&#160;&#160;<br/>The&#160;wake-up&#160;source&#160;is&#160;enabled&#160;<br/>(armed)&#160;and&#160;is&#160;ready&#160;for&#160;detecting&#160;<br/>wake-up&#160;events.&#160;<br/>ECUM_WKSTATUS_CHECKWAKEUP&#160;<br/>Asynchronous&#160;wake-up&#160;event&#160;is&#160;<br/>detected&#160;but&#160;SetWakeupEvent&#160;has&#160;<br/>not&#160;been&#160;called&#160;yet.&#160;<br/>
EcuM_BootTargetType&#160;&#160;uint8&#160;<br/>
Defines&#160;the&#160;boot&#160;target&#160;&#160;ECUM_BOOT_TARGET_APP&#160;&#160;<br/>which should&#160;be&#160;<br/>
Boot&#160;into&#160;application&#160;mode&#160;<br/>
chosen&#160;in&#160;the&#160;next&#160;start&#160;&#160;ECUM_BOOT_TARGET_BOOTLOAD<br/>
up.&#160;<br/>
ER&#160;&#160;<br/>Boot&#160;into&#160;boot&#160;loader&#160;mode&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
60&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=61></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>Type&#160;Name&#160;</b><br/>
<b>C-Type&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Value&#160;Range&#160;</b><br/>
EcuM_ResetType&#160;<br/>
uint8&#160;<br/>
This&#160;type&#160;describes&#160;<br/>
ECUM_RESET_MCU&#160;<br/>
the&#160;reset&#160;<br/>
Microcontroller&#160;reset&#160;via&#160;<br/>
mechanisms&#160;<br/>
Mcu_PerformReset&#160;<br/>
supported&#160;by&#160;the&#160;<br/>
ECUM_RESET_WDG&#160;<br/>
ECU&#160;State&#160;Manager.&#160;&#160;&#160;Watchdog&#160;reset&#160;via&#160;<br/>&#160;<br/>
WdgM_PerformReset&#160;<br/>
It&#160;can&#160;be&#160;extended&#160;by&#160;&#160;ECUM_RESET_IO&#160;<br/>configuration.&#160;<br/>
Reset&#160;by&#160;toggling&#160;an&#160;I/O&#160;line&#160;<br/>ECUM_RESET_WAKEUP&#160;<br/>Reset&#160;in&#160;the&#160;case&#160;of&#160;a&#160;wake-up&#160;<br/>event&#160;during&#160;shutdown&#160;<br/>ECUM_RESET_&lt;NAME&gt;&#160;<br/>Can&#160;be&#160;extended by&#160;configuration.&#160;<br/>
EcuM_ShutdownCau&#160;uint8&#160;<br/>
This&#160;type&#160;describes&#160;<br/>
ECUM_CAUSE_UNKNOWN&#160;<br/>
seType&#160;<br/>
the&#160;cause&#160;for a&#160;<br/>
No&#160;cause was set.&#160;<br/>
shutdown&#160;<br/>
ECUM_CAUSE_ECU_STATE&#160;<br/>
by&#160;the&#160;ECU&#160;State&#160;<br/>
ECU&#160;state&#160;machine&#160;entered&#160;a&#160;<br/>
Manager.&#160;&#160;<br/>
state&#160;for&#160;shutdown&#160;<br/>
&#160;<br/>
ECUM_CAUSE_WDGM&#160;<br/>
It&#160;can&#160;be&#160;extended&#160;by&#160;&#160;Watchdog&#160;Manager&#160;detected&#160;a&#160;<br/>
configuration.&#160;<br/>
failure&#160;<br/>ECUM_CAUSE_DCM&#160;<br/>Diagnostic&#160;Communication&#160;<br/>Manager&#160;requests&#160;a&#160;&#160;<br/>shutdown due to&#160;a&#160;service request&#160;<br/>ECUM_CAUSE_&lt;NAME&gt;&#160;<br/>Can&#160;be&#160;extended by&#160;configuration.&#160;<br/>
Table&#160;5-1&#160;&#160;&#160;Type&#160;definitions&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
61&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=62></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2&#160;</b><br/>
<b>Services&#160;Provided by&#160;EcuM&#160;</b><br/>
<b>5.2.1&#160;</b><br/>
<b>EcuM_MainFunction&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_MainFunction&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;service&#160;which&#160;implements&#160;all&#160;activities&#160;of&#160;the&#160;ECU&#160;state&#160;Manager&#160;while&#160;OS&#160;is&#160;up and&#160;running.&#160;In&#160;the&#160;<br/>MainFunction&#160;the&#160;wake-up&#160;validation&#160;is&#160;handled.&#160;This&#160;service must&#160;be&#160;called on&#160;a&#160;periodic&#160;basis&#160;from an&#160;<br/>adequate&#160;OS&#160;task.&#160;<br/>
<b>&#160;&#160;</b>The&#160;service also&#160;carries&#160;out&#160;the&#160;wake-up&#160;validation&#160;protocol.&#160;The&#160;smallest validation timeout&#160;<br/>
typically&#160;should limit&#160;the&#160;period.&#160;<br/>
<b>&#160;&#160;</b>As&#160;a rule&#160;of thumb,&#160;the&#160;period&#160;of&#160;this&#160;service should&#160;be&#160;in the&#160;order&#160;of&#160;half&#160;as&#160;long&#160;as&#160;the&#160;shortest&#160;<br/>
time&#160;constant mentioned&#160;in&#160;the topics&#160;above&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/><b>&#160;&#160;</b>Called&#160;by&#160;SchM&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from task&#160;level&#160;<br/>
Table&#160;5-2&#160;&#160;&#160;EcuM_MainFunction&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
62&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=63></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-63_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.2&#160;</b><br/>
<b>EcuM_Init&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_Init&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;Init function&#160;is&#160;called&#160;to&#160;initiate&#160;the&#160;startup&#160;procedure that&#160;takes&#160;place before&#160;the&#160;OS&#160;is&#160;started.&#160;<br/>Additionally&#160;in&#160;this&#160;API all&#160;EcuM&#160;variables&#160;that&#160;need&#160;initialization&#160;are&#160;initialized.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>After&#160;EcuM_Init()&#160;the&#160;EcuM&#160;is&#160;not&#160;in&#160;the&#160;running&#160;state,&#160;to&#160;achieve&#160;this&#160;state&#160;<br/>
<b>&#160;&#160;</b>EcuM_StartupTwo()&#160;has&#160;to be&#160;called.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e&#160;'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/><b>&#160;&#160;</b>called by&#160;start-up&#160;code&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-3&#160;&#160;&#160;EcuM_Init&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
63&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=64></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-64_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.3&#160;</b><br/>
<b>EcuM_StartupTwo&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_StartupTwo&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;function&#160;implements&#160;the&#160;startup&#160;phase&#160;where&#160;the&#160;OS&#160;is&#160;already&#160;running. EcuM_AL_DriverInitTwo()&#160;is&#160;<br/>called&#160;within this&#160;function.&#160;This&#160;function should&#160;be&#160;scheduled&#160;by&#160;a&#160;task&#160;directly&#160;after&#160;StartOS()&#160;and&#160;only&#160;be&#160;<br/>called once.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The&#160;integrator&#160;has&#160;to&#160;ensure&#160;that&#160;the&#160;EcuM_StartupTwo&#160;is&#160;not&#160;interrupted&#160;by&#160;any&#160;other&#160;<br/>
<b>&#160;&#160;</b>function&#160;or&#160;task.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-4&#160;&#160;&#160;EcuM_StartupTwo&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
64&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=65></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-65_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.4&#160;</b><br/>
<b>EcuM_Shutdown&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_Shutdown&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;performs&#160;a&#160;reset&#160;or&#160;switches&#160;off the&#160;ECU (depending&#160;on&#160;which&#160;shutdown target&#160;is&#160;currently&#160;<br/>chosen).&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>This&#160;function&#160;shall&#160;be&#160;called&#160;inside&#160;the&#160;OS&#160;ShutdownHook()&#160;routine.&#160;The&#160;integrator&#160;is&#160;<br/>
&#160;&#160;responsible&#160;to&#160;perform&#160;this&#160;task.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function should&#160;be&#160;called&#160;from&#160;the&#160;ShutdownHook&#160;of&#160;the&#160;Os.&#160;<br/>
Table&#160;5-5&#160;&#160;&#160;EcuM_Shutdown&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
65&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=66></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.5&#160;</b><br/>
<b>EcuM_SelectShutdownTarget&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_SelectShutdownTarget&#160;&#160;</b><br/>
(EcuM_StateType&#160;targetState,&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/>
uint8&#160;resetSleepMode)&#160;<br/>
<b>Parameter&#160;</b><br/>
targetState&#160;<br/>
One&#160;of&#160;these&#160;values:&#160;<br/>
<b>&#160;&#160;</b>ECUM_STATE_OFF&#160;<br/><b>&#160;&#160;</b>ECUM_STATE_SLEEP&#160;<br/><b>&#160;&#160;</b>ECUM_STATE_RESET&#160;<br/>
resetSleepMode&#160;<br/>
Depending&#160;on&#160;the&#160;parameter targetState&#160;this&#160;represents&#160;a&#160;sleep&#160;mode&#160;or&#160;a&#160;<br/>reset&#160;mode.&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
success&#160;<br/>
E_NOT_OK&#160;<br/>
error&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service&#160;selects&#160;a shutdown&#160;target&#160;in&#160;which the&#160;shutdown&#160;sequence&#160;should&#160;change&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;The&#160;EcuM must be in RUN&#160;state.&#160;<br/><b>&#160;&#160;</b>The&#160;ECU&#160;State&#160;Manager&#160;does&#160;not&#160;define any&#160;mechanism to&#160;resolve issues&#160;arising from&#160;parallel&#160;<br/>
requests. It&#160;is&#160;rather assumed&#160;that&#160;there&#160;will&#160;be one application&#160;which is&#160;ECU&#160;specific&#160;and&#160;handles&#160;<br/>these&#160;kinds&#160;of&#160;issues.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-6&#160;&#160;&#160;EcuM_SelectShutdownTarget&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
66&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=67></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.6&#160;</b><br/>
<b>EcuM_GetShutdownTarget&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_GetShutdownTarget&#160;&#160;</b>(EcuM_StateType&#160;*target,&#160;&#160;<br/>&#160;<br/>
uint8&#160;*resetSleepMode)&#160;<br/>
<b>Parameter&#160;</b><br/>
target&#160;<br/>
One&#160;of&#160;these&#160;values:&#160;<br/>
<b>&#160;&#160;</b>ECUM_STATE_OFF&#160;<br/><b>&#160;&#160;</b>ECUM_STATE_SLEEP&#160;<br/><b>&#160;&#160;</b>ECUM_STATE_RESET&#160;<br/>
resetSleepMode&#160;<br/>
Depending&#160;on&#160;the&#160;parameter target this&#160;represents&#160;a sleep&#160;mode&#160;or&#160;a&#160;reset&#160;<br/>mode.&#160;If&#160;the&#160;target is&#160;ECUM_STATE_OFF&#160;this&#160;parameter&#160;is&#160;0.&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
success&#160;<br/>
E_NOT_OK&#160;<br/>
error&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Returns&#160;the&#160;actual&#160;chosen&#160;shutdown&#160;target.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-7&#160;&#160;&#160;EcuM_GetShutdownTarget&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
67&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=68></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.7&#160;</b><br/>
<b>EcuM_GetLastShutdownTarget&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_GetLastShutdownTarget&#160;</b><br/>
(EcuM_StateType&#160;*target,&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/>
&#160;<br/>
uint8&#160;*resetSleepMode)&#160;<br/>
<b>Parameter&#160;</b><br/>
target&#160;<br/>
One&#160;of&#160;these&#160;values:&#160;<br/>
<b>&#160;&#160;</b>ECUM_STATE_OFF&#160;<br/><b>&#160;&#160;</b>ECUM_STATE_SLEEP&#160;<br/><b>&#160;&#160;</b>ECUM_STATE_RESET&#160;<br/>
resetSleepMode&#160;<br/>
Depending&#160;on&#160;the&#160;parameter target this&#160;represents&#160;a sleep&#160;mode&#160;or&#160;a&#160;reset&#160;<br/>mode.&#160;If&#160;the&#160;target is&#160;ECUM_STATE_OFF&#160;this&#160;parameter&#160;is&#160;0.&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
success&#160;<br/>
E_NOT_OK&#160;<br/>
error&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;returns&#160;not&#160;the&#160;current&#160;shutdown&#160;target&#160;but&#160;the&#160;shutdown&#160;target&#160;set&#160;before&#160;the&#160;last reset.&#160;This&#160;<br/>function&#160;always&#160;shall&#160;return&#160;the&#160;same&#160;value&#160;until&#160;the&#160;next shutdown.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-8&#160;&#160;&#160;EcuM_GetLastShutdownTarget&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
68&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=69></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.8&#160;</b><br/>
<b>EcuM_GetPendingWakeupEvents&#160;</b><br/>
<b>Prototype&#160;<br/></b>EcuM_WakeupSourceType&#160;<b>EcuM_GetPendingWakeupEvents&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
EcuM_WakeupSourceTyp<br/>
Every&#160;bit&#160;set&#160;in the return&#160;value indicates&#160;a&#160;wake-up&#160;source&#160;where&#160;the&#160;<br/>
e&#160;<br/>
validation&#160;is&#160;in&#160;progress.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Returns&#160;wake-up&#160;events&#160;which&#160;have&#160;been&#160;set&#160;but&#160;not&#160;yet&#160;validated.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-9&#160;&#160;&#160;EcuM_GetPendingWakeupEvents&#160;<br/>
<b>5.2.9&#160;</b><br/>
<b>EcuM_ClearWakeupEvent&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_ClearWakeupEvent&#160;</b>(EcuM_WakeupSourceType&#160;WakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
WakeupSource&#160;<br/>
Wake-up&#160;event(s)&#160;which&#160;should be cleared&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Clears&#160;the&#160;pending, validated&#160;and expired&#160;wake-up&#160;events&#160;which are&#160;passed&#160;by&#160;the&#160;parameter.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-10&#160;&#160;&#160;EcuM_ClearWakeupEvent&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
69&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=70></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.10&#160;&#160;EcuM_ClearValidatedWakeupEvent&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_ClearValidatedWakeupEvent&#160;</b>(EcuM_WakeupSourceType&#160;WakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
WakeupSource&#160;<br/>
Wake-up&#160;event(s)&#160;which&#160;should be cleared&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Clears&#160;only&#160;the&#160;validated&#160;wake-up&#160;events&#160;which&#160;are&#160;passed&#160;by&#160;the&#160;parameter.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-11&#160;&#160;&#160;EcuM_ClearValidatedWakeupEvent&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
70&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=71></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-71_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.11&#160;&#160;EcuM_GetValidatedWakeupEvents&#160;</b><br/>
<b>Prototype&#160;<br/></b>EcuM_WakeupSourceType&#160;<b>EcuM_GetValidatedWakeupEvents&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
EcuM_WakeupSourceType&#160;&#160;ID&#160;of&#160;the&#160;wake-up&#160;source&#160;which&#160;was&#160;responsible for the&#160;wake-up&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;returns&#160;wake-up&#160;event&#160;which causes&#160;the&#160;wake-up&#160;of&#160;the&#160;ECU&#160;from the&#160;previous&#160;sleep&#160;mode.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The&#160;validated&#160;Wake-up&#160;Events&#160;must&#160;be&#160;cleared&#160;before the&#160;EcuM&#160;is&#160;set&#160;to&#160;sleep.&#160;The&#160;<br/>
<b>&#160;&#160;</b>EcuM&#160;does&#160;not&#160;clear&#160;those events&#160;by&#160;itself.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-12&#160;&#160;&#160;EcuM_GetValidatedWakeupEvents&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
71&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=72></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.12&#160;&#160;EcuM_GetExpiredWakeupEvents&#160;</b><br/>
<b>Prototype&#160;<br/></b>EcuM_WakeupSourceType&#160;<b>EcuM_GetExpiredWakeupEvents&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
EcuM_WakeupSourceType&#160;&#160;ID's&#160;of&#160;wake-up&#160;sources&#160;which are&#160;expired in&#160;the validation&#160;process.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Returns&#160;all&#160;events&#160;that&#160;have been&#160;set&#160;and&#160;for&#160;which validation&#160;has&#160;failed.&#160;Events&#160;which do&#160;not&#160;need&#160;<br/>validation&#160;must&#160;never&#160;be reported&#160;by&#160;this&#160;service.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-13&#160;&#160;&#160;EcuM_GetExpiredWakeupEvents&#160;<br/>
<b>5.2.13&#160;&#160;EcuM_GetBootTarget&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_GetBootTarget&#160;</b>(EcuM_BootTargetType&#160;*BootTarget)&#160;<br/>
<b>Parameter&#160;</b><br/>
BootTarget&#160;<br/>
The&#160;current&#160;selected&#160;BootTarget&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
success&#160;<br/>
E_NOT_OK&#160;<br/>
error&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Returns&#160;the&#160;current&#160;selected&#160;boot&#160;target&#160;of&#160;the ECU.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-14&#160;&#160;&#160;EcuM_GetBootTarget&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
72&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=73></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.14&#160;&#160;EcuM_SelectBootTarget&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_SelectBootTarget&#160;</b>(EcuM_BootTargetType&#160;BootTarget)&#160;<br/>
<b>Parameter&#160;</b><br/>
BootTarget&#160;<br/>
The&#160;selected&#160;BootTarget&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
success&#160;<br/>
E_NOT_OK&#160;<br/>
error&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Sets&#160;the&#160;boot target&#160;for the&#160;next&#160;boot.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-15&#160;&#160;&#160;EcuM_SelectBootTarget&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
73&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=74></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-74_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.15&#160;&#160;EcuM_StartCheckWakeup&#160;&#160;&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_StartCheckWakeup&#160;</b>(EcuM_WakeupSourceType&#160;WakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
WakeupSource&#160;<br/>
ID of&#160;the&#160;asynchronous&#160;wake-up&#160;source&#160;&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;starts&#160;the&#160;check&#160;wakeup timeout&#160;mechanism&#160;and marks&#160;that&#160;the&#160;wakeup&#160;source&#160;has&#160;an&#160;<br/>unapproved&#160;CheckWakeup&#160;call&#160;if&#160;applicable&#160;on&#160;given&#160;wakeup&#160;source (check&#160;wakeup timeout &gt;&#160;0).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>This&#160;service&#160;shall&#160;only&#160;be called&#160;by&#160;EcuM_CheckWakeup().&#160;The&#160;call&#160;is&#160;generated&#160;<br/>
<b>&#160;&#160;</b>automatically&#160;if&#160;at&#160;least&#160;one&#160;wake-up&#160;source has&#160;a&#160;configured&#160;check&#160;wakeup&#160;timeout.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;service&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;service&#160;is&#160;reentrant&#160;for&#160;the&#160;same&#160;WakeupSource.&#160;<br/><b>&#160;&#160;</b>This&#160;service&#160;is&#160;always&#160;available.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;in&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-16&#160;&#160;&#160;EcuM_StartCheckWakeup&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
74&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=75></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.16&#160;&#160;EcuM_EndCheckWakeup&#160;&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_EndCheckWakeup&#160;</b>(EcuM_WakeupSourceType&#160;WakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
WakeupSource&#160;<br/>
ID of&#160;the&#160;asynchronous&#160;wake-up&#160;source&#160;&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;stops&#160;the&#160;check&#160;wakeup timeout&#160;mechanism and removes&#160;the&#160;wakeup&#160;source&#160;from the&#160;list of&#160;<br/>unapproved&#160;CheckWakeup&#160;calls.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;service&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;service&#160;is&#160;reentrant&#160;for&#160;the&#160;same&#160;WakeupSource.&#160;<br/><b>&#160;&#160;</b>This&#160;service&#160;is&#160;always&#160;available.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;in&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-17&#160;&#160;&#160;EcuM_EndCheckWakeup&#160;<br/>
<b>5.2.17&#160;&#160;EcuM_GetVersionInfo&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_GetVersionInfo&#160;</b>(Std_VersionInfoType&#160;*versioninfo)&#160;<br/>
<b>Parameter&#160;</b><br/>
versioninfo&#160;<br/>
pointer to&#160;store&#160;the&#160;version&#160;information&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Returns&#160;the&#160;version information&#160;of&#160;the&#160;ECU&#160;State&#160;Manager.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/><b>&#160;&#160;</b>The&#160;availability&#160;of&#160;this&#160;service&#160;depends&#160;on&#160;ECUM_VERSION_INFO_API.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from task&#160;level&#160;<br/>
Table&#160;5-18&#160;&#160;&#160;EcuM_GetVersionInfo&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
75&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=76></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-76_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.18&#160;&#160;EcuM_RequestRUN&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_RequestRUN&#160;(EcuM_UserType&#160;user)&#160;</b><br/>
<b>Parameter&#160;</b><br/>
user&#160;<br/>
User ID&#160;which&#160;requests&#160;the&#160;RUN&#160;state&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
Request&#160;accepted&#160;&#160;<br/>
E_NOT_OK&#160;<br/>
Request&#160;not&#160;accepted&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Places&#160;a RUN&#160;request&#160;for this&#160;user,&#160;Users&#160;represents&#160;normally&#160;an&#160;application.&#160;The tracking&#160;of&#160;the&#160;requests&#160;<br/>are&#160;specific&#160;for&#160;each&#160;user.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>RUN&#160;request&#160;will&#160;be&#160;ignored&#160;after&#160;an&#160;API&#160;call&#160;to&#160;EcuM_KillAllRUNRequest().&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from&#160;application&#160;context.&#160;<br/>
Table&#160;5-19&#160;&#160;&#160;EcuM_RequestRUN&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
76&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=77></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.19&#160;&#160;EcuM_ReleaseRUN&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_ReleaseRUN&#160;(EcuM_UserType&#160;user)&#160;</b><br/>
<b>Parameter&#160;</b><br/>
user&#160;<br/>
User ID&#160;which&#160;requests&#160;the&#160;RUN&#160;state&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
Request&#160;accepted&#160;&#160;<br/>
E_NOT_OK&#160;<br/>
Request&#160;not&#160;accepted&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Releases&#160;the&#160;RUN&#160;request&#160;previously&#160;done&#160;with&#160;a&#160;call&#160;to EcuM_RequestRUN().&#160;<br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from&#160;application&#160;context.&#160;<br/>
Table&#160;5-20&#160;&#160;&#160;EcuM_ReleaseRUN&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
77&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=78></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-78_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.20&#160;&#160;EcuM_RequestPOST_RUN&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_RequestPOST_RUN&#160;(EcuM_UserType&#160;user)&#160;</b><br/>
<b>Parameter&#160;</b><br/>
user&#160;<br/>
User ID&#160;which&#160;requests&#160;the&#160;RUN&#160;state&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
Request&#160;accepted&#160;&#160;<br/>
E_NOT_OK&#160;<br/>
Request&#160;not&#160;accepted&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Places&#160;a POST_RUN request&#160;for this&#160;user,&#160;Users&#160;represents&#160;normally&#160;an&#160;application.&#160;The&#160;tracking of&#160;the&#160;<br/>requests&#160;are&#160;specific&#160;for each&#160;user.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>POST_RUN&#160;request&#160;will&#160;be&#160;ignored&#160;after&#160;an&#160;API&#160;call&#160;to&#160;<br/>
&#160;&#160;EcuM_KillAllPostRUNRequest().&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from&#160;application&#160;context.&#160;<br/>
Table&#160;5-21&#160;&#160;&#160;EcuM_RequestPOST_RUN&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
78&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=79></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.2.21&#160;&#160;EcuM_ReleasePOST_RUN&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_ReleasePOST_RUN&#160;(EcuM_UserType&#160;user)&#160;</b><br/>
<b>Parameter&#160;</b><br/>
user&#160;<br/>
User ID&#160;which&#160;requests&#160;the&#160;RUN&#160;state&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
Request&#160;accepted&#160;&#160;<br/>
E_NOT_OK&#160;<br/>
Request&#160;not&#160;accepted&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Releases&#160;the&#160;POST_RUN&#160;request&#160;previously&#160;done&#160;with a&#160;call&#160;to EcuM_RequestPOST_RUN().&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from&#160;application&#160;context.&#160;<br/>
Table&#160;5-22&#160;&#160;&#160;EcuM_ReleasePOST_RUN&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
79&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=80></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3&#160;</b><br/>
<b>Services&#160;Provided by&#160;EcuM&#160;flex&#160;</b><br/>
In&#160;the&#160;following&#160;the&#160;services&#160;are described&#160;which&#160;are only&#160;relevant&#160;for&#160;EcuM&#160;flex:&#160;<br/>
<b>5.3.1&#160;</b><br/>
<b>EcuM_SelectShutdownCause&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_SelectShutdownCause&#160;&#160;</b><br/>
(EcuM_ShutdownCauseType&#160;&#160;&#160;&#160;&#160;&#160;<br/>
&#160;<br/>
shutdownCause)&#160;<br/>
<b>Parameter&#160;</b><br/>
shutdownCause&#160;<br/>
current&#160;shutdown&#160;cause&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
success&#160;<br/>
E_NOT_OK&#160;<br/>
error&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Selects&#160;a new&#160;Shutdown&#160;cause for&#160;an&#160;intended&#160;shutdown.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-23&#160;&#160;&#160;EcuM_SelectShutdownCause&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
80&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=81></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3.2&#160;</b><br/>
<b>EcuM_GetShutdownCause&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_GetShutdownCause&#160;&#160;</b><br/>
(EcuM_ShutdownCauseType&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/>
&#160;<br/>
*shutdownCause)&#160;<br/>
<b>Parameter&#160;</b><br/>
shutdownCause&#160;<br/>
current&#160;shutdown&#160;cause&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
success&#160;<br/>
E_NOT_OK&#160;<br/>
error&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Get&#160;the&#160;currently&#160;set&#160;shutdown&#160;cause.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-24&#160;&#160;&#160;EcuM_GetShutdownCause&#160;<br/>
<b>5.3.3&#160;</b><br/>
<b>EcuM_GoHalt&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_GoHalt&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
success&#160;<br/>
E_NOT_OK&#160;<br/>
error&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;API&#160;is&#160;called in some&#160;modes&#160;for saving&#160;power.&#160;In&#160;this&#160;mode&#160;no&#160;more&#160;code&#160;is&#160;executed&#160;after&#160;entering&#160;<br/>that&#160;state.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/><b>&#160;&#160;</b>The&#160;selected&#160;shutdown target&#160;must set&#160;to&#160;ECUM_STATE_SLEEP&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-25&#160;&#160;&#160;EcuM_GoHalt&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
81&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=82></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3.4&#160;</b><br/>
<b>EcuM_GoPoll&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_GoPoll&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
success&#160;<br/>
E_NOT_OK&#160;<br/>
error&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;API&#160;is&#160;called in some&#160;modes&#160;for saving&#160;power.&#160;In&#160;this&#160;mode&#160;code&#160;is&#160;executed, so the EcuM poll&#160;for&#160;<br/>wake-up&#160;events.&#160;Only&#160;those&#160;Wake-up&#160;Sources&#160;with&#160;configured&#160;parameter&#160;EcuMWakeupSourcePolling&#160;are&#160;<br/>polled&#160;during&#160;that&#160;sleep mode.&#160;Other active&#160;sources&#160;can set&#160;wake-up&#160;events&#160;via&#160;interrupts.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/><b>&#160;&#160;</b>The&#160;selected&#160;shutdown target&#160;must set&#160;to&#160;ECUM_STATE_SLEEP&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-26&#160;&#160;&#160;EcuM_GoPoll&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
82&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=83></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3.5&#160;</b><br/>
<b>EcuM_GoDown&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_GoDown&#160;</b>(uint16&#160;caller)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;routine&#160;is&#160;called to&#160;initiate&#160;a&#160;shutdown&#160;or a reset.&#160;The&#160;routine&#160;checks&#160;if&#160;the&#160;caller&#160;is&#160;one&#160;of the&#160;allowed&#160;<br/>callers&#160;(if&#160;defensive&#160;behavior&#160;is&#160;configured) and&#160;then&#160;the&#160;EcuM&#160;calls&#160;ShutdownOS()&#160;and thereafter&#160;the&#160;API&#160;<br/>EcuM_Shutdown()&#160;is&#160;called&#160;by&#160;the&#160;shutdown&#160;hook.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/><b>&#160;&#160;</b>The&#160;selected&#160;shutdown target&#160;must set&#160;to&#160;ECUM_STATE_OFF&#160;or ECUM_STATE_RESET&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-27&#160;&#160;&#160;EcuM_GoDown&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
83&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=84></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3.6&#160;</b><br/>
<b>EcuM_GoToSelectedShutdownTarget&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_GoToSelectedShutdownTarget</b>(void)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
&#160;<br/>
E_NOT_OK&#160;<br/>
&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;API&#160;can&#160;be&#160;called&#160;e.g.&#160;from&#160;the&#160;BswM&#160;without&#160;knowledge&#160;about&#160;the&#160;currently&#160;<br/>configured&#160;shutdown&#160;target.&#160;The&#160;EcuM&#160;decides&#160;if&#160;EcuM_GoHalt(), EcuM_GoPoll()&#160;or&#160;<br/>EcuM_GoDown()&#160;has&#160;to&#160;be&#160;called.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-28&#160;&#160;&#160;EcuM_GoToSelectedShutdownTarget&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
84&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=85></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-85_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-85_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3.7&#160;</b><br/>
<b>EcuM_SetRelWakeupAlarm&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_SetRelWakeupAlarm&#160;</b>(EcuM_UserType&#160;user,&#160;uint32&#160;time)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
user&#160;<br/>
The&#160;user that&#160;wants&#160;to set&#160;up&#160;the&#160;wake&#160;up&#160;alarm&#160;<br/>
time&#160;<br/>
Relative time&#160;for&#160;the&#160;wake-up&#160;alarm&#160;in&#160;seconds&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
Alarm&#160;was&#160;successfully&#160;started&#160;<br/>
E_NOT_OK&#160;<br/>
No&#160;Alarm&#160;was&#160;started&#160;because&#160;of&#160;an&#160;invalid&#160;user parameter&#160;<br/>
E_EARLIER_ACTIVE&#160;<br/>
An earlier&#160;alarm&#160;was&#160;already&#160;started&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;API&#160;can&#160;be used to set&#160;a&#160;relative&#160;wake&#160;up&#160;alarm&#160;during&#160;runtime&#160;of&#160;the&#160;ECU. For further&#160;information&#160;<br/>about&#160;this&#160;see&#160;chapter<a href="TechnicalReference_EcuMs.html#40">&#160;3.14.</a>&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>All&#160;wake&#160;up&#160;alarms&#160;are&#160;cleared&#160;if&#160;the&#160;ECU&#160;wakes&#160;up&#160;from&#160;a&#160;sleep&#160;phase,&#160;even&#160;if&#160;the&#160;<br/>
<b>&#160;&#160;</b>reason&#160;for&#160;this&#160;wake up&#160;was not&#160;time&#160;triggered.&#160;The&#160;wake up&#160;alarms&#160;must&#160;be&#160;rearmed&#160;<br/>
before the&#160;next&#160;sleep&#160;phase&#160;is&#160;entered.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>Each&#160;user&#160;can&#160;only&#160;set&#160;one&#160;wake-up&#160;alarm.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from task&#160;level&#160;<br/>
Table&#160;5-29&#160;&#160;&#160;EcuM_SetRelWakeupAlarm&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
85&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=86></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-86_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-86_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3.8&#160;</b><br/>
<b>EcuM_SetAbsWakeupAlarm&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_SetAbsWakeupAlarm&#160;</b>(EcuM_UserType&#160;user,&#160;uint32&#160;time)&#160;<br/>
<b>Parameter&#160;</b><br/>
user&#160;<br/>
The&#160;user that&#160;wants&#160;to set&#160;up&#160;the&#160;wake-up&#160;alarm&#160;<br/>
time&#160;<br/>
Absolute&#160;time&#160;for&#160;the&#160;wake-up&#160;alarm&#160;in&#160;seconds&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
Alarm&#160;was&#160;successfully&#160;started&#160;<br/>
E_NOT_OK&#160;<br/>
No&#160;Alarm&#160;was&#160;started&#160;because&#160;of&#160;an&#160;invalid&#160;user parameter&#160;<br/>
E_EARLIER_ACTIVE&#160;<br/>
An earlier&#160;alarm&#160;was&#160;already&#160;started&#160;<br/>
E_PAST&#160;<br/>
The&#160;time&#160;has&#160;already&#160;passed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;API&#160;can&#160;be used&#160;to&#160;set&#160;an&#160;absolute&#160;wake up alarm during&#160;runtime&#160;of&#160;the ECU.&#160;For further&#160;information&#160;<br/>about&#160;this&#160;see&#160;chapter<a href="TechnicalReference_EcuMs.html#40">&#160;3.14.</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>All&#160;wake&#160;up&#160;alarms&#160;are&#160;cleared&#160;if&#160;the&#160;ECU&#160;wakes&#160;up&#160;from&#160;a&#160;sleep&#160;phase,&#160;even&#160;if&#160;the&#160;<br/>
<b>&#160;&#160;</b>reason&#160;for&#160;this&#160;wake up&#160;was not&#160;time&#160;triggered.&#160;The&#160;wake up&#160;alarms&#160;must&#160;be&#160;rearmed&#160;<br/>
before the&#160;next&#160;sleep&#160;phase&#160;is&#160;entered.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>Each&#160;user&#160;can&#160;only&#160;set&#160;one&#160;wake-up&#160;alarm.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from task&#160;level&#160;<br/>
Table&#160;5-30&#160;&#160;&#160;EcuM_SetAbsWakeupAlarm&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
86&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=87></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3.9&#160;</b><br/>
<b>EcuM_AbortWakeupAlarm&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_AbortWakeupAlarm&#160;</b>(EcuM_UserType&#160;user)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
user&#160;<br/>
The&#160;user that&#160;wants&#160;to&#160;abort the&#160;wake-up&#160;alarm&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
Alarm&#160;was&#160;successfully&#160;aborted&#160;<br/>
E_NOT_OK&#160;<br/>
The&#160;parameter&#160;‘user’&#160;was&#160;not&#160;valid&#160;<br/>
E_NOT_ACTIVE&#160;<br/>
No alarm&#160;was&#160;active for&#160;this&#160;user&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;API&#160;can&#160;be used to abort&#160;a&#160;wake-up&#160;alarm&#160;which&#160;was&#160;set via&#160;the&#160;APIs<a href="TechnicalReference_EcuMs.html#85">&#160;EcuM_SetRelWakeupAlarm&#160;</a>or&#160;<br/><a href="TechnicalReference_EcuMs.html#86">EcuM_SetAbsWakeupAlarm.&#160;</a>&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from task&#160;level&#160;<br/>
Table&#160;5-31&#160;&#160;&#160;EcuM_AbortWakeupAlarm&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
87&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=88></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-88_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3.10&#160;&#160;EcuM_GetWakeupTime&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_GetWakeupTime&#160;</b>(uint32&#160;*time)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
time&#160;<br/>
Absolute&#160;time&#160;of&#160;the&#160;next&#160;configured&#160;wake-up&#160;alarm&#160;in&#160;seconds&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
Time&#160;was&#160;successfully&#160;returned&#160;<br/>
E_NOT_OK&#160;<br/>
A&#160;null&#160;pointer&#160;was&#160;passed&#160;as&#160;parameter ‘time’&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Returns&#160;the&#160;time&#160;of&#160;the&#160;next&#160;active&#160;wake-up&#160;alarm&#160;which&#160;was&#160;set via&#160;the&#160;APIs<a href="TechnicalReference_EcuMs.html#86">&#160;EcuM_SetAbsWakeupAlarm&#160;<br/></a>or<a href="TechnicalReference_EcuMs.html#85">&#160;EcuM_SetRelWakeupAlarm.</a>&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>If&#160;the&#160;returned&#160;value&#160;equals&#160;‘0xFFFFFFFF’,&#160;no&#160;wake-up&#160;alarm&#160;is&#160;currently&#160;active&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from task&#160;level&#160;<br/>
Table&#160;5-32&#160;&#160;&#160;EcuM_GetWakeupTime&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
88&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=89></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3.11&#160;&#160;EcuM_SetClock&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_SetClock&#160;</b>(EcuM_UserType&#160;user,&#160;uint32&#160;time)&#160;<br/>
<b>Parameter&#160;</b><br/>
user&#160;<br/>
The&#160;user that&#160;wants&#160;to set&#160;up&#160;the&#160;clock&#160;<br/>
time&#160;<br/>
The&#160;absolute&#160;time&#160;value&#160;designated&#160;for the&#160;new&#160;time&#160;in&#160;seconds&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
Time&#160;was&#160;successfully&#160;modified&#160;<br/>
E_NOT_ALLOWED&#160;<br/>
The&#160;user&#160;was&#160;not&#160;allowed to modify&#160;the&#160;time&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;API&#160;can&#160;be used to modify&#160;the&#160;current&#160;time.&#160;Only&#160;special&#160;users&#160;are&#160;allowed&#160;to&#160;modify&#160;this&#160;time, e.g.&#160;for&#160;<br/>test&#160;purposes.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from task&#160;level&#160;<br/>
Table&#160;5-33&#160;&#160;&#160;EcuM_SetClock&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
89&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=90></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3.12&#160;&#160;EcuM_GetCurrentTime&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_GetCurrentTime&#160;</b>(uint32&#160;*time)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
time&#160;<br/>
Current&#160;system&#160;time&#160;in seconds&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
Time&#160;was&#160;successfully&#160;returned&#160;<br/>
E_NOT_OK&#160;<br/>
A&#160;null&#160;pointer&#160;was&#160;passed&#160;as&#160;parameter ‘time’&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;API&#160;can&#160;be used to get&#160;the&#160;current&#160;system&#160;time.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from task&#160;level&#160;<br/>
Table&#160;5-34&#160;&#160;&#160;EcuM_GetCurrentTime&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
90&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=91></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.3.13&#160;&#160;EcuM_SetState&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_SetState</b>(EcuM_StateType&#160;state);&#160;<br/>
<b>Parameter&#160;</b><br/>
state&#160;<br/>
State indicated&#160;by&#160;BswM&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Requests&#160;a specific&#160;state&#160;which&#160;will&#160;be mapped&#160;to the&#160;corresponding&#160;RTE&#160;mode.&#160;This&#160;mode&#160;will&#160;be&#160;used&#160;<br/>to&#160;trigger a&#160;RTE&#160;mode&#160;switch.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from task&#160;level&#160;<br/>
Table&#160;5-35&#160;&#160;&#160;EcuM_SetState&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
91&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=92></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.4&#160;</b><br/>
<b>Services&#160;Provided&#160;by&#160;EcuM&#160;fixed&#160;</b><br/>
In&#160;the&#160;following&#160;the&#160;services&#160;are described&#160;which&#160;are only&#160;relevant&#160;for&#160;EcuM&#160;fixed:&#160;<br/>
<b>5.4.1&#160;</b><br/>
<b>EcuM_GetState&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>EcuM_GetState&#160;</b>(EcuM_StateType*&#160;state)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
state&#160;<br/>
Current&#160;EcuM&#160;State&#160;<br/>
<b>Return code&#160;</b><br/>
E_OK&#160;<br/>
The&#160;parameter state&#160;was&#160;a&#160;not&#160;NULL_PTR&#160;<br/>
E_NOT_OK&#160;<br/>
The&#160;parameter state&#160;was&#160;a&#160;NULL_PTR&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;API&#160;returns&#160;the&#160;current&#160;EcuM&#160;State.&#160;The&#160;possible&#160;EcuM&#160;States&#160;for&#160;the&#160;fixed&#160;EcuM&#160;can&#160;be&#160;seen&#160;in&#160;<br/>chap<a href="TechnicalReference_EcuMs.html#20">ter&#160;<b>3.3&#160;</b>States&#160;of&#160;EcuM&#160;fixed.</a>&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from task&#160;level&#160;<br/>
Table&#160;5-36&#160;&#160;&#160;EcuM_GetState&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
92&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=93></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-93_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.4.2&#160;</b><br/>
<b>EcuM_KillAllRUNRequests&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_&#160;KillAllRUNRequests&#160;(void)</b>&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Deletes&#160;all&#160;RUN&#160;requests&#160;and&#160;ensures&#160;that no&#160;new&#160;RUN&#160;request&#160;is&#160;accepted.&#160;Additionally&#160;the&#160;EcuM&#160;self-<br/>run&#160;request period&#160;will&#160;be&#160;aborted.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>The&#160;benefit&#160;of&#160;this&#160;function&#160;over&#160;an&#160;ECU&#160;reset&#160;is&#160;that&#160;the&#160;shutdown&#160;sequence&#160;is&#160;&#160;<br/>
&#160;&#160;executed,&#160;which e.g.&#160;takes&#160;care&#160;of&#160;writing&#160;back&#160;NV&#160;memory&#160;contents.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called&#160;from&#160;application&#160;context.&#160;<br/>
Table&#160;5-37&#160;&#160;&#160;EcuM_&#160;KillAllRUNRequests&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
93&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=94></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.4.3&#160;</b><br/>
<b>EcuM_KillAllPostRUNRequests&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_&#160;KillAllPostRUNRequests&#160;(void)</b>&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Deletes&#160;all&#160;POST_RUN&#160;requests&#160;and&#160;ensures&#160;that&#160;no&#160;new&#160;POST_RUN&#160;request&#160;is&#160;accepted.&#160;&#160;<br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from&#160;application&#160;context.&#160;<br/>
Table&#160;5-38&#160;&#160;&#160;EcuM_&#160;KillAllPostRUNRequests&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
94&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=95></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.5&#160;</b><br/>
<b>Services&#160;Used by&#160;EcuM&#160;</b><br/>
In&#160;the&#160;following&#160;table&#160;services&#160;provided&#160;by&#160;other&#160;components,&#160;which&#160;are&#160;used&#160;by&#160;the&#160;EcuM&#160;<br/>are&#160;listed.&#160;Also&#160;refer&#160;to&#160;chapte<a href="TechnicalReference_EcuMs.html#15">r&#160;2.1.</a>&#160;<br/>For&#160;&#160;details&#160;&#160;about&#160;&#160;prototype&#160;&#160;and&#160;&#160;functionality&#160;&#160;refer&#160;&#160;to&#160;&#160;the&#160;&#160;documentation&#160;&#160;of&#160;&#160;the&#160;&#160;providing&#160;<br/>component.&#160;<br/>
<b>Component&#160;&#160;API&#160;</b><br/>
<b>EcuM&#160;</b><br/>
<b>EcuM&#160;</b><br/>
<b>flex&#160;</b><br/>
<b>fixed&#160;</b><br/>
BswM&#160;<br/>
BswM_EcuM_CurrentWakeup()&#160;<br/>
&#160;<br/>
&#160;<br/>
BswM_Init()&#160;<br/>
&#160;<br/>
&#160;<br/>
BswM_Deinit()&#160;<br/>
&#160;<br/>
&#160;<br/>
BswM_EcuM_RequestedState()&#160;<br/>
&#160;<br/>
&#160;<br/>
BswM_EcuM_CurrentState()&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM&#160;<br/>
ComM_EcuM_WakeUpIndication()&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_GetStatus()&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_GetState()&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_CommunicationAllowed()&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_DeInit()&#160;<br/>
&#160;<br/>
&#160;<br/>
Det&#160;<br/>
Det_ReportError()&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem&#160;<br/>
Dem_ReportErrorStatus()&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_Init()&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_Shutdown()&#160;<br/>
&#160;<br/>
&#160;<br/>
Gpt&#160;<br/>
Gpt_EnableNotification()&#160;<br/>
&#160;<br/>
&#160;<br/>
Gpt_EnableWakeup()&#160;<br/>
&#160;<br/>
&#160;<br/>
Gpt_SetMode()&#160;<br/>
&#160;<br/>
&#160;<br/>
Gpt_StartTimer()&#160;<br/>
&#160;<br/>
&#160;<br/>
Mcu&#160;<br/>
Mcu_SetMode()&#160;<br/>
&#160;<br/>
&#160;<br/>
Mcu_GetResetReason()&#160;<br/>
&#160;<br/>
&#160;<br/>
NvM&#160;<br/>
NvM_WriteAll()&#160;<br/>
&#160;<br/>
&#160;<br/>
NvM_CancelWriteAll()&#160;<br/>
&#160;<br/>
&#160;<br/>
NvM_KillWriteAll()&#160;<br/>
&#160;<br/>
&#160;<br/>
OS&#160;<br/>
ShutdownOS()&#160;<br/>
&#160;<br/>
&#160;<br/>
StartOS()&#160;<br/>
&#160;<br/>
&#160;<br/>
GetResource()&#160;<br/>
&#160;<br/>
&#160;<br/>
ReleaseResource()&#160;<br/>
&#160;<br/>
&#160;<br/>
EnableAllInterrupts()&#160;<br/>
&#160;<br/>
&#160;<br/>
DisableAllInterrupts()&#160;<br/>
&#160;<br/>
&#160;<br/>
RTE&#160;<br/>
Rte_Start()&#160;<br/>
&#160;<br/>
&#160;<br/>
Rte_Stop()&#160;<br/>
&#160;<br/>
&#160;<br/>
Rte_Switch_currentMode_currentMode()&#160;<br/>
&#160;<br/>
&#160;<br/>
Rte_Feedback_currentMode_currentMode()&#160;<br/>
&#160;<br/>
&#160;<br/>
SchM&#160;<br/>
SchM_Init()&#160;<br/>
&#160;<br/>
&#160;<br/>
SchM_Deinit()&#160;<br/>
&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
95&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=96></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>Component&#160;&#160;API&#160;</b><br/>
<b>EcuM&#160;</b><br/>
<b>EcuM&#160;</b><br/>
<b>flex&#160;</b><br/>
<b>fixed&#160;</b><br/>
SchM_Enter_EcuM_ECUM_EXCLUSIVE_AREA_0()&#160;<br/>
&#160;<br/>
&#160;<br/>
SchM_Exit_EcuM_ECUM_EXCLUSIVE_AREA_0()&#160;<br/>
&#160;<br/>
&#160;<br/>
SchM_Enter_EcuM_ECUM_EXCLUSIVE_AREA_1()&#160;<br/>
&#160;<br/>
&#160;<br/>
SchM_Exit_EcuM_ECUM_EXCLUSIVE_AREA_1()&#160;<br/>
&#160;<br/>
&#160;<br/>
SchM_Enter_EcuM_ECUM_EXCLUSIVE_AREA_2()&#160;<br/>
&#160;<br/>
&#160;<br/>
SchM_Exit_EcuM_ECUM_EXCLUSIVE_AREA_2()&#160;<br/>
&#160;<br/>
&#160;<br/>
Table&#160;5-39&#160;&#160;&#160;Services&#160;used&#160;by&#160;the&#160;EcuM&#160;<br/>
<b>5.6&#160;</b><br/>
<b>Callback&#160;Functions&#160;</b><br/>
This&#160;chapter&#160;describes&#160;the&#160;callback&#160;functions&#160;that&#160;are&#160;implemented&#160;by&#160;the&#160;EcuM&#160;and&#160;can&#160;<br/>be&#160;invoked&#160;by&#160;other&#160;modules.&#160;The&#160;prototypes&#160;of&#160;the&#160;callback&#160;functions&#160;are&#160;provided&#160;in&#160;the&#160;<br/>header&#160;file&#160;EcuM_Cbk.h&#160;by&#160;the&#160;EcuM.&#160;<br/>
<b>5.6.1&#160;</b><br/>
<b>EcuM_SetWakeupEvent&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_SetWakeupEvent&#160;</b>(EcuM_WakeupSourceType&#160;WakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
WakeupSource&#160;<br/>
the&#160;source&#160;of&#160;the&#160;wake-up&#160;event.&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Marks&#160;a&#160;wake-up&#160;event as&#160;pending&#160;if&#160;validation&#160;is&#160;required. If&#160;no&#160;validation&#160;is&#160;required&#160;then&#160;<br/>EcuM_ValidateSetWakeupEvent&#160;will&#160;be&#160;called&#160;within this&#160;function.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>None&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-40&#160;&#160;&#160;EcuM_SetWakeupEvent&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
96&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=97></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.6.2&#160;</b><br/>
<b>EcuM_ValidateWakeupEvent&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_ValidateWakeupEvent&#160;</b>(EcuM_WakeupSourceType&#160;WakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
WakeupSource&#160;<br/>
the&#160;wake-up&#160;source&#160;which&#160;should be&#160;validated&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
After&#160;wake-up, the&#160;ECU&#160;State&#160;Manager&#160;will&#160;stop&#160;the&#160;process&#160;during&#160;the&#160;WAKE-UP&#160;VALIDATION&#160;state&#160;to&#160;<br/>wait&#160;for&#160;validation&#160;of&#160;the&#160;wake-up&#160;event.&#160;The validation&#160;is&#160;carried&#160;out&#160;with&#160;a&#160;call&#160;of&#160;this&#160;API&#160;service.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Only&#160;ComM&#160;channels&#160;can validate&#160;Wake-up&#160;Events&#160;during&#160;ECUM_STATE_RUN.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;or from&#160;task&#160;level&#160;<br/>
Table&#160;5-41&#160;&#160;&#160;EcuM_ValidateWakeupEvent&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
97&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=98></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.6.3&#160;</b><br/>
<b>EcuM_AlarmCheckWakeup&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_AlarmCheckWakeup</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;API&#160;is&#160;used&#160;to&#160;update the&#160;system&#160;clock.&#160;The&#160;API&#160;is&#160;called&#160;by&#160;the&#160;EcuM&#160;callout&#160;EcuM_CheckWakeup or&#160;<br/>directly&#160;by&#160;the&#160;GPT&#160;after one&#160;second&#160;has&#160;elapsed.&#160;<br/>If during&#160;sleep&#160;the&#160;wake-up&#160;alarm&#160;which&#160;was&#160;set&#160;via&#160;the&#160;APIs<a href="TechnicalReference_EcuMs.html#86">&#160;EcuM_SetAbsWakeupAlarm&#160;</a>or&#160;<br/><a href="TechnicalReference_EcuMs.html#85">EcuM_SetRelWakeupAlarm&#160;</a>has&#160;expired, this&#160;API&#160;call&#160;will&#160;lead&#160;to&#160;a&#160;wake-up&#160;event.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;<br/>
Table&#160;5-42&#160;&#160;&#160;EcuM_AlarmCheckWakeup&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
98&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=99></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.6.4&#160;</b><br/>
<b>Callback&#160;Functions&#160;by&#160;EcuM&#160;fixed&#160;</b><br/>
<b>5.6.4.1&#160;</b><br/>
<b>EcuM_CB_NfyNvMJobEnd&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_CB_NfyNvMJobEnd&#160;</b>(uint8&#160;ServiceID,&#160;NvM_RequestResultType&#160;JobResult)&#160;<br/>
<b>Parameter&#160;</b><br/>
ServiceID&#160;<br/>
Unique&#160;service&#160;ID&#160;of&#160;NVRAM manger&#160;service.&#160;<br/>
JobResult&#160;<br/>
[parameter&#160;is&#160;ignored&#160;by&#160;EcuM&#160;fixed]&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Used to&#160;notify&#160;about&#160;the&#160;end&#160;of NVRAM&#160;jobs&#160;initiated&#160;by&#160;ECUM.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_EcuMs.html#34">e 'Service IDs'&#160;</a>&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/><b>&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Function could&#160;be&#160;called from interrupt&#160;level&#160;<br/>
Table&#160;5-43&#160;&#160;&#160;EcuM_AlarmCheckWakeup&#160;<br/>
&#160;<br/>
<b>5.7&#160;</b><br/>
<b>Configurable&#160;Interfaces&#160;</b><br/>
<b>5.7.1&#160;</b><br/>
<b>Notifications&#160;</b><br/>
The&#160;EcuM&#160;does not&#160;provide&#160;notifications.&#160;<br/>
<b>5.7.2&#160;</b><br/>
<b>Callout Functions&#160;</b><br/>
At&#160;&#160;its&#160;&#160;configurable&#160;&#160;interfaces&#160;&#160;the&#160;EcuM&#160;&#160;defines&#160;&#160;callout&#160;&#160;functions.&#160;The&#160;&#160;declarations&#160;&#160;of&#160;&#160;the&#160;<br/>callout&#160;functions&#160;are&#160;provided&#160;by&#160;the&#160;BSW&#160;module,&#160;i.e.&#160;the&#160;EcuM.&#160;It&#160;is&#160;the&#160;integrator's&#160;task&#160;<br/>to&#160;&#160;provide&#160;&#160;the&#160;&#160;corresponding&#160;&#160;function&#160;&#160;definitions.&#160;&#160;The&#160;&#160;definitions&#160;&#160;of&#160;&#160;the&#160;&#160;callouts&#160;&#160;can&#160;&#160;be&#160;<br/>adjusted&#160;to&#160;the&#160;system's&#160;needs.&#160;The&#160;&#160;EcuM&#160;&#160;callout&#160;function&#160;declarations&#160;are&#160;&#160;described&#160;in&#160;<br/>the&#160;following&#160;tables:&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
99&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=100></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.1&#160;</b><br/>
<b>EcuM_ErrorHook&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_ErrorHook&#160;</b>(Std_ReturnType&#160;reason)&#160;<br/>
<b>Parameter&#160;</b><br/>
reason&#160;<br/>
The&#160;reason for&#160;the&#160;current&#160;call&#160;of&#160;the&#160;ErrorHook.&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;ECU&#160;State&#160;Manager&#160;calls&#160;the&#160;Errorhook&#160;if&#160;the&#160;following error&#160;code occur:&#160;<br/>
<b>&#160;&#160;</b>ECUM_E_HOOK_RAM_CHECK_FAILED&#160;<br/>
In&#160;that&#160;case&#160;it is&#160;not&#160;possible to&#160;continue&#160;processing.&#160;The&#160;integrator&#160;has&#160;to&#160;take the decision&#160;how&#160;the&#160;ECU&#160;<br/>shall&#160;react&#160;in that&#160;situation.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;in&#160;application&#160;context.&#160;<br/>
Table&#160;5-44&#160;&#160;&#160;EcuM_ErrorHook&#160;<br/>
<b>5.7.2.2&#160;</b><br/>
<b>EcuM_OnGoOffOne&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_OnGoOffOne&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Allows&#160;the&#160;execution of&#160;additional&#160;activities&#160;in&#160;GO&#160;OFF&#160;I&#160;state.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;&#160;<br/>
<b>&#160;&#160;</b>Called&#160;right after entering&#160;ECUM_STATE_GO_OFF_ONE.&#160;<br/>
Table&#160;5-45&#160;&#160;&#160;EcuM_OnGoOffOne&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
100&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=101></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.3&#160;</b><br/>
<b>EcuM_OnGoOffTwo&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_OnGoOffTwo&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Allows&#160;the&#160;execution of&#160;additional&#160;activities&#160;in&#160;GO&#160;OFF&#160;II&#160;state.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;&#160;<br/>
<b>&#160;&#160;</b>Called&#160;right after entering&#160;ECUM_STATE_GO_OFF_TWO.&#160;<br/>
Table&#160;5-46&#160;&#160;&#160;EcuM_OnGoOffTwo&#160;<br/>
<b>5.7.2.4&#160;</b><br/>
<b>EcuM_AL_SwitchOff&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_AL_SwitchOff&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout shall&#160;take&#160;the&#160;code&#160;for&#160;shutting off the&#160;power supply&#160;of&#160;the&#160;ECU.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in&#160;EcuM_Shutdown(), task&#160;context&#160;<br/>
Table&#160;5-47&#160;&#160;&#160;EcuM_AL_SwitchOff&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
101&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=102></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.5&#160;</b><br/>
<b>EcuM_AL_Reset&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_AL_Reset&#160;</b>(EcuM_ResetType&#160;Reset)&#160;<br/>
<b>Parameter&#160;</b><br/>
Reset&#160;<br/>
The&#160;parameter Reset&#160;describes&#160;the&#160;ResetType&#160;(refer&#160;<a href="TechnicalReference_EcuMs.html#58">to&#160;5.1)</a>&#160;that&#160;is&#160;currently&#160;<br/>configured via&#160;EcuM_SelectShutdownTarget&#160;()&#160;(refer t<a href="TechnicalReference_EcuMs.html#66">o&#160;5.2.5).</a>&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout shall&#160;take&#160;the decision&#160;what&#160;kind&#160;of&#160;reset&#160;to&#160;be performed&#160;depending&#160;on&#160;the&#160;given&#160;Reset&#160;mode.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;in&#160;application&#160;context.&#160;<br/>
Table&#160;5-48&#160;&#160;&#160;EcuM_AL_Reset&#160;<br/>
<b>5.7.2.6&#160;</b><br/>
<b>EcuM_AL_DriverInitZero&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_AL_DriverInitZero&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout is&#160;invoked&#160;early&#160;in the&#160;PreOS&#160;Sequence during&#160;EcuM_Init().&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be extended&#160;by&#160;the integrator&#160;by&#160;using&#160;the&#160;<br/>
Userblocks.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in&#160;EcuM_Init(),&#160;task&#160;context&#160;<br/>
Table&#160;5-49&#160;&#160;&#160;EcuM_AL_DriverInitZero&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
102&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=103></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-103_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-103_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.7&#160;</b><br/>
<b>EcuM_AL_DriverInitOne&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_AL_DriverInitOne&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout is&#160;invoked&#160;late&#160;in the&#160;PreOS&#160;Sequence&#160;during&#160;EcuM_Init().&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be extended&#160;by&#160;the integrator&#160;by&#160;using&#160;the&#160;<br/>
Userblocks.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>PostBuild data&#160;can&#160;be&#160;accessed&#160;via&#160;the&#160;global&#160;pointer&#160;EcuM_GlobalPBConfig_Ptr,&#160;<br/>
&#160;&#160;example:&#160;EcuM_GlobalPBConfig_Ptr-&gt;CfgPtr_Com_Init.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>Variant&#160;data&#160;can&#160;be&#160;accessed&#160;via&#160;the&#160;global&#160;pointer&#160;EcuM_GlobalPCConfig_Ptr,&#160;<br/>
&#160;&#160;example:&#160;EcuM_GlobalPCConfig_Ptr-&gt;CfgPtr_ComM_Init.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in&#160;EcuM_Init(),&#160;task&#160;context&#160;<br/>
Table&#160;5-50&#160;&#160;&#160;EcuM_AL_DriverInitOne&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
103&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=104></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-104_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-104_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.8&#160;</b><br/>
<b>EcuM_AL_DriverRestart&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_AL_DriverRestart&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout shall&#160;provide&#160;driver initialization&#160;and&#160;other&#160;hardware&#160;related startup&#160;activities&#160;after a&#160;wake-up&#160;<br/>event from&#160;SLEEP&#160;state.&#160;This&#160;callout&#160;should&#160;be&#160;a&#160;combination&#160;of&#160;EcuM_DriverInitZero and&#160;<br/>EcuM_DriverInitOne.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be extended&#160;by&#160;the integrator&#160;by&#160;using&#160;the&#160;<br/>
Userblocks.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>PostBuild data&#160;can&#160;be&#160;accessed&#160;via&#160;the&#160;global&#160;pointer&#160;EcuM_GlobalPBConfig_Ptr,&#160;<br/>
&#160;&#160;example:&#160;EcuM_GlobalPBConfig_Ptr-&gt;CfgPtr_Com_Init.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>Variant&#160;data&#160;can&#160;be&#160;accessed&#160;via&#160;the&#160;global&#160;pointer&#160;EcuM_GlobalPCConfig_Ptr,&#160;<br/>
&#160;&#160;example:&#160;EcuM_GlobalPCConfig_Ptr-&gt;CfgPtr_ComM_Init.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;directly&#160;after the&#160;wake-up&#160;phase&#160;<br/>
Table&#160;5-51&#160;&#160;&#160;EcuM_AL_DriverRestart&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
104&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=105></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.9&#160;</b><br/>
<b>EcuM_AL_SetProgrammableInterrupts&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_AL_SetProgrammableInterrupts&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
On&#160;ECUs&#160;with&#160;programmable&#160;interrupt&#160;priorities,&#160;these&#160;priorities&#160;must be set&#160;before the&#160;OS&#160;is&#160;started.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in&#160;EcuM_Init(),&#160;task&#160;context&#160;<br/>
Table&#160;5-52&#160;&#160;&#160;EcuM_AL_SetProgrammableInterrupts&#160;<br/>
<b>5.7.2.10&#160;&#160;EcuM_McuSetMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_McuSetMode&#160;</b>(Mcu_ModeType&#160;McuMode)&#160;<br/>
<b>Parameter&#160;</b><br/>
McuMode&#160;<br/>
Mode&#160;for the&#160;upcoming&#160;sleep&#160;mode&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Switches&#160;the&#160;Mcu to a&#160;power saving&#160;mode during&#160;a&#160;sleep&#160;phase.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be adapted by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;by&#160;EcuM_GoHalt()&#160;or&#160;EcuM_GoPoll()&#160;<br/>
Table&#160;5-53&#160;&#160;&#160;EcuM_McuSetMode&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
105&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=106></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-106_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.11&#160;&#160;EcuM_WaitForSlaveCores&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_WaitForSlaveCores&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Is&#160;only&#160;called if EcuMSlaveCoreHandling&#160;is&#160;active. During&#160;the&#160;master&#160;core&#160;is&#160;waiting&#160;for&#160;the&#160;slave cores&#160;to&#160;<br/>be&#160;ready&#160;for the upcoming&#160;sleep&#160;this&#160;callout is&#160;called&#160;cyclically.&#160;&#160;<br/>In&#160;context&#160;of&#160;this&#160;callout&#160;the&#160;slave cores&#160;can&#160;be&#160;initiated&#160;to&#160;enter&#160;sleep.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;by&#160;EcuM_GoHalt()&#160;or&#160;EcuM_GoPoll()&#160;<br/>
Table&#160;5-54&#160;&#160;&#160;EcuM_WaitForSlaveCores&#160;<br/>
&#160;<br/>
<b>5.7.2.12&#160;&#160;EcuM_StartOS&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_StartOS&#160;</b>(AppModeType&#160;appMode)&#160;<br/>
<b>Parameter&#160;</b><br/>
appMode&#160;<br/>
Default&#160;OS&#160;application&#160;Mode&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;callout&#160;is called&#160;at&#160;the&#160;end&#160;of&#160;EcuM_Init()&#160;to&#160;start the&#160;OS.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>In case&#160;of&#160;a&#160;MultiCore&#160;ECU&#160;all&#160;slave&#160;cores&#160;are&#160;started&#160;from&#160;the&#160;Master&#160;Core via&#160;the&#160;OS&#160;<br/>
&#160;&#160;API&#160;StartCore()&#160;before the OS&#160;is&#160;started&#160;with a&#160;call&#160;to&#160;StartOS().&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be adapted by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;by&#160;EcuM_Init()&#160;<br/>
Table&#160;5-55&#160;&#160;&#160;EcuM_StartOS&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
106&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=107></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-107_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.13&#160;&#160;EcuM_ShutdownOS&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_ShutdownOS&#160;</b>(Std_ReturnType&#160;ErrCode)&#160;<br/>
<b>Parameter&#160;</b><br/>
ErrCode&#160;<br/>
E_OK&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;callout&#160;is called&#160;at&#160;the&#160;end&#160;of&#160;EcuM_GoDown()&#160;to&#160;shut&#160;down&#160;the&#160;OS&#160;via&#160;<br/>ShutdownOS(E_OK).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>In&#160;case&#160;of&#160;a&#160;MultiCore&#160;ECU&#160;this&#160;callout&#160;should&#160;lead&#160;to&#160;a&#160;call&#160;of&#160;<br/>
&#160;&#160;ShutdownAllCores(E_OK),&#160;inside&#160;this&#160;OS&#160;API&#160;all&#160;cores are synchronized&#160;and&#160;stopped.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be adapted by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;by&#160;EcuM_GoDown()&#160;<br/>
Table&#160;5-56&#160;&#160;&#160;EcuM_ShutdownOS&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
107&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=108></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.14&#160;&#160;EcuM_GenerateRamHash&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_GenerateRamHash&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout is&#160;intended&#160;to&#160;provide&#160;a&#160;RAM&#160;integrity&#160;test. The&#160;goal&#160;of&#160;this&#160;test&#160;is&#160;to ensure&#160;that after&#160;a&#160;long&#160;<br/>SLEEP&#160;duration,&#160;RAM&#160;contents&#160;are&#160;still&#160;consistent.&#160;The&#160;RAM&#160;check&#160;itself&#160;must be&#160;provided&#160;by&#160;the&#160;<br/>integrator.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;just before&#160;setting&#160;the&#160;ECU&#160;into&#160;a&#160;sleep&#160;mode&#160;where the&#160;ECU&#160;is&#160;halted&#160;<br/>
Table&#160;5-57&#160;&#160;&#160;EcuM_GenerateRamHash&#160;<br/>
<b>5.7.2.15&#160;&#160;EcuM_CheckRamHash&#160;</b><br/>
<b>Prototype&#160;<br/></b>uint8&#160;<b>EcuM_CheckRamHash&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
0&#160;<br/>
Integrity&#160;test failed&#160;<br/>
1…255&#160;<br/>
Integrity&#160;test&#160;passed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout is&#160;intended&#160;to&#160;provide&#160;a&#160;RAM&#160;integrity&#160;check&#160;previously&#160;done&#160;with&#160;EcuM_GenerateRamHash().&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>&#160;Invoked&#160;in task&#160;context&#160;&#160;<br/>
<b>&#160;&#160;</b>&#160;Directly&#160;called&#160;after&#160;the&#160;wake-up&#160;of&#160;the&#160;ECU.&#160;<br/>
Table&#160;5-58&#160;&#160;&#160;EcuM_CheckRamHash&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
108&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=109></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-109_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.16&#160;&#160;EcuM_SleepActivity&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_SleepActivity&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;ECU&#160;State&#160;Manager&#160;invokes&#160;this&#160;callout periodically&#160;during&#160;the&#160;Poll&#160;Sequence&#160;if the&#160;MCU is&#160;not&#160;halted.&#160;<br/>The&#160;EcuM&#160;polls&#160;periodically&#160;all&#160;sources&#160;that&#160;need&#160;polling and&#160;are&#160;active during&#160;the&#160;configured&#160;Sleep&#160;mode.&#160;<br/>After&#160;all&#160;sources&#160;are&#160;polled&#160;EcuM_SleepActivity&#160;is&#160;called&#160;once.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The&#160;EcuM_SleepActivity&#160;is&#160;called&#160;in&#160;a&#160;blocking&#160;loop at&#160;maximum&#160;frequency.&#160;If&#160;a&#160;<br/>
<b>&#160;&#160;</b>lower&#160;period&#160;is&#160;preferred,&#160;the&#160;integrator&#160;has&#160;to&#160;implement&#160;this&#160;behavior.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;in&#160;task&#160;context.&#160;<br/>
Table&#160;5-59&#160;&#160;&#160;EcuM_SleepActivity&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
109&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=110></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.17&#160;&#160;EcuM_EnableWakeupSources&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_EnableWakeupSources&#160;</b>(EcuM_WakeupSourceType&#160;wakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
wakeupSource&#160;<br/>
Every&#160;bit&#160;set&#160;in the parameter indicates&#160;a&#160;wake-up&#160;source&#160;which&#160;should be&#160;<br/>enabled in the&#160;current&#160;sleep mode.&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout&#160;will&#160;be invoked&#160;when&#160;the&#160;EcuM enters&#160;a&#160;sleep&#160;state.&#160;The EcuM&#160;calls&#160;this&#160;callout for&#160;every&#160;bit&#160;<br/>that&#160;is&#160;set&#160;as&#160;an active&#160;source&#160;for&#160;the&#160;current&#160;Sleep&#160;mode.&#160;&#160;<br/>The&#160;integrator&#160;has&#160;to&#160;take&#160;care to&#160;implement&#160;the necessary&#160;activities&#160;to enable&#160;the&#160;corresponding&#160;wake-up&#160;<br/>sources.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;just before&#160;setting&#160;the&#160;ECU&#160;into&#160;a&#160;sleep&#160;mode&#160;<br/>
Table&#160;5-60&#160;&#160;&#160;EcuM_EnableWakeupSources&#160;<br/>
<b>5.7.2.18&#160;&#160;EcuM_DisableWakeupSources&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_DisableWakeupSources&#160;</b>(EcuM_WakeupSourceType&#160;wakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
wakeupSource&#160;<br/>
Every&#160;bit&#160;set&#160;in the parameter indicates&#160;a&#160;wake-up&#160;source&#160;which&#160;should be&#160;<br/>enabled in the&#160;current&#160;sleep mode.&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout&#160;will&#160;be invoked&#160;when&#160;the&#160;EcuM leaves&#160;a&#160;sleep&#160;state.&#160;The&#160;EcuM&#160;disables&#160;all&#160;wake-up&#160;sources&#160;<br/>that&#160;have&#160;occurred&#160;during&#160;the&#160;recent&#160;sleep&#160;phase.&#160;The&#160;not&#160;occurred&#160;sources&#160;remain&#160;active till&#160;the&#160;EcuM&#160;<br/>transits&#160;to&#160;ECUM_STATE_RUN after&#160;the&#160;successful&#160;validation of a&#160;wake-up&#160;source.&#160;<br/>The&#160;integrator&#160;has&#160;to&#160;take&#160;care to&#160;implement&#160;the necessary&#160;activities&#160;to&#160;disable&#160;the&#160;corresponding&#160;wake-up&#160;<br/>sources.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;&#160;<br/>
<b>&#160;&#160;</b>Called&#160;just&#160;before&#160;RUN&#160;state is&#160;entered&#160;after a&#160;sleep&#160;&#160; &#160;&#160;OR&#160;<br/>
<b>&#160;&#160;</b>Called&#160;just&#160;before&#160;WAKEUP_VALIDATION&#160;state&#160;is&#160;entered&#160;<br/>
Table&#160;5-61&#160;&#160;&#160;EcuM_DisableWakeupSources&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
110&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=111></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.19&#160;&#160;EcuM_StartWakeupSources&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_StartWakeupSources&#160;</b>(EcuM_WakeupSourceType&#160;wakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
wakeupSource&#160;<br/>
Every&#160;bit&#160;set&#160;in the parameter indicates&#160;a&#160;wake-up&#160;source&#160;which&#160;is&#160;enabled&#160;in&#160;<br/>the&#160;current&#160;sleep mode.&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;callout&#160;shall&#160;start the&#160;given&#160;wake-up&#160;source(s)&#160;so&#160;that they&#160;are&#160;ready&#160;to&#160;perform&#160;wake-up&#160;validation.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;in&#160;task&#160;context.&#160;<br/>
Table&#160;5-62&#160;&#160;&#160;EcuM_StartWakeupSources&#160;<br/>
<b>5.7.2.20&#160;&#160;EcuM_StopWakeupSources&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_StopWakeupSources&#160;</b>(EcuM_WakeupSourceType&#160;wakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
wakeupSource&#160;<br/>
Every&#160;bit&#160;set&#160;in the parameter indicates&#160;a&#160;wake-up&#160;source&#160;which&#160;should be&#160;<br/>stopped after&#160;unsuccessful&#160;wake-up&#160;validation.&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout shall&#160;stop&#160;the given&#160;wake-up&#160;source(s)&#160;after&#160;unsuccessful&#160;wake-up&#160;validation.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;in&#160;task&#160;context.&#160;<br/>
Table&#160;5-63&#160;&#160;&#160;EcuM_StopWakeupSources&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
111&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=112></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.21&#160;&#160;EcuM_CheckWakeup&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_CheckWakeup&#160;</b>(EcuM_WakeupSourceType&#160;wakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
wakeupSource&#160;<br/>
ID of&#160;the&#160;wake-up&#160;source&#160;to&#160;be&#160;checked&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout shall&#160;be&#160;called&#160;by&#160;the ISR&#160;of&#160;a&#160;wake-up&#160;source to&#160;set&#160;up&#160;the&#160;PLL&#160;and&#160;check&#160;wake-up&#160;sources&#160;<br/>that&#160;may&#160;be&#160;connected&#160;to the&#160;same interrupt.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;in&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-64&#160;&#160;&#160;EcuM_CheckWakeup&#160;<br/>
<b>5.7.2.22&#160;&#160;EcuM_CheckValidation&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_CheckValidation&#160;</b>(EcuM_WakeupSourceType&#160;wakeupSource)&#160;<br/>
<b>Parameter&#160;</b><br/>
wakeupSource&#160;<br/>
Wake-up&#160;IDs&#160;of&#160;pending&#160;wake-up&#160;events.&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout is&#160;called&#160;by&#160;the&#160;EcuM&#160;when&#160;wake-up&#160;validation&#160;of&#160;a&#160;wake-up&#160;event&#160;is&#160;necessary.&#160;The&#160;pending&#160;<br/>wake-up&#160;event(s)&#160;are passed by&#160;the&#160;parameter&#160;in&#160;order to allow&#160;the&#160;necessary&#160;reaction&#160;depending&#160;on the&#160;<br/>wake-up&#160;source.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;&#160;<br/>
<b>&#160;&#160;</b>Called&#160;in&#160;WAKE-UP&#160;VALIDATION&#160;state&#160;<br/>
Table&#160;5-65&#160;&#160;&#160;EcuM_CheckValidation&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
112&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=113></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-113_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.23&#160;&#160;EcuM_DeterminePbConfiguration&#160;</b><br/>
<b>Prototype&#160;<br/></b>EcuM_ConfigRefType&#160;<b>EcuM_DeterminePbConfiguration&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
EcuM_ConfigRefType&#160;<br/>
Pointer&#160;to&#160;the&#160;Post-Build&#160;structure&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
In&#160;the&#160;case&#160;of&#160;Post-Build&#160;Loadable&#160;or&#160;Selectable&#160;the&#160;EcuM&#160;gets&#160;the&#160;global&#160;configuration&#160;pointer via&#160;this&#160;<br/>callout.&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>In case&#160;of&#160;a&#160;MultiCore&#160;ECU&#160;this&#160;callout&#160;is&#160;only&#160;called&#160;on&#160;the&#160;core&#160;which&#160;starts&#160;up&#160;first.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;in&#160;application&#160;context.&#160;<br/>
Table&#160;5-66&#160;&#160;&#160;EcuM_DeterminePbConfiguration&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
113&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=114></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.2.24&#160;&#160;EcuM_BswErrorHook&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_BswErrorHook&#160;</b>(uint16&#160;BswModuleId,&#160;uint8&#160;ErrorId)&#160;<br/>
<b>Parameter&#160;</b><br/>
BswModuleId&#160;<br/>
The&#160;reporting BSW&#160;module&#160;<br/>
ErrorId&#160;<br/>
The&#160;Id&#160;of&#160;the&#160;reported&#160;error&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;API&#160;can&#160;be called by&#160;Basic&#160;Software&#160;Modules&#160;to&#160;notify&#160;corrupted&#160;Postbuild&#160;configuration&#160;data.&#160;<br/>
&#160;<br/>Specified&#160;ErrorIds&#160;are:&#160;<br/>
<b>&#160;&#160;</b>ECUM_BSWERROR_NULLPTR&#160;<br/><b>&#160;&#160;</b>ECUM_BSWERROR_COMPATIBILITYVERSION&#160;<br/><b>&#160;&#160;</b>ECUM_BSWERROR_MAGICNUMBER&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>The&#160;handling&#160;of an&#160;occurred&#160;error has&#160;to be&#160;specified&#160;by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context.&#160;<br/>
Table&#160;5-67&#160;&#160;&#160;EcuM_BswErrorHook&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
114&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=115></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-115_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.3&#160;</b><br/>
<b>Callout Functions&#160;by&#160;EcuM&#160;flex&#160;</b><br/>
<b>5.7.3.1&#160;</b><br/>
<b>EcuM_GptStartClock&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_GptStartClock&#160;</b>(Gpt_ChannelType&#160;GptChannel,&#160;Gpt_ModeType&#160;Mode,&#160;<br/>Gpt_ValueType&#160;Value)&#160;<br/>
<b>Parameter&#160;</b><br/>
GptChannel&#160;<br/>
The&#160;configured&#160;Gpt&#160;channel&#160;which serves&#160;as&#160;time&#160;base&#160;for&#160;alarm clock&#160;<br/>
Mode&#160;<br/>
The&#160;Gpt&#160;normal&#160;mode&#160;<br/>
Value&#160;<br/>
The&#160;value&#160;to&#160;start&#160;the&#160;Gpt&#160;timer&#160;for&#160;second based&#160;notification&#160;/&#160;wake&#160;up&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout prepares&#160;the Gpt&#160;for&#160;calling&#160;the&#160;callback&#160;EcuM_AlarmCheckWakeup&#160;every&#160;second to&#160;increment&#160;<br/>the&#160;system&#160;time.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>This&#160;callout&#160;is&#160;only&#160;active&#160;if&#160;the&#160;EcuM&#160;alarm&#160;clock&#160;is&#160;enabled&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be adapted by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;by&#160;EcuM_StartupTwo().&#160;<br/>
Table&#160;5-68&#160;&#160;&#160;EcuM_GptStartClock&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
115&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=116></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-116_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.3.2&#160;</b><br/>
<b>EcuM_GptSetSleep&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_GptSetSleep&#160;</b>(Gpt_ChannelType&#160;GptChannel,&#160;Gpt_ModeType&#160;Mode)&#160;<br/>
<b>Parameter&#160;</b><br/>
GptChannel&#160;<br/>
The&#160;configured&#160;Gpt&#160;channel&#160;which serves&#160;as&#160;time&#160;base&#160;for&#160;alarm clock&#160;<br/>
Mode&#160;<br/>
The&#160;Gpt&#160;sleep&#160;mode&#160;<br/>
<b>Return code&#160;</b><br/>
Void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout sets&#160;the Gpt&#160;to&#160;sleep&#160;mode&#160;and&#160;enables&#160;the&#160;wake&#160;up&#160;functionality&#160;of&#160;the&#160;Gpt.&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>This&#160;callout&#160;is&#160;only&#160;active&#160;if&#160;the&#160;EcuM&#160;alarm&#160;clock&#160;is&#160;enabled&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be adapted by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;by&#160;EcuM_GoHalt()&#160;or&#160;EcuM_GoPoll()&#160;<br/>
Table&#160;5-69&#160;&#160;&#160;EcuM_GptSetSleep&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
116&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=117></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-117_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.3.3&#160;</b><br/>
<b>EcuM_GptSetNormal&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_GptSetNormal&#160;</b>(Gpt_ChannelType&#160;GptChannel,&#160;Gpt_ModeType&#160;Mode)&#160;<br/>
<b>Parameter&#160;</b><br/>
GptChannel&#160;<br/>
The&#160;configured&#160;Gpt&#160;channel&#160;which serves&#160;as&#160;time&#160;base&#160;for&#160;alarm clock&#160;<br/>
Value&#160;<br/>
The&#160;Gpt&#160;normal&#160;mode&#160;&#160;<br/>
<b>Return code&#160;</b><br/>
Void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout sets&#160;the Gpt&#160;back&#160;to&#160;normal&#160;mode after&#160;the&#160;ECU has&#160;woken up&#160;from&#160;a&#160;sleep&#160;mode.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>This&#160;callout&#160;is&#160;only&#160;active&#160;if&#160;the&#160;EcuM&#160;alarm&#160;clock&#160;is&#160;enabled&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be adapted by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Expected to&#160;be&#160;called&#160;by&#160;EcuM_GoHalt()&#160;or&#160;EcuM_GoPoll()&#160;<br/>
Table&#160;5-70&#160;&#160;&#160;EcuM_GptSetNormal&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
117&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=118></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-118_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.3.4&#160;</b><br/>
<b>EcuM_AL_DriverInitBswM_&lt;ID&gt;&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_AL_DriverInitBswM_&lt;ID&gt;&#160;</b>(const&#160;EcuM_ConfigType&#160;*ConfigPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
ConfigPtr&#160;<br/>
Pointer&#160;to&#160;global&#160;module&#160;configuration&#160;structure.&#160;&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout can&#160;be&#160;invoked&#160;by&#160;the&#160;BswM&#160;to&#160;initialize&#160;the stack&#160;of the ECU.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>The&#160;ID&#160;and&#160;the&#160;count&#160;of&#160;this&#160;callout&#160;depends&#160;on&#160;the configuration.&#160;The&#160;integrator&#160;can&#160;<br/>
&#160;&#160;configure&#160;multiple&#160;driver&#160;init&#160;lists&#160;of&#160;this&#160;type.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be extended&#160;by&#160;the integrator&#160;by&#160;using&#160;the&#160;<br/>
Userblocks.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in&#160;BswM_Init(),&#160;task&#160;context&#160;<br/>
Table&#160;5-71&#160;&#160;&#160;EcuM_AL_DriverInitBswM&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
118&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=119></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-119_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-119_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.4&#160;</b><br/>
<b>Callout Functions&#160;by&#160;EcuM&#160;fixed&#160;</b><br/>
<b>5.7.4.1&#160;</b><br/>
<b>EcuM_AL_DriverInitTwo&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_AL_DriverInitTwo&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout is&#160;invoked&#160;during&#160;EcuM_StartupTwo(), prior the&#160;Rte&#160;is&#160;started.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be extended&#160;by&#160;the integrator&#160;by&#160;using&#160;the&#160;<br/>
Userblocks.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>PostBuild data&#160;can be&#160;accessed&#160;via&#160;the&#160;global&#160;pointer&#160;EcuM_GlobalPBConfig_Ptr,&#160;<br/>
&#160;&#160;example:&#160;EcuM_GlobalPBConfig_Ptr-&gt;CfgPtr_Com_Init.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>Variant&#160;data&#160;can&#160;be&#160;accessed&#160;via&#160;the&#160;global&#160;pointer&#160;EcuM_GlobalPCConfig_Ptr,&#160;<br/>
&#160;&#160;example:&#160;EcuM_GlobalPCConfig_Ptr-&gt;CfgPtr_ComM_Init.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in&#160;EcuM_StartupTwo(),&#160;task&#160;context&#160;<br/>
Table&#160;5-72&#160;&#160;&#160;EcuM_AL_DriverInitTwo&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
119&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=120></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-120_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-120_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.4.2&#160;</b><br/>
<b>EcuM_AL_DriverInitThree&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_AL_DriverInitThree&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callout is&#160;invoked&#160;during&#160;EcuM_StartupTwo(), after the&#160;Rte&#160;is&#160;started.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;is&#160;filled&#160;by&#160;the&#160;configuration&#160;tool. It can&#160;be extended&#160;by&#160;the integrator&#160;by&#160;using&#160;the&#160;<br/>
Userblocks.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>PostBuild data&#160;can&#160;be&#160;accessed&#160;via&#160;the&#160;global&#160;pointer&#160;EcuM_GlobalPBConfig_Ptr,&#160;<br/>
&#160;&#160;example:&#160;EcuM_GlobalPBConfig_Ptr-&gt;CfgPtr_Com_Init.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>Variant&#160;data&#160;can&#160;be&#160;accessed&#160;via&#160;the&#160;global&#160;pointer&#160;EcuM_GlobalPCConfig_Ptr,&#160;<br/>
&#160;&#160;example:&#160;EcuM_GlobalPCConfig_Ptr-&gt;CfgPtr_ComM_Init.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in&#160;EcuM_StartupTwo(),&#160;task&#160;context&#160;<br/>
Table&#160;5-73&#160;&#160;&#160;EcuM_AL_DriverInitThree&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
120&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=121></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.4.3&#160;</b><br/>
<b>EcuM_OnEnterRun&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_OnEnterRun&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Allows&#160;the&#160;execution of&#160;activities&#160;before&#160;entering RUN&#160;state.&#160;<br/><b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;<br/><b>&#160;&#160;</b>Called&#160;just&#160;before&#160;entering&#160;RUN state.&#160;<br/>
Table&#160;5-74&#160;&#160;&#160;EcuM_OnEnterRun&#160;<br/>
<b>5.7.4.4&#160;</b><br/>
<b>EcuM_OnExitRun&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_OnExitRun&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Allows&#160;the&#160;execution of&#160;activities&#160;before&#160;leaving&#160;RUN&#160;state.&#160;<br/><b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;<br/><b>&#160;&#160;</b>Called&#160;just&#160;before&#160;leaving&#160;RUN state.&#160;<br/>
Table&#160;5-75&#160;&#160;&#160;EcuM_OnExitRun&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
121&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=122></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.4.5&#160;</b><br/>
<b>EcuM_OnGoSleep&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_OnGoSleep&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Allows&#160;the&#160;execution of&#160;additional&#160;activities&#160;while&#160;module&#160;is&#160;in&#160;GO&#160;SLEEP&#160;state.&#160;<br/><b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;<br/><b>&#160;&#160;</b>Called&#160;after&#160;entering&#160;GO&#160;SLEEP&#160;state.&#160;<br/>
Table&#160;5-76&#160;&#160;&#160;EcuM_OnGoSleep&#160;<br/>
<b>5.7.4.6&#160;</b><br/>
<b>EcuM_OnPrepShutdown&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_OnPrepShutdown&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Allows&#160;the&#160;execution of&#160;additional&#160;activities&#160;in&#160;PREP&#160;SHUTDOWN state.&#160;<br/><b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;<br/><b>&#160;&#160;</b>Called&#160;just&#160;after&#160;entering&#160;PREP&#160;SHUTDOWN&#160;state.&#160;<br/>
Table&#160;5-77&#160;&#160;&#160;EcuM_OnPrepShutdown&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
122&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=123></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.4.7&#160;</b><br/>
<b>EcuM_OnExitPostRun&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_OnExitPostRun&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Allows&#160;the&#160;execution of&#160;activities&#160;while leaving&#160;POST&#160;RUN state.&#160;<br/><b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;<br/><b>&#160;&#160;</b>Called&#160;while&#160;leaving&#160;POST&#160;RUN&#160;state.&#160;<br/>
Table&#160;5-78&#160;&#160;&#160;EcuM_OnExitPostRun&#160;<br/>
<b>5.7.4.8&#160;</b><br/>
<b>EcuM_OnFailedNvmWriteAllJobReaction&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_OnFailedNvmWriteAllJobReaction&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>The&#160;ECU&#160;State&#160;Manager&#160;will&#160;call&#160;this&#160;function&#160;in&#160;case&#160;that a&#160;Nvm_WriteAll()&#160;job&#160;was&#160;not&#160;finished in time.&#160;<br/><b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;<br/>
Table&#160;5-79&#160;&#160;&#160;EcuM_OnFailedNvmWriteAllJobReaction&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
123&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=124></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.7.4.9&#160;</b><br/>
<b>EcuM_OnWakeupReaction&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_OnWakeupReaction&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Allows&#160;the&#160;execution of&#160;additional&#160;activities&#160;in&#160;WAKEUP_REACTION&#160;state.&#160;<br/><b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;<br/><b>&#160;&#160;</b>Called&#160;in&#160;ECUM_STATE_WAKEUP_REACTION&#160;state.&#160;<br/>
Table&#160;5-80&#160;&#160;&#160;EcuM_OnFailedNvmWriteAllJobReaction&#160;<br/>
<b>5.7.4.10&#160;&#160;EcuM_OnRTEStartup&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>EcuM_OnRTEStartup&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
void&#160;<br/>
none&#160;&#160;<br/>
<b>Return code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Allows&#160;the&#160;execution of&#160;activities&#160;before&#160;starting&#160;the&#160;RTE.&#160;<br/><b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be filled&#160;with&#160;code by&#160;the&#160;integrator.&#160;<br/>
Call&#160;Context&#160;<br/>
<b>&#160;&#160;</b>Invoked&#160;in task&#160;context&#160;<br/><b>&#160;&#160;</b>Called&#160;before&#160;Rte_Start()&#160;is&#160;executed.&#160;Module&#160;state:&#160;STARTUP&#160;<br/>
Table&#160;5-81&#160;&#160;&#160;EcuM_OnRTEStartup&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
124&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=125></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.8&#160;</b><br/>
<b>Service&#160;Ports&#160;&#160;</b><br/>
<b>5.8.1&#160;</b><br/>
<b>Client&#160;Server Interface&#160;</b><br/>
A&#160;client&#160;server&#160;interface&#160;is&#160;related&#160;to&#160;a&#160;Provide&#160;Port&#160;at&#160;the&#160;server&#160;side&#160;and&#160;a&#160;Require&#160;Port&#160;<br/>at&#160;client&#160;side.&#160;&#160;<br/>
<b>5.8.1.1&#160;</b><br/>
<b>Provide&#160;Ports&#160;on&#160;EcuM&#160;Side&#160;</b><br/>
At&#160;&#160;the&#160;&#160;Provide&#160;&#160;Ports&#160;&#160;of&#160;&#160;the&#160;&#160;EcuM&#160;&#160;the&#160;&#160;API&#160;&#160;functions&#160;&#160;described&#160;&#160;in&#160;&#160;<a href="TechnicalReference_EcuMs.html#62">5.2&#160;&#160;</a>are&#160;&#160;available&#160;&#160;as&#160;<br/>Runnable&#160;Entities.&#160;The&#160;Runnable&#160;Entities&#160;are&#160;invoked&#160;via&#160;Operations.&#160;The&#160;mapping&#160;from&#160;a&#160;<br/>SWC&#160;client&#160;call&#160;to&#160;an&#160;Operation&#160;is&#160;performed&#160;by&#160;the&#160;RTE.&#160;In&#160;this&#160;mapping&#160;the&#160;RTE&#160;adds&#160;<br/>Port&#160;Defined&#160;Argument&#160;Values to&#160;the&#160;client&#160;call&#160;of&#160;the&#160;SWC,&#160;if&#160;configured.&#160;<br/>The&#160;&#160;following&#160;&#160;sub-chapters&#160;&#160;present&#160;&#160;the&#160;&#160;Provide&#160;&#160;Ports&#160;&#160;defined&#160;&#160;for&#160;&#160;the&#160;&#160;EcuM&#160;&#160;and&#160;&#160;the&#160;<br/>Operations&#160;defined&#160;for&#160;the&#160;Provide&#160;Ports,&#160;the&#160;API&#160;functions&#160;related&#160;to&#160;the&#160;Operations&#160;to&#160;be&#160;<br/>added&#160;by&#160;the&#160;RTE.&#160;<br/>
&#160;<br/>
<b>5.8.1.1.1&#160;</b><br/>
<b>ShutdownTarget Port&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>API&#160;Function&#160;</b><br/>
SelectShutdownTarget&#160;<br/>
EcuM_SelectShutdownTarget()&#160;<br/>
GetLastShutdownTarget&#160;<br/>
EcuM_GetLastShutdownTarget()&#160;<br/>
GetShutdownTarget&#160;<br/>
EcuM_GetShutdownTarget()&#160;<br/>
SelectShutdownCause&#160;<br/>
EcuM_SelectShutdownCause()&#160;<br/>
GetShutdownCause&#160;<br/>
EcuM_GetShutdownCause()&#160;<br/>
Table&#160;5-82&#160;&#160;&#160;Shutdown&#160;Target&#160;Port&#160;<br/>
<b>5.8.1.1.2&#160;</b><br/>
<b>BootTarget Port&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>API&#160;Function&#160;</b><br/>
SelectBootTarget&#160;<br/>
EcuM_SelectBootTarget()&#160;<br/>
GetBootTarget&#160;<br/>
EcuM_GetBootTarget()&#160;<br/>
Table&#160;5-83&#160;&#160;&#160;BootTarget&#160;Port&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
125&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=126></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-126_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-126_2.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.8.1.1.3&#160;</b><br/>
<b>AlarmClock&#160;Port&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>API&#160;Function&#160;</b><br/>
SelectRelWakeupAlarm&#160;<br/>
EcuM_SelectRelWakeupAlarm()&#160;<br/>
SelectAbsWakeupAlarm&#160;<br/>
EcuM_SelectAbsWakeupAlarm()&#160;<br/>
AbortWakeupAlarm&#160;<br/>
EcuM_AbortWakeupAlarm()&#160;<br/>
GetCurrentTime&#160;<br/>
EcuM_GetCurrentTime()&#160;<br/>
GetWakeupTime&#160;<br/>
EcuM_GetWakeupTime()&#160;<br/>
SetClock&#160;<br/>
EcuM_SetClock()&#160;<br/>
Table&#160;5-84&#160;&#160;&#160;AlarmClock&#160;Port&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The&#160;AlarmClock&#160;Port&#160;is&#160;only&#160;available&#160;in&#160;case&#160;of&#160;EcuM&#160;flex.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>5.8.1.1.4&#160;</b><br/>
<b>StateRequest Port&#160;</b><br/>
&#160;<br/>
<b>Operation&#160;</b><br/>
<b>API&#160;Function&#160;</b><br/>
<b>Port&#160;Defined&#160;Argument&#160;Value&#160;</b><br/>
RequestRUN&#160;<br/>
EcuM_RequestRUN()&#160;<br/>
EcuM_UserType&#160;UserId&#160;<br/>
ReleaseRUN&#160;<br/>
EcuM_ReleaseRUN()&#160;<br/>
EcuM_UserType&#160;UserId&#160;<br/>
RequestPOST_RUN&#160;<br/>
EcuM_RequestPOST_RUN()&#160;<br/>
EcuM_UserType&#160;UserId&#160;<br/>
ReleasePOST_RUN&#160;<br/>
EcuM_ReleasePOST_RUN()&#160;<br/>
EcuM_UserType&#160;UserId&#160;<br/>
GetState&#160;<br/>
EcuM_GetStateWrapper()&#160;<br/>
EcuM_UserType&#160;UserId&#160;<br/>
Table&#160;5-85&#160;&#160;&#160;StateRequest&#160;Port&#160;<br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>The&#160;GetState operation&#160;above&#160;is&#160;mapped&#160;to an&#160;additional&#160;API&#160;function&#160;<br/>
&#160;<br/>
EcuM_GetStateWrapper()&#160;which has&#160;to be&#160;introduced&#160;to&#160;be&#160;compliant&#160;with&#160;ASR3&#160;<br/>Microsar&#160;EcuM.&#160;This&#160;API&#160;is&#160;not&#160;described in&#160;chapter<a href="TechnicalReference_EcuMs.html#62">&#160;5.2&#160;</a>because&#160;the&#160;functionality&#160;is&#160;the&#160;<br/>same&#160;as&#160;EcuM_GetState().&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
126&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=127></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/EcuM/doc/TechnicalReference_EcuM-127_1.png"/><br/>
Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>5.8.1.2&#160;</b><br/>
<b>Require&#160;Ports&#160;on&#160;EcuM&#160;Side&#160;</b><br/>
The&#160;EcuM&#160;calls&#160;operations&#160;at&#160;its&#160;Require&#160;Ports.&#160;These&#160;Operations&#160;have&#160;to&#160;be&#160;provided&#160;by&#160;<br/>the&#160;&#160;SWCs&#160;&#160;by&#160;&#160;means&#160;&#160;of&#160;&#160;Runnable&#160;&#160;Entities.&#160;&#160;These&#160;&#160;Runnable&#160;&#160;Entities&#160;&#160;implement&#160;&#160;the&#160;<br/>callback&#160;functions expected&#160;by&#160;the&#160;EcuM.&#160;<br/>The&#160;following&#160;sub-chapters&#160;present&#160;the&#160;Require&#160;Port&#160;defined&#160;for&#160;the&#160;EcuM,&#160;the&#160;Operations&#160;<br/>that&#160;are called&#160;from&#160;the&#160;EcuM&#160;and&#160;the&#160;related&#160;Notifications.&#160;<br/>
<b>5.8.1.2.1&#160;</b><br/>
<b>currentMode&#160;Port&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>RTE&#160;Interface&#160;</b><br/>
<b>Mode Declaration&#160;Group&#160;</b><br/>
currentMode&#160;<br/>
Rte_Switch_currentMode_currentMode&#160;<br/>
STARTUP&#160;<br/>RUN&#160;<br/>POST_RUN&#160;<br/>SLEEP&#160;<br/>WAKE_SLEEP&#160;<br/>SHUTDOWN&#160;<br/>
Table&#160;5-86&#160;&#160;&#160;currentMode&#160;Port&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The&#160;Ports&#160;CurrentMode&#160;and&#160;StateRequest&#160;are&#160;only&#160;available&#160;in&#160;case&#160;of&#160;EcuM&#160;fixed.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
127&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=128></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>6&#160;&#160;AUTOSAR&#160;Standard&#160;Compliance&#160;</b><br/>
<b>6.1&#160;</b><br/>
<b>Deviations&#160;</b><br/>
<b>6.1.1&#160;</b><br/>
<b>Deviation in the&#160;Naming of&#160;API&#160;Parameters&#160;</b><br/>
<b>6.1.1.1&#160;</b><br/>
<b>ResetSleepMode&#160;</b><br/>
The&#160;parameter&#160;“mode”&#160;has been&#160;changed&#160;to&#160;“resetSleepMode”&#160;for the&#160;following&#160;APIs:&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_GetLastShutdownTarget()&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_GetShutdownTarget()&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_SelectShutdownTarget()&#160;<br/>
<b>6.1.1.2&#160;</b><br/>
<b>TargetState&#160;</b><br/>
The&#160;parameter “target” has&#160;been&#160;changed&#160;to&#160;“targetState”&#160;for the&#160;following&#160;API:&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_SelectShutdownTarget()&#160;<br/>
<b>6.1.1.3&#160;</b><br/>
<b>ShutdownTarget&#160;</b><br/>
The&#160;parameter “shutdownTarget” has&#160;been&#160;changed&#160;to&#160;“target” for&#160;the&#160;following&#160;API:&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_GetShutdownTarget()&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_GetLastShutdownTarget()&#160;<br/>
<b>6.1.1.4&#160;</b><br/>
<b>Target&#160;(ShutdownTarget)&#160;</b><br/>
The&#160;parameter “target” has&#160;been&#160;changed&#160;to&#160;“shutdownCause” for&#160;the&#160;following&#160;API:&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_SelectShutdownCause()&#160;<br/>
<b>6.1.1.5&#160;</b><br/>
<b>Target&#160;(BootTarget)&#160;</b><br/>
The&#160;parameter “target” has&#160;been&#160;changed&#160;to&#160;“BootTarget” for&#160;the&#160;following&#160;API:&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_SelectBootTarget()&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_GetBootTarget()&#160;<br/>
<b>6.1.1.6&#160;</b><br/>
<b>Sources&#160;</b><br/>
The&#160;parameter “sources”&#160;has been&#160;changed&#160;to&#160;“WakeupSource” for&#160;the&#160;following&#160;API:&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_ClearWakeupEvent()&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_SetWakeupEvent()&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_ValidateWakeupEvent()&#160;<br/>
<b>6.1.2&#160;</b><br/>
<b>Starting of&#160;the&#160;Validation Timer&#160;</b><br/>
The&#160;validation&#160;timer&#160;is&#160;not&#160;started&#160;by&#160;calling&#160;EcuM_SetWakeupEvent(),&#160;instead&#160;it&#160;is&#160;started&#160;<br/>with&#160;the&#160;next&#160;MainFunctionCycle.&#160;<br/>
<b>6.1.3&#160;</b><br/>
<b>Multiplicity&#160;of Parameters&#160;</b><br/>
<b>6.1.3.1&#160;</b><br/>
<b>&#160;EcuMResetReasonRef&#160;</b><br/>
The&#160;parameter&#160;has&#160;been&#160;changed&#160;to&#160;optional&#160;so&#160;that&#160;not&#160;every&#160;wake-up&#160;source&#160;must&#160;have&#160;<br/>configured&#160;an&#160;Mcu&#160;reset&#160;reason.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
128&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=129></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>6.1.3.2&#160;</b><br/>
<b>EcuMSleepMode&#160;</b><br/>
The&#160;parameter&#160;has&#160;been&#160;changed&#160;to&#160;optional&#160;to&#160;allow&#160;code&#160;optimization&#160;on&#160;ECUs&#160;without&#160;<br/>the&#160;possibility&#160;to&#160;switch&#160;ECUM_STATE_OFF.&#160;<br/>
<b>6.1.3.3&#160;</b><br/>
<b>EcuMConfigConsistencyHash&#160;</b><br/>
The&#160;parameter&#160;has&#160;been&#160;changed&#160;to&#160;optional&#160;because&#160;it&#160;is&#160;only&#160;necessary&#160;in&#160;the&#160;case&#160;of&#160;<br/>variant&#160;post&#160;build.&#160;<br/>
<b>6.1.3.4&#160;</b><br/>
<b>Removed parameter&#160;ConfigPtr from DriverInit Lists&#160;</b><br/>
Removed&#160;the&#160;parameter&#160;ConfigPtr from&#160;the&#160;prototypes&#160;of&#160;the&#160;following&#160;Callouts:&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_AL_DriverInitOne()&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_AL_DriverInitTwo()&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_AL_DriverInitThree()&#160;<br/>
&#160;<br/>
<b>6.2&#160;</b><br/>
<b>Additions/&#160;Extensions&#160;</b><br/>
<b>6.2.1&#160;</b><br/>
<b>Additional&#160;Configuration&#160;Parameters&#160;&#160;</b><br/>
To&#160;fulfill&#160;the&#160;jobs&#160;of&#160;the&#160;EcuM&#160;some&#160;more&#160;parameters&#160;beyond&#160;the&#160;AUTOSAR&#160;specification&#160;<br/>are needed.&#160;The&#160;description&#160;of&#160;these&#160;parameters&#160;can&#160;be&#160;found&#160;in&#160;the&#160;BSWMD&#160;file&#160;which&#160;is&#160;<br/>part&#160;of&#160;the&#160;delivery.&#160;<br/>The&#160;following&#160;containers&#160;are&#160;added:&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMDriverInitListBswM&#160;<br/>
&#160;<br/>
The&#160;following&#160;parameters are&#160;added:&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMAdditionalInitCode&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMGoDownRequestID&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMAdditionalIncludes&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMUserConfigurationFile&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMCheckWakeupTimeout&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMDeferredBswMNotification&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMGptChannelRef&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMSlaveCoreHandling&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMGenModeSwitchPort&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMIncludeDem&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMModeSwitchRteAck&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMGenModeSwitchPort&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMNvmCancelWriteAllTimeout&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMEnableFixBehavior&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMBswCoreId&#160;<br/>
<b>6.2.2&#160;</b><br/>
<b>Buffering of&#160;Wake&#160;ups&#160;if the&#160;BswM&#160;is&#160;Not&#160;Initialized&#160;</b><br/>
In&#160;&#160;early&#160;&#160;phases&#160;&#160;of&#160;&#160;the&#160;&#160;ECU,&#160;&#160;wake-up&#160;&#160;events&#160;&#160;can&#160;&#160;occur&#160;&#160;and&#160;&#160;should&#160;&#160;not&#160;&#160;be&#160;&#160;missed.&#160;&#160;The&#160;<br/>EcuM&#160;&#160;detects&#160;&#160;these&#160;&#160;Wake-up&#160;&#160;Events&#160;and&#160;&#160;if&#160;the&#160;&#160;BswM&#160;is&#160;&#160;not&#160;&#160;initialized&#160;&#160;the&#160;Event&#160;&#160;will&#160;&#160;be&#160;<br/>buffered&#160;and&#160;reported&#160;to&#160;the&#160;BswM&#160;as&#160;soon&#160;as the&#160;BswM&#160;is initialized&#160;by&#160;the&#160;EcuM.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
129&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=130></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>6.2.3&#160;</b><br/>
<b>Buffering of&#160;Wake&#160;ups&#160;if the&#160;ComM&#160;is&#160;Not&#160;Initialized&#160;</b><br/>
In&#160;&#160;early&#160;&#160;phases&#160;&#160;of&#160;&#160;the&#160;&#160;ECU,&#160;&#160;wake-up&#160;&#160;events&#160;&#160;can&#160;&#160;occur&#160;&#160;and&#160;&#160;should&#160;&#160;not&#160;&#160;be&#160;&#160;missed.&#160;&#160;The&#160;<br/>EcuM&#160;checks&#160;if&#160;the&#160;ComM&#160;is&#160;active&#160;by&#160;the&#160;routine&#160;ComM_GetStatus(),&#160;if&#160;the&#160;ComM&#160;is&#160;not&#160;<br/>active&#160;&#160;in&#160;&#160;this&#160;&#160;phase&#160;&#160;the&#160;&#160;Wake-up&#160;&#160;Event&#160;&#160;is&#160;&#160;also&#160;&#160;buffered.&#160;&#160;In&#160;&#160;the&#160;&#160;EcuM_MainFunction&#160;&#160;the&#160;<br/>EcuM&#160;checks&#160;if&#160;the&#160;ComM&#160;is&#160;still&#160;uninitialized&#160;and&#160;the&#160;Wake-up&#160;Event&#160;is&#160;reported&#160;as&#160;soon&#160;<br/>as possible&#160;to&#160;the&#160;ComM.&#160;&#160;<br/>
<b>6.2.4&#160;</b><br/>
<b>Additional&#160;API&#160;EcuM_ClearValidatedWakeupEvent&#160;</b><br/>
The&#160;&#160;EcuM&#160;&#160;implements&#160;&#160;an&#160;&#160;API&#160;&#160;to&#160;&#160;clear&#160;&#160;only&#160;&#160;the&#160;&#160;validated&#160;&#160;wakeup&#160;&#160;events.&#160;A&#160;&#160;call&#160;&#160;of&#160;&#160;the&#160;<br/>regular&#160;&#160;API&#160;&#160;EcuM_ClearWakeupEvent&#160;&#160;leads&#160;&#160;to&#160;&#160;a&#160;&#160;clear&#160;&#160;of&#160;&#160;all&#160;&#160;events,&#160;&#160;pending&#160;&#160;wakeup&#160;<br/>events&#160;will&#160;be&#160;lost&#160;in&#160;this&#160;case.&#160;<br/>It&#160;is&#160;necessary&#160;to&#160;clear&#160;the&#160;validated&#160;wakeup&#160;events&#160;to&#160;enter&#160;a&#160;sleep&#160;mode&#160;&#160;or&#160;shutdown&#160;<br/>the&#160;Ecu.&#160;<br/>
<b>6.2.5&#160;</b><br/>
<b>Support of&#160;Asynchronous&#160;Transceiver Handling&#160;</b><br/>
To&#160;&#160;support&#160;&#160;asynchronous&#160;&#160;transceiver&#160;&#160;handling&#160;&#160;a&#160;&#160;check-wakeup&#160;&#160;validation&#160;&#160;timeout&#160;&#160;was&#160;<br/>introduced&#160;&#160;for&#160;&#160;wake-up&#160;&#160;sources&#160;&#160;which&#160;&#160;cannot&#160;&#160;be&#160;&#160;checked&#160;&#160;in&#160;&#160;the&#160;&#160;context&#160;&#160;of&#160;<br/>EcuM_CheckWakeup.&#160;<br/>
<b>6.2.6&#160;</b><br/>
<b>Deferred notification&#160;of&#160;the&#160;BswM&#160;about&#160;wake-up events&#160;</b><br/>
To&#160;prevent&#160;that&#160;the&#160;notification&#160;via&#160;BswM_EcuM_CurrentWakeup() is executed&#160;in&#160;context&#160;<br/>of&#160;an&#160;interrupt&#160;(v<a href="TechnicalReference_EcuMs.html#96">ia&#160;EcuM_SetWakeupEvent&#160;</a>o<a href="TechnicalReference_EcuMs.html#97">r&#160;EcuM_ValidateWakeupEvent),</a>&#160;the&#160;<br/>notification&#160;can&#160;be&#160;deferred&#160;to&#160;the&#160;next&#160;cycle&#160;of&#160;the<a href="TechnicalReference_EcuMs.html#62">&#160;EcuM_MainFunction.</a>&#160;If&#160;the&#160;notification&#160;<br/>is executed&#160;deferred&#160;or&#160;not&#160;can&#160;be&#160;configured&#160;via&#160;the&#160;parameter&#160;<br/>EcuMDeferredBswMNotification.&#160;<br/>&#160;<br/>
<b>6.2.7&#160;</b><br/>
<b>Additional&#160;Callback&#160;EcuM_AlarmCheckWakeup&#160;</b><br/>
This&#160;&#160;callback&#160;&#160;is&#160;&#160;called&#160;&#160;by&#160;&#160;the&#160;&#160;Gpt&#160;&#160;every&#160;&#160;second&#160;&#160;to&#160;&#160;increment&#160;&#160;the&#160;&#160;EcuM&#160;&#160;clock&#160;&#160;which&#160;&#160;is&#160;<br/>provided&#160;by&#160;the&#160;alarm&#160;clock&#160;feature.&#160;<br/>
<b>6.2.8&#160;</b><br/>
<b>Additional&#160;API&#160;EcuM_GoToSelectedShutdownTarget&#160;</b><br/>
This&#160;&#160;API&#160;&#160;can&#160;&#160;be&#160;&#160;called&#160;&#160;e.g.&#160;&#160;from&#160;&#160;the&#160;&#160;BswM&#160;&#160;without&#160;&#160;knowledge&#160;&#160;about&#160;&#160;the&#160;&#160;currently&#160;<br/>configured&#160;&#160;shutdown&#160;&#160;target.&#160;&#160;The&#160;&#160;EcuM&#160;&#160;decides&#160;&#160;if&#160;&#160;EcuM_GoHalt(),&#160;&#160;EcuM_GoPoll()&#160;&#160;or&#160;<br/>EcuM_GoDown()&#160;has&#160;to&#160;be&#160;called.&#160;<br/>
<b>6.2.9&#160;</b><br/>
<b>Additional&#160;Callout&#160;EcuM_WaitForSlaveCores&#160;</b><br/>
This&#160;&#160;callout&#160;&#160;is&#160;&#160;only&#160;&#160;active&#160;&#160;in&#160;&#160;case&#160;&#160;of&#160;&#160;MultiCore&#160;&#160;and&#160;&#160;if&#160;&#160;the&#160;&#160;parameter&#160;<br/>EcuMSlaveCoreHandling&#160;&#160;is&#160;&#160;set&#160;&#160;true.&#160;&#160;In&#160;&#160;this&#160;&#160;case,&#160;&#160;the&#160;&#160;EcuM&#160;&#160;Master&#160;&#160;Core&#160;&#160;calls&#160;&#160;cyclically&#160;<br/>this&#160;callout.&#160;It&#160;can&#160;be&#160;used&#160;to&#160;initiate&#160;that&#160;the&#160;sleep&#160;is&#160;also&#160;entered&#160;on&#160;the&#160;slave&#160;core.&#160;<br/>
<b>6.2.10&#160;&#160;Support of&#160;EcuM&#160;fixed&#160;<br/></b>The&#160;EcuM&#160;supports&#160;the&#160;EcuM&#160;with&#160;fixed&#160;state&#160;machine.&#160;The&#160;EcuM&#160;fixed&#160;can&#160;be&#160;configured&#160;<br/>without&#160;EcuM&#160;flex or combined.&#160;<br/>
<b>6.2.10.1&#160;&#160;Shutdown Target ECUM_STATE_RESET&#160;<br/></b>The&#160;shutdown&#160;target&#160;ECUM_STATE_RESET&#160;is&#160;available&#160;and&#160;the&#160;callou<a href="TechnicalReference_EcuMs.html#102">t&#160;EcuM_AL_Reset&#160;<br/></a>is&#160;&#160;available,&#160;independent&#160;&#160;of&#160;&#160;EcuM_Flex&#160;configuration.&#160;&#160;The&#160;&#160;ResetMode&#160;&#160;parameter&#160;&#160;will&#160;&#160;be&#160;<br/>passed&#160;&#160;to&#160;&#160;EcuM_AL_Reset&#160;&#160;but&#160;&#160;EcuM&#160;&#160;does&#160;not&#160;&#160;check&#160;&#160;if&#160;&#160;the&#160;&#160;parameter&#160;&#160;is&#160;&#160;valid,&#160;&#160;because&#160;<br/>this&#160;is a&#160;EcuM&#160;flex&#160;parameter.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
130&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=131></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>6.2.10.2&#160;&#160;Synchronization of&#160;EcuM&#160;and RTE&#160;modes&#160;<br/></b>Some&#160;transitions&#160;in&#160;the&#160;EcuM&#160;state&#160;machine&#160;lead&#160;to&#160;RTE&#160;mode&#160;switch&#160;notifications&#160;via&#160;the&#160;<br/>API&#160;Rte_Switch_currentMode_currentMode().&#160;<br/>If&#160;the&#160;acknowledge&#160;mechanism&#160;of&#160;the&#160;EcuM&#160;is&#160;configured&#160;active,&#160;EcuM&#160;remains&#160;in&#160;its&#160;state&#160;<br/>until&#160;the&#160;RTE&#160;has acknowledged&#160;the&#160;current&#160;mode&#160;switch.&#160;<br/>
<b>6.3&#160;</b><br/>
<b>Limitations&#160;</b><br/>
<b>6.3.1&#160;</b><br/>
<b>Inter&#160;Module&#160;Checks&#160;</b><br/>
The&#160;EcuM&#160;does not&#160;check the&#160;AUTOSAR&#160;version&#160;of&#160;included&#160;external&#160;modules.&#160;<br/>
<b>6.3.2&#160;</b><br/>
<b>Recording of&#160;Shutdown&#160;Causes&#160;</b><br/>
The&#160;EcuM&#160;does&#160;not&#160;&#160;support&#160;the&#160;facility&#160;to&#160;record&#160;recent&#160;shutdown&#160;causes.&#160;Therefore&#160;the&#160;<br/>following&#160;two&#160;APIs&#160;are&#160;not&#160;supported:&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_GetMostRecentShutdown()&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM_GetNextRecentShutdown()&#160;<br/>
<b>6.3.3&#160;</b><br/>
<b>Not&#160;Supported&#160;Configuration&#160;Parameters&#160;and&#160;Containers&#160;</b><br/>
Some&#160;of&#160;the&#160;specified&#160;configuration&#160;parameters&#160;are not&#160;supported.&#160;These&#160;parameters are&#160;<br/>marked&#160;with&#160;the&#160;addition&#160;“Not&#160;used”&#160;in&#160;the&#160;corresponding&#160;parameter&#160;description.&#160;The&#160;<br/>description&#160;is&#160;located&#160;within&#160;the&#160;module’s&#160;BSWMD&#160;file&#160;which&#160;is part&#160;of&#160;the&#160;delivery.&#160;<br/>The&#160;following&#160;containers&#160;(including&#160;the&#160;parameters)&#160;are&#160;not&#160;supported&#160;in&#160;this&#160;release:&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMShutdownTarget&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMTTII&#160;<br/>
The&#160;following&#160;parameters are&#160;not&#160;supported&#160;in&#160;this&#160;release:&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMSleepModeSuspend&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMAlarmClockTimeOut&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMFlexEcucPartitionRef&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMResetLoopDetection&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMIncludeDem&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMIncludeDet&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMNvramReadallTimeout&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMIncludeNvM&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMTTIIEnabled&#160;<br/>
<b>&gt;&#160;</b><br/>
EcuMTTIIWakeupSourceRef&#160;<br/>
&#160;<br/>
<b>6.3.4&#160;</b><br/>
<b>Wake-up&#160;Events&#160;after&#160;Reset&#160;Reason Translation are&#160;not&#160;Validated&#160;</b><br/>
During&#160;the&#160;initialization&#160;the&#160;EcuM&#160;get&#160;the&#160;reason&#160;for&#160;the&#160;current&#160;startup&#160;via&#160;the&#160;Mcu&#160;reset&#160;<br/>reason&#160;translation.&#160;For this translated&#160;events&#160;the&#160;wake-up&#160;validation&#160;is&#160;not&#160;performed.&#160;<br/>
<b>6.3.5&#160;</b><br/>
<b>EcuM&#160;Fixed&#160;Limitations&#160;</b><br/>
<b>&#160;&#160;</b>NvM_ReadAll()&#160;is&#160;not&#160;started&#160;by&#160;the&#160;EcuM.&#160;This&#160;can&#160;be&#160;done&#160;by&#160;the&#160;integrator&#160;e.g.&#160;<br/>
in&#160;DriverInitListTwo().&#160;<br/>
<b>&#160;&#160;</b>EcuM_AL_Reset&#160;is&#160;available,&#160;independent&#160;of&#160;EcuM_Flex&#160;configuration.&#160;ResetMode&#160;<br/>
parameter&#160;will&#160;be&#160;passed&#160;to&#160;EcuM_AL_Reset,&#160;but&#160;EcuM&#160;checks not&#160;if&#160;the&#160;parameter&#160;<br/>is valid.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
131&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=132></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>&#160;&#160;</b>TTII&#160;&#160;is&#160;&#160;not&#160;&#160;supported.&#160;&#160;As&#160;&#160;a&#160;&#160;consequence,&#160;&#160;the&#160;&#160;callout&#160;&#160;<a href="TechnicalReference_EcuMs.html#124">EcuM_OnWakeupReaction&#160;</a><br/>
has&#160;no&#160;parameter and&#160;no&#160;return value.&#160;<br/>
<b>&#160;&#160;</b>EcuM_WakeupReactionType&#160;is not&#160;supported.&#160;<br/><b>&#160;&#160;</b>EcuM_GetStatusOfWakeupSource&#160;is not&#160;supported.&#160;<br/><b>&#160;&#160;</b>The&#160;&#160;following&#160;&#160;APIs&#160;&#160;are&#160;&#160;not&#160;&#160;available&#160;&#160;if&#160;&#160;EcuM&#160;&#160;flex&#160;&#160;and&#160;&#160;EcuM&#160;&#160;fixed&#160;&#160;are&#160;&#160;both&#160;<br/>
configured:&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_EcuMs.html#81">EcuM_GoHalt&#160;</a><br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_EcuMs.html#82">EcuM_GoPoll&#160;</a><br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_EcuMs.html#83">EcuM_GoDown&#160;</a><br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_EcuMs.html#84">EcuM_GoToSelectedShutdownTarget&#160;</a><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
132&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=133></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>7&#160;&#160;Glossary&#160;and&#160;Abbreviations&#160;</b><br/>
<b>7.1&#160;</b><br/>
<b>Glossary&#160;</b><br/>
<b>Term&#160;</b><br/>
<b>Description&#160;</b><br/>
Configuration&#160;Tool&#160;<br/>
Tool&#160;for&#160;generation&#160;like&#160;DaVinci&#160;Configurator&#160;Pro&#160;<br/>
MSN&#160;<br/>
Module&#160;Short&#160;Name,&#160;the&#160;AUTOSAR&#160;short&#160;name&#160;of&#160;the&#160;module,&#160;e.g.&#160;Can,&#160;<br/>CanIf,&#160;EcuM,&#160;etc.&#160;<br/>
Table&#160;7-1&#160;&#160;&#160;Glossary&#160;<br/>
<b>7.2&#160;</b><br/>
<b>Abbreviations&#160;</b><br/>
<b>Abbreviation&#160;</b><br/>
<b>Description&#160;</b><br/>
API&#160;<br/>
Application&#160;Programming&#160;Interface&#160;&#160;&#160;<br/>
AUTOSAR&#160;<br/>
Automotive&#160;Open&#160;System&#160;Architecture&#160;<br/>
BSW&#160;<br/>
Basis&#160;Software&#160;<br/>
BSWMD&#160;<br/>
Basic&#160;Software&#160;Module&#160;Description&#160;<br/>
BswM&#160;<br/>
Basis&#160;Software&#160;Mode Manager&#160;<br/>
CAN&#160;<br/>
Controller&#160;Area&#160;Network&#160;<br/>
ComM&#160;<br/>
Communication&#160;Manager&#160;<br/>
DEM&#160;<br/>
Diagnostic&#160;Event&#160;Manager&#160;<br/>
DET&#160;<br/>
Development&#160;Error&#160;Tracer&#160;<br/>
ECU&#160;<br/>
Electronic&#160;Control&#160;Unit&#160;<br/>
EcuC&#160;<br/>
ECU&#160;configuration&#160;description&#160;<br/>
HIS&#160;<br/>
Hersteller&#160;Initiative&#160;Software&#160;<br/>
Gpt&#160;<br/>
General&#160;Purpose&#160;Timer&#160;<br/>
ICU&#160;<br/>
Input&#160;Capture Unit&#160;<br/>
ISR&#160;<br/>
Interrupt&#160;Service&#160;Routine&#160;<br/>
MCU&#160;<br/>
Microcontroller&#160;Unit&#160;<br/>
MICROSAR&#160;<br/>
Microcontroller&#160;Open&#160;System&#160;Architecture (the&#160;Vector&#160;AUTOSAR&#160;<br/>solution)&#160;<br/>
MSN&#160;<br/>
Module&#160;Short&#160;Name&#160;<br/>
PLL&#160;<br/>
Phase&#160;Locked&#160;Loop&#160;<br/>
RTE&#160;<br/>
Runtime&#160;Environment&#160;<br/>
SchM&#160;<br/>
Scheduling&#160;Manager&#160;<br/>
SRS&#160;<br/>
Software&#160;Requirement&#160;Specification&#160;<br/>
SWC&#160;<br/>
Software&#160;Component&#160;<br/>
SWS&#160;<br/>
Software&#160;Specification&#160;<br/>
Table&#160;7-2&#160;&#160;&#160;Abbreviations&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
133&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name=134></a>Technical Reference&#160;MICROSAR EcuM&#160;Flex&#160;<br/>
<b>8&#160;&#160;Contact&#160;</b><br/>
Visit&#160;our&#160;website&#160;for more information&#160;on&#160;<br/>&#160;<br/><b>&gt;&#160;&#160;</b>News&#160;<br/>
<b>&gt;&#160;&#160;</b>Products&#160;<br/>
<b>&gt;&#160;&#160;</b>Demo&#160;software&#160;<br/>
<b>&gt;&#160;&#160;</b>Support&#160;<br/>
<b>&gt;&#160;&#160;</b>Training&#160;data&#160;<br/>
<b>&gt;&#160;&#160;</b>Addresses&#160;<br/>
&#160;<br/>www.vector.com&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;5.00.00&#160;<br/>
134&#160;/&#160;134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;4.8.3&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_EcuMs.html#13">1 Component History</a></li>
<li><a href="TechnicalReference_EcuMs.html#14">2 Introduction</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#15">2.1 Architecture Overview</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#17">3 Functional Description</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#17">3.1 Features</a></li>
<li><a href="TechnicalReference_EcuMs.html#19">3.2 States of EcuM flex</a></li>
<li><a href="TechnicalReference_EcuMs.html#20">3.3 States of EcuM fixed</a></li>
<li><a href="TechnicalReference_EcuMs.html#22">3.4 The State Diagram of the EcuM flex</a></li>
<li><a href="TechnicalReference_EcuMs.html#23">3.5 The State Diagram of the EcuM with fixed state machine</a></li>
<li><a href="TechnicalReference_EcuMs.html#24">3.6 Initialization</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#24">3.6.1 EcuM_Init</a></li>
<li><a href="TechnicalReference_EcuMs.html#24">3.6.2 EcuM_StartupTwo</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#24">3.6.2.1 EcuM_StartupTwo in case of EcuM flex</a></li>
<li><a href="TechnicalReference_EcuMs.html#24">3.6.2.2 EcuM_StartupTwo in case of EcuM fixed</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#24">3.6.3 Initialization Order</a></li>
<li><a href="TechnicalReference_EcuMs.html#25">3.6.4 Additional Code in the Initialization Callouts</a></li>
<li><a href="TechnicalReference_EcuMs.html#26">3.6.5 Inclusion of Additional Header Files</a></li>
<li><a href="TechnicalReference_EcuMs.html#26">3.6.6 Configuration Set Selection</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#27">3.7 Initialization of a MultiCore ECU</a></li>
<li><a href="TechnicalReference_EcuMs.html#27">3.8 Shutdown Targets</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#27">3.8.1 Using the API EcuM_SelectShutdownTarget()</a></li>
<li><a href="TechnicalReference_EcuMs.html#27">3.8.2 Default Shutdown Target</a></li>
<li><a href="TechnicalReference_EcuMs.html#27">3.8.3 Reset Modes</a></li>
<li><a href="TechnicalReference_EcuMs.html#28">3.8.4 Sleep Modes</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#28">3.9 Wake-up Sources</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#28">3.9.1 Validation Timeout</a></li>
<li><a href="TechnicalReference_EcuMs.html#29">3.9.2 Check-Wakeup Validation Timeout</a></li>
<li><a href="TechnicalReference_EcuMs.html#29">3.9.3 ComM Channel Reference</a></li>
<li><a href="TechnicalReference_EcuMs.html#29">3.9.4 Polling of Wake-up Sources</a></li>
<li><a href="TechnicalReference_EcuMs.html#29">3.9.5 MCU Reset Reason</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#30">3.10 Main Functions</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#30">3.10.1 Wake-up Validation Protocol</a></li>
<li><a href="TechnicalReference_EcuMs.html#32">3.10.2 Wake-up Validation Protocol for asynchronous Can transceiver</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#33">3.11 Error Handling</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#33">3.11.1 Development Error Reporting</a></li>
<li><a href="TechnicalReference_EcuMs.html#35">3.11.2 Production Code Error Reporting</a></li>
<li><a href="TechnicalReference_EcuMs.html#35">1.1.1</a></li>
<li><a href="TechnicalReference_EcuMs.html#35">1.1.1</a></li>
<li><a href="TechnicalReference_EcuMs.html#35">1.1.1</a></li>
<li><a href="TechnicalReference_EcuMs.html#35">1.1.1</a></li>
<li><a href="TechnicalReference_EcuMs.html#35">3.11.3 EcuM_ErrorHook</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#36">3.12 Callout Execution Sequences</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#36">3.12.1 Callouts from Startup to Run</a></li>
<li><a href="TechnicalReference_EcuMs.html#37">3.12.2 Callouts from Run to Sleep (Halt) and back to Run</a></li>
<li><a href="TechnicalReference_EcuMs.html#38">3.12.3 Callouts from Run to Reset</a></li>
<li><a href="TechnicalReference_EcuMs.html#38">3.12.4 Callouts from Run to Off</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#39">3.13 EcuM Flex Users and Defensive Behavior</a></li>
<li><a href="TechnicalReference_EcuMs.html#40">3.14 Alarm Clock</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#40">3.14.1 Configuring the Gpt to provide the Time base</a></li>
<li><a href="TechnicalReference_EcuMs.html#40">3.14.2 Configuring the EcuM for using the Alarm Clock</a></li>
<li><a href="TechnicalReference_EcuMs.html#41">3.14.3 Setting of the EcuM Clock</a></li>
<li><a href="TechnicalReference_EcuMs.html#41">3.14.4 Setting of a Time Triggered Wake Up Alarm</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#42">3.15 MultiCore Ecu</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#42">3.15.1 Initialization of a MultiCore ECU</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#42">3.15.1.1 Initialization on the Master Core</a></li>
<li><a href="TechnicalReference_EcuMs.html#43">3.15.1.2 Initialization on the Slave Core</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#43">3.15.1.2.1 Driver initialization on the Slave Core</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#44">3.15.2 Sleep handling of slave cores</a></li>
<li><a href="TechnicalReference_EcuMs.html#45">3.15.3 Blocking of the BSW Scheduler during Sleep</a></li>
<li><a href="TechnicalReference_EcuMs.html#45">3.15.4 Shutdown of the MultiCore ECU</a></li>
<li><a href="TechnicalReference_EcuMs.html#45">3.15.5 Reconfiguration of the BSW Core ID</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#46">3.16 Mode Handling for EcuM Flex</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#46">3.16.1 Mode Handling</a></li>
<li><a href="TechnicalReference_EcuMs.html#47">3.16.2 Run Request Protocol</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#48">3.17 Generated Template Files</a></li>
<li><a href="TechnicalReference_EcuMs.html#48">3.18 Wake-up Event Handling and Wake-up Validation</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#48">3.18.1 Wake-up after a Physical Sleep Mode</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#48">3.18.1.1 Use Case Description</a></li>
<li><a href="TechnicalReference_EcuMs.html#49">3.18.1.2 Execution Flow</a></li>
<li><a href="TechnicalReference_EcuMs.html#49">3.18.1.3 Callout Implementation Examples</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#50">3.18.2 Wake-up Validation of Communication Channels (ECUM in RUN State)</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#50">3.18.2.1 Use Case Description</a></li>
<li><a href="TechnicalReference_EcuMs.html#50">3.18.2.2 Execution Flow</a></li>
<li><a href="TechnicalReference_EcuMs.html#51">3.18.2.3 Callout Implementation Examples</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#51">3.18.2.3.1 EcuM_CheckWakeup</a></li>
<li><a href="TechnicalReference_EcuMs.html#51">3.18.2.3.2 EcuM_CheckValidation</a></li>
<li><a href="TechnicalReference_EcuMs.html#51">3.18.2.3.3 EcuM_StartWakeupSources and EcuM_StopWakeupSources in the case of a MICROSAR CanSM</a></li>
<li><a href="TechnicalReference_EcuMs.html#52">3.18.2.3.4 EcuM_StartWakeupSources and EcuM_StopWakeupSources in the case of a non MICROSAR CanSM</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#53">4 Integration</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#53">4.1 Scope of Delivery</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#53">4.1.1 Static Files</a></li>
<li><a href="TechnicalReference_EcuMs.html#53">4.1.2 Dynamic Files</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#54">4.2 Critical Sections</a></li>
<li><a href="TechnicalReference_EcuMs.html#55">4.3 Include Structure</a></li>
<li><a href="TechnicalReference_EcuMs.html#56">4.4 Dependencies on other BSW Modules</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#56">4.4.1 BswM</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#56">4.4.1.1 BswM and EcuM fixed</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#56">4.4.2 AUTOSAR OS</a></li>
<li><a href="TechnicalReference_EcuMs.html#56">4.4.3 MCU</a></li>
<li><a href="TechnicalReference_EcuMs.html#56">4.4.4 DEM</a></li>
<li><a href="TechnicalReference_EcuMs.html#56">4.4.5 DET</a></li>
<li><a href="TechnicalReference_EcuMs.html#56">4.4.6 ComM</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#56">4.4.6.1 ComM and EcuM fixed</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#57">4.4.7 SchM</a></li>
<li><a href="TechnicalReference_EcuMs.html#57">4.4.8 Gpt</a></li>
<li><a href="TechnicalReference_EcuMs.html#57">4.4.9 NvM</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#58">5 API Description</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#58">5.1 Type Definitions</a></li>
<li><a href="TechnicalReference_EcuMs.html#62">5.2 Services Provided by EcuM</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#62">5.2.1 EcuM_MainFunction</a></li>
<li><a href="TechnicalReference_EcuMs.html#63">5.2.2 EcuM_Init</a></li>
<li><a href="TechnicalReference_EcuMs.html#64">5.2.3 EcuM_StartupTwo</a></li>
<li><a href="TechnicalReference_EcuMs.html#65">5.2.4 EcuM_Shutdown</a></li>
<li><a href="TechnicalReference_EcuMs.html#66">5.2.5 EcuM_SelectShutdownTarget</a></li>
<li><a href="TechnicalReference_EcuMs.html#67">5.2.6 EcuM_GetShutdownTarget</a></li>
<li><a href="TechnicalReference_EcuMs.html#68">5.2.7 EcuM_GetLastShutdownTarget</a></li>
<li><a href="TechnicalReference_EcuMs.html#69">5.2.8 EcuM_GetPendingWakeupEvents</a></li>
<li><a href="TechnicalReference_EcuMs.html#69">5.2.9 EcuM_ClearWakeupEvent</a></li>
<li><a href="TechnicalReference_EcuMs.html#70">5.2.10 EcuM_ClearValidatedWakeupEvent</a></li>
<li><a href="TechnicalReference_EcuMs.html#71">5.2.11 EcuM_GetValidatedWakeupEvents</a></li>
<li><a href="TechnicalReference_EcuMs.html#72">5.2.12 EcuM_GetExpiredWakeupEvents</a></li>
<li><a href="TechnicalReference_EcuMs.html#72">5.2.13 EcuM_GetBootTarget</a></li>
<li><a href="TechnicalReference_EcuMs.html#73">5.2.14 EcuM_SelectBootTarget</a></li>
<li><a href="TechnicalReference_EcuMs.html#74">5.2.15 EcuM_StartCheckWakeup</a></li>
<li><a href="TechnicalReference_EcuMs.html#75">5.2.16 EcuM_EndCheckWakeup</a></li>
<li><a href="TechnicalReference_EcuMs.html#75">5.2.17 EcuM_GetVersionInfo</a></li>
<li><a href="TechnicalReference_EcuMs.html#76">5.2.18 EcuM_RequestRUN</a></li>
<li><a href="TechnicalReference_EcuMs.html#77">5.2.19 EcuM_ReleaseRUN</a></li>
<li><a href="TechnicalReference_EcuMs.html#78">5.2.20 EcuM_RequestPOST_RUN</a></li>
<li><a href="TechnicalReference_EcuMs.html#79">5.2.21 EcuM_ReleasePOST_RUN</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#80">5.3 Services Provided by EcuM flex</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#80">5.3.1 EcuM_SelectShutdownCause</a></li>
<li><a href="TechnicalReference_EcuMs.html#81">5.3.2 EcuM_GetShutdownCause</a></li>
<li><a href="TechnicalReference_EcuMs.html#81">5.3.3 EcuM_GoHalt</a></li>
<li><a href="TechnicalReference_EcuMs.html#82">5.3.4 EcuM_GoPoll</a></li>
<li><a href="TechnicalReference_EcuMs.html#83">5.3.5 EcuM_GoDown</a></li>
<li><a href="TechnicalReference_EcuMs.html#84">5.3.6 EcuM_GoToSelectedShutdownTarget</a></li>
<li><a href="TechnicalReference_EcuMs.html#85">5.3.7 EcuM_SetRelWakeupAlarm</a></li>
<li><a href="TechnicalReference_EcuMs.html#86">5.3.8 EcuM_SetAbsWakeupAlarm</a></li>
<li><a href="TechnicalReference_EcuMs.html#87">5.3.9 EcuM_AbortWakeupAlarm</a></li>
<li><a href="TechnicalReference_EcuMs.html#88">5.3.10 EcuM_GetWakeupTime</a></li>
<li><a href="TechnicalReference_EcuMs.html#89">5.3.11 EcuM_SetClock</a></li>
<li><a href="TechnicalReference_EcuMs.html#90">5.3.12 EcuM_GetCurrentTime</a></li>
<li><a href="TechnicalReference_EcuMs.html#91">5.3.13 EcuM_SetState</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#92">5.4 Services Provided by EcuM fixed</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#92">5.4.1 EcuM_GetState</a></li>
<li><a href="TechnicalReference_EcuMs.html#93">5.4.2 EcuM_KillAllRUNRequests</a></li>
<li><a href="TechnicalReference_EcuMs.html#94">5.4.3 EcuM_KillAllPostRUNRequests</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#95">5.5 Services Used by EcuM</a></li>
<li><a href="TechnicalReference_EcuMs.html#96">5.6 Callback Functions</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#96">5.6.1 EcuM_SetWakeupEvent</a></li>
<li><a href="TechnicalReference_EcuMs.html#97">5.6.2 EcuM_ValidateWakeupEvent</a></li>
<li><a href="TechnicalReference_EcuMs.html#98">5.6.3 EcuM_AlarmCheckWakeup</a></li>
<li><a href="TechnicalReference_EcuMs.html#99">5.6.4 Callback Functions by EcuM fixed</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#99">5.6.4.1 EcuM_CB_NfyNvMJobEnd</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#99">5.7 Configurable Interfaces</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#99">5.7.1 Notifications</a></li>
<li><a href="TechnicalReference_EcuMs.html#99">5.7.2 Callout Functions</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#100">5.7.2.1 EcuM_ErrorHook</a></li>
<li><a href="TechnicalReference_EcuMs.html#100">5.7.2.2 EcuM_OnGoOffOne</a></li>
<li><a href="TechnicalReference_EcuMs.html#101">5.7.2.3 EcuM_OnGoOffTwo</a></li>
<li><a href="TechnicalReference_EcuMs.html#101">5.7.2.4 EcuM_AL_SwitchOff</a></li>
<li><a href="TechnicalReference_EcuMs.html#102">5.7.2.5 EcuM_AL_Reset</a></li>
<li><a href="TechnicalReference_EcuMs.html#102">5.7.2.6 EcuM_AL_DriverInitZero</a></li>
<li><a href="TechnicalReference_EcuMs.html#103">5.7.2.7 EcuM_AL_DriverInitOne</a></li>
<li><a href="TechnicalReference_EcuMs.html#104">5.7.2.8 EcuM_AL_DriverRestart</a></li>
<li><a href="TechnicalReference_EcuMs.html#105">5.7.2.9 EcuM_AL_SetProgrammableInterrupts</a></li>
<li><a href="TechnicalReference_EcuMs.html#105">5.7.2.10 EcuM_McuSetMode</a></li>
<li><a href="TechnicalReference_EcuMs.html#106">5.7.2.11 EcuM_WaitForSlaveCores</a></li>
<li><a href="TechnicalReference_EcuMs.html#106">5.7.2.12 EcuM_StartOS</a></li>
<li><a href="TechnicalReference_EcuMs.html#107">5.7.2.13 EcuM_ShutdownOS</a></li>
<li><a href="TechnicalReference_EcuMs.html#108">5.7.2.14 EcuM_GenerateRamHash</a></li>
<li><a href="TechnicalReference_EcuMs.html#108">5.7.2.15 EcuM_CheckRamHash</a></li>
<li><a href="TechnicalReference_EcuMs.html#109">5.7.2.16 EcuM_SleepActivity</a></li>
<li><a href="TechnicalReference_EcuMs.html#110">5.7.2.17 EcuM_EnableWakeupSources</a></li>
<li><a href="TechnicalReference_EcuMs.html#110">5.7.2.18 EcuM_DisableWakeupSources</a></li>
<li><a href="TechnicalReference_EcuMs.html#111">5.7.2.19 EcuM_StartWakeupSources</a></li>
<li><a href="TechnicalReference_EcuMs.html#111">5.7.2.20 EcuM_StopWakeupSources</a></li>
<li><a href="TechnicalReference_EcuMs.html#112">5.7.2.21 EcuM_CheckWakeup</a></li>
<li><a href="TechnicalReference_EcuMs.html#112">5.7.2.22 EcuM_CheckValidation</a></li>
<li><a href="TechnicalReference_EcuMs.html#113">5.7.2.23 EcuM_DeterminePbConfiguration</a></li>
<li><a href="TechnicalReference_EcuMs.html#114">5.7.2.24 EcuM_BswErrorHook</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#115">5.7.3 Callout Functions by EcuM flex</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#115">5.7.3.1 EcuM_GptStartClock</a></li>
<li><a href="TechnicalReference_EcuMs.html#116">5.7.3.2 EcuM_GptSetSleep</a></li>
<li><a href="TechnicalReference_EcuMs.html#117">5.7.3.3 EcuM_GptSetNormal</a></li>
<li><a href="TechnicalReference_EcuMs.html#118">5.7.3.4 EcuM_AL_DriverInitBswM_&lt;ID&gt;</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#119">5.7.4 Callout Functions by EcuM fixed</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#119">5.7.4.1 EcuM_AL_DriverInitTwo</a></li>
<li><a href="TechnicalReference_EcuMs.html#120">5.7.4.2 EcuM_AL_DriverInitThree</a></li>
<li><a href="TechnicalReference_EcuMs.html#121">5.7.4.3 EcuM_OnEnterRun</a></li>
<li><a href="TechnicalReference_EcuMs.html#121">5.7.4.4 EcuM_OnExitRun</a></li>
<li><a href="TechnicalReference_EcuMs.html#122">5.7.4.5 EcuM_OnGoSleep</a></li>
<li><a href="TechnicalReference_EcuMs.html#122">5.7.4.6 EcuM_OnPrepShutdown</a></li>
<li><a href="TechnicalReference_EcuMs.html#123">5.7.4.7 EcuM_OnExitPostRun</a></li>
<li><a href="TechnicalReference_EcuMs.html#123">5.7.4.8 EcuM_OnFailedNvmWriteAllJobReaction</a></li>
<li><a href="TechnicalReference_EcuMs.html#124">5.7.4.9 EcuM_OnWakeupReaction</a></li>
<li><a href="TechnicalReference_EcuMs.html#124">5.7.4.10 EcuM_OnRTEStartup</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#125">5.8 Service Ports</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#125">5.8.1 Client Server Interface</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#125">5.8.1.1 Provide Ports on EcuM Side</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#125">5.8.1.1.1 ShutdownTarget Port</a></li>
<li><a href="TechnicalReference_EcuMs.html#125">5.8.1.1.2 BootTarget Port</a></li>
<li><a href="TechnicalReference_EcuMs.html#126">5.8.1.1.3 AlarmClock Port</a></li>
<li><a href="TechnicalReference_EcuMs.html#126">5.8.1.1.4 StateRequest Port</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#127">5.8.1.2 Require Ports on EcuM Side</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#127">5.8.1.2.1 currentMode Port</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#128">6 AUTOSAR Standard Compliance</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#128">6.1 Deviations</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#128">6.1.1 Deviation in the Naming of API Parameters</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#128">6.1.1.1 ResetSleepMode</a></li>
<li><a href="TechnicalReference_EcuMs.html#128">6.1.1.2 TargetState</a></li>
<li><a href="TechnicalReference_EcuMs.html#128">6.1.1.3 ShutdownTarget</a></li>
<li><a href="TechnicalReference_EcuMs.html#128">6.1.1.4 Target (ShutdownTarget)</a></li>
<li><a href="TechnicalReference_EcuMs.html#128">6.1.1.5 Target (BootTarget)</a></li>
<li><a href="TechnicalReference_EcuMs.html#128">6.1.1.6 Sources</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#128">6.1.2 Starting of the Validation Timer</a></li>
<li><a href="TechnicalReference_EcuMs.html#128">6.1.3 Multiplicity of Parameters</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#128">6.1.3.1 &#160;EcuMResetReasonRef</a></li>
<li><a href="TechnicalReference_EcuMs.html#129">6.1.3.2 EcuMSleepMode</a></li>
<li><a href="TechnicalReference_EcuMs.html#129">6.1.3.3 EcuMConfigConsistencyHash</a></li>
<li><a href="TechnicalReference_EcuMs.html#129">6.1.3.4 Removed parameter ConfigPtr from DriverInit Lists</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#129">6.2 Additions/ Extensions</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#129">6.2.1 Additional Configuration Parameters</a></li>
<li><a href="TechnicalReference_EcuMs.html#129">6.2.2 Buffering of Wake ups if the BswM is Not Initialized</a></li>
<li><a href="TechnicalReference_EcuMs.html#130">6.2.3 Buffering of Wake ups if the ComM is Not Initialized</a></li>
<li><a href="TechnicalReference_EcuMs.html#130">6.2.4 Additional API EcuM_ClearValidatedWakeupEvent</a></li>
<li><a href="TechnicalReference_EcuMs.html#130">6.2.5 Support of Asynchronous Transceiver Handling</a></li>
<li><a href="TechnicalReference_EcuMs.html#130">6.2.6 Deferred notification of the BswM about wake-up events</a></li>
<li><a href="TechnicalReference_EcuMs.html#130">6.2.7 Additional Callback EcuM_AlarmCheckWakeup</a></li>
<li><a href="TechnicalReference_EcuMs.html#130">6.2.8 Additional API EcuM_GoToSelectedShutdownTarget</a></li>
<li><a href="TechnicalReference_EcuMs.html#130">6.2.9 Additional Callout EcuM_WaitForSlaveCores</a></li>
<li><a href="TechnicalReference_EcuMs.html#130">6.2.10 Support of EcuM fixed</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#130">6.2.10.1 Shutdown Target ECUM_STATE_RESET</a></li>
<li><a href="TechnicalReference_EcuMs.html#131">6.2.10.2 Synchronization of EcuM and RTE modes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#131">6.3 Limitations</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#131">6.3.1 Inter Module Checks</a></li>
<li><a href="TechnicalReference_EcuMs.html#131">6.3.2 Recording of Shutdown Causes</a></li>
<li><a href="TechnicalReference_EcuMs.html#131">6.3.3 Not Supported Configuration Parameters and Containers</a></li>
<li><a href="TechnicalReference_EcuMs.html#131">6.3.4 Wake-up Events after Reset Reason Translation are not Validated</a></li>
<li><a href="TechnicalReference_EcuMs.html#131">6.3.5 EcuM Fixed Limitations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#133">7 Glossary and Abbreviations</a>
<ul>
<li><a href="TechnicalReference_EcuMs.html#133">7.1 Glossary</a></li>
<li><a href="TechnicalReference_EcuMs.html#133">7.2 Abbreviations</a></li>
</ul>
</li>
<li><a href="TechnicalReference_EcuMs.html#134">8 Contact</a></li>
</ul>
<hr/>
</body>
</html>
