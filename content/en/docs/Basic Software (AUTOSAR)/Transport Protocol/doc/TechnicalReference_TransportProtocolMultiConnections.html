---
title: TechnicalReference_TransportProtocolMultiConnections
linkTitle: TechnicalReference_TransportProtocolMultiConnections
weight: 5
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-1_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>
<b>Transport&#160;Protocol&#160;ISO15765-2&#160;<br/></b>Technical Reference&#160;<br/>&#160;<br/>
Single/Multiple Connection&#160;<br/>Version&#160;3.14.00&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Authors&#160;<br/>
Oliver&#160;&#160;Garnatz,&#160;&#160;Andreas&#160;&#160;Pick,&#160;&#160;Peter&#160;&#160;Herrmann,&#160;<br/>Thomas Dedler&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
1&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=2></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-2_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Document&#160;Information&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;</b><br/>
<b>Remarks&#160;</b><br/>
Rein&#160;<br/>
1999-06-22&#160;<br/>
1.0&#160;<br/>
File created&#160;<br/>
Baeuerle&#160;<br/>
1999-11-02&#160;<br/>
1.42&#160;<br/>
Description&#160;of&#160;connection&#160;<br/>specific&#160;timing&#160;parameters&#160;<br/>added&#160;<br/>
Ebner&#160;<br/>
2000-07-17&#160;<br/>
1.51&#160;<br/>
Single connection&#160;version&#160;<br/>removed;&#160;documents&#160;only&#160;<br/>contains&#160;multiple connection&#160;<br/>extensions&#160;<br/>
Garnatz&#160;<br/>
2000-09-19&#160;<br/>
2.03&#160;<br/>
Adaptation&#160;to new&#160;<br/>MultiConnection&#160;TP&#160;<br/>
Garnatz&#160;<br/>
2001-02-09&#160;<br/>
2.07&#160;<br/>
Added&#160;new&#160;functionality&#160;&#160;<br/>
Garnatz&#160;<br/>
2001-05-11&#160;<br/>
2.10&#160;<br/>
Update&#160;new&#160;Generation&#160;Tool&#160;<br/>versions&#160;<br/>
Garnatz&#160;<br/>
2001-09-14&#160;<br/>
2.17&#160;<br/>
General&#160;improvement;&#160;&#160;<br/>Update&#160;to&#160;version&#160;2.17&#160;of&#160;<br/>tpmc.c&#160;module&#160;&#160;<br/>
Garnatz&#160;<br/>
2002-01.24&#160;<br/>
2.27&#160;<br/>
SingleConnection&#160;version is&#160;<br/>added;&#160;Protocol-Overview&#160;is&#160;<br/>added&#160;<br/>
Garnatz&#160;<br/>
2002-06-18&#160;<br/>
2.33&#160;<br/>
Added&#160;restrictions&#160;for&#160;data&#160;<br/>consistency&#160;<br/>
Pick&#160;/&#160;Garnatz&#160;<br/>
2002-10-16&#160;<br/>
2.36&#160;<br/>
Update:&#160;CAN&#160;Driver&#160;in polling&#160;<br/>mode&#160;<br/>Added:&#160;Fast&#160;transmission of&#160;<br/>ConsecutiveFrames&#160;<br/>Update:&#160;Usage&#160;of&#160;TransmitCF&#160;<br/>parameter&#160;<br/>
Garnatz&#160;<br/>
2002-11-29&#160;<br/>
2.37&#160;<br/>
General&#160;rework&#160;&#160;<br/>
Garnatz&#160;<br/>
2003-01-16&#160;<br/>
2.39&#160;<br/>
Update:&#160;<br/>TpTransmit/CopyToCan/Appl<br/>TpCheckTA&#160;<br/>
Garnatz&#160;<br/>
2004-01-13&#160;<br/>
2.44&#160;<br/>
Update:&#160;ApplTpCopyToCAN&#160;<br/>
Pick&#160;<br/>
2004-03-01&#160;<br/>
2.52&#160;<br/>
Update:&#160;Mixed&#160;29-bit&#160;ID&#160;<br/>addressing&#160;<br/>TpRxGetCanBuffer&#160;<br/>TpRxSetBufferOverrun&#160;<br/>TpRxGetAddressExtension&#160;<br/>TpTxSetAddressExtension&#160;<br/>
Pick&#160;<br/>
2004-05-14&#160;<br/>
2.60&#160;<br/>
Multiple ECUs&#160;example&#160;<br/>Restriction&#160;on&#160;<br/>TpTxStateTask/TpRxStateTas<br/>k&#160;<br/>Tx/Rx&#160;message&#160;buffer&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
2&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-3_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
consistency&#160;clarification&#160;<br/>Return value&#160;of&#160;<br/>ApplTpPreCopyCheck&#160;<br/>Mixed&#160;11-bit&#160;ID&#160;addressing&#160;<br/>TpTransmit()&#160;return values&#160;<br/>Added&#160;TpCanChannelInit()&#160;<br/>Added&#160;TpRxSetTransmitID()&#160;<br/>Changed&#160;<br/>TpRxSetBufferOverrun&#160;<br/>Changed&#160;<br/>ApplTpTxCopyToCAN&#160;<br/>Changes&#160;in chapter&#160;‘How&#160;to&#160;<br/>serve Different&#160;&#160;<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Connections&#160;(only&#160;<br/>dynamic&#160;channels)’.&#160;<br/>
Pick&#160;<br/>
2004-12-01&#160;<br/>
2.68&#160;<br/>
Added&#160;description&#160;for&#160;GENy&#160;<br/>configuration&#160;tool&#160;<br/>(ESCAN00008734).&#160;&#160;<br/>Update&#160;of&#160;API&#160;description&#160;<br/>(ESCAN00008314).&#160;<br/>Feature&#160;list&#160;added&#160;<br/>(ESCAN00008315).&#160;<br/>Prototype&#160;parameter&#160;<br/>corrected&#160;(ESCAN00009965)&#160;<br/>&#160;<br/>
Pick&#160;<br/>
2005-04-07&#160;<br/>
2.72.00&#160;<br/>
Added&#160;description&#160;for&#160;multiple&#160;<br/>addressing&#160;systems.&#160;<br/>C++&#160;access&#160;to&#160;TPMC.&#160;<br/>
Pick&#160;<br/>
2005-07-14&#160;<br/>
2.73.00&#160;<br/>
Added&#160;description&#160;for&#160;GENy&#160;<br/>configuration&#160;<br/>
Herrmann&#160;<br/>
2005-07-19&#160;<br/>
2.73.00&#160;<br/>
Added&#160;new&#160;API&#160;functions:&#160;<br/>TpRxSetWaitCorrectSN,&#160;<br/>TpTxSetStrictFlowControlChe<br/>ck&#160;<br/>
Herrmann&#160;<br/>
2005-08-11&#160;<br/>
2.73.00&#160;<br/>
Added&#160;new&#160;API&#160;functions:&#160;<br/>TpRxSetTimeoutConfirmation<br/>, &#160;<br/>TpTxSetTimeoutConfirmation,&#160;<br/>TpRxSetTimeoutCF,&#160;<br/>TpTxSetTimeoutCF&#160;&#160;&#160;<br/>
Garnatz&#160;<br/>
2006-01-13&#160;<br/>
2.80.00&#160;<br/>
Added&#160;deviation to&#160;ISO&#160;<br/>15765-2&#160;&#160;<br/>
Herrmann&#160;<br/>
2006-02-08&#160;<br/>
2.82.00&#160;<br/>
ISO&#160;15765-2&#160;deviations&#160;<br/>elaborated&#160;<br/>
Herrmann&#160;<br/>
2006-03-03&#160;<br/>
2.86.00&#160;<br/>
Cleanup (ESCAN15514)&#160;<br/>
Herrmann&#160;<br/>
2006-03-23&#160;<br/>
2.86.00&#160;<br/>
ISO&#160;15765-2&#160;deviations&#160;<br/>elaborated&#160;<br/>
Herrmann&#160;<br/>
2006-04-11&#160;<br/>
2.87.00&#160;<br/>
General&#160;rework&#160;after&#160;review&#160;<br/>
Herrmann&#160;<br/>
2006-07-03&#160;<br/>
2.89.00&#160;<br/>
Added&#160;WaitFrame handling.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
3&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=4></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-4_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
Herrmann&#160;<br/>
2007-02-01&#160;<br/>
2.90.00&#160;<br/>
Added&#160;OEM&#160;feature&#160;<br/>TP_ENABLE_STRICT_DL_C<br/>HECK&#160;&#160;<br/>
Herrmann&#160;<br/>
2007-02-23&#160;<br/>
2.91.00&#160;<br/>
Added&#160;feature&#160;<br/>TP_DISABLE_MF_RECEPTI<br/>ON&#160;<br/>
Herrmann&#160;<br/>
2007-03-14&#160;<br/>
2.92.00&#160;<br/>
Added&#160;ApplFuncTpPrecopy&#160;<br/>callback&#160;description&#160;and&#160;<br/>reduced&#160;TpRxResetChannel&#160;<br/>API&#160;usage&#160;to&#160;indication point&#160;<br/>in time&#160;or&#160;after.&#160;<br/>
Herrmann&#160;<br/>
2007-09-20&#160;<br/>
2.93.00&#160;<br/>
Completed&#160;Multiple ECU&#160;<br/>description&#160;(see&#160;chapter&#160;<br/><a href="TechnicalReference_TransportProtocolMultiConnections.html#166">7.3.1)</a>.&#160;Added&#160;TpRxGet-<br/>AddressingFormat&#160;/&#160;<br/>AssignedDestination&#160;<br/>description.&#160;<br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;VERSION&#160;3.xx&#160;&#160;<br/>
Herrmann&#160;<br/>
2007-10-15&#160;<br/>
3.00.00&#160;<br/>
Added&#160;description&#160;for&#160;new&#160;<br/>TpClass&#160;&#160;<br/>“Dispatched&lt;AddressingType&gt;”&#160;&#160;<br/>
Herrmann&#160;<br/>
2007-11-20&#160;<br/>
3.01.00&#160;<br/>
Cosmetics&#160;/&#160;Syntax&#160;<br/>
Herrmann&#160;<br/>
2008-01-14&#160;<br/>
3.02.00&#160;<br/>
New&#160;API:&#160;<br/>TpTxGetTargetAddress&#160;<br/>
Herrmann&#160;<br/>
2008-02-12&#160;<br/>
3.03.00&#160;<br/>
Minor&#160;corrections&#160;within&#160;API&#160;<br/>descriptions&#160;<br/>(ApplTpTxErrorIndication,&#160;<br/>TpRxGetCanBuffer)&#160;<br/>
Herrmann&#160;<br/>
2008-04-17,&#160;<br/>
3.04.00&#160;<br/>
Added&#160;description&#160;for&#160;<br/>
&#160;<br/>
TP_ENBLE_DYN_CHANNEL_TIM<br/>ING.&#160;<br/>
2008-07-17&#160;<br/>
Added&#160;description&#160;for&#160;the&#160;usage&#160;<br/>of&#160;extended identifiers&#160;for&#160;<br/>normal&#160;addressing&#160;as&#160;well&#160;at&#160;<br/>configuration&#160;time&#160;as&#160;also&#160;<br/>dynamically&#160;at&#160;runtime&#160;<br/>(TP_USE_EXT_IDS_FOR_NO<br/>RMAL).&#160;<br/>
Herrmann&#160;<br/>
2008-12-10&#160;<br/>
3.05.00&#160;<br/>
Added&#160;description&#160;for&#160;<br/>GenMsgDelay&#160;attribute&#160;in&#160;<br/>chapter<a href="TechnicalReference_TransportProtocolMultiConnections.html#46">&#160;3.4.1&#160;</a><br/>
Herrmann&#160;<br/>
2009-01-25&#160;<br/>
3.07.00&#160;<br/>
Adapted&#160;version number&#160;to&#160;<br/>ALM&#160;package&#160;number&#160;(3.06.00&#160;<br/>skipped)&#160;<br/>
Herrmann&#160;<br/>
2009-11-25&#160;<br/>
3.08.00&#160;<br/>
Added&#160;description&#160;for&#160;reception&#160;<br/>and transmission&#160;without&#160;flow&#160;<br/>control&#160;frames&#160;for&#160;dyn.&#160;<br/>(TpRxWithoutFC,&#160;<br/>TpTxWithoutFC)&#160;and&#160;static&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
4&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=5></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-5_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
(TpTxFlowControl,&#160;<br/>TpRxFlowControl&#160;<br/>)&#160;Tp classes.&#160;<br/>
Herrmann&#160;<br/>
2010-01-12&#160;<br/>
3.09.00&#160;<br/>
Enhanced&#160;description&#160;for&#160;DLC&#160;<br/>checks&#160;on&#160;the&#160;Rx&#160;side&#160;(see&#160;<br/><a href="TechnicalReference_TransportProtocolMultiConnections.html#32">2.4.2.5).</a>&#160;<br/>Added&#160;API&#160;functions&#160;for&#160;29-Bit&#160;<br/>ext.&#160;Id&#160;dynamic&#160;handling.&#160;<br/>
Heil&#160;<br/>
2010-11-08&#160;<br/>
3.10.00&#160;<br/>
Added&#160;more&#160;flexibility&#160;for&#160;DLC&#160;<br/>checks&#160;on&#160;the&#160;Rx&#160;side&#160;(see&#160;<br/><a href="TechnicalReference_TransportProtocolMultiConnections.html#32">2.4.2.5)</a>&#160;<br/>
Herrmann&#160;<br/>
2011-01-19&#160;<br/>
3.11.00&#160;<br/>
Moved&#160;<br/>TP_MEMORY_MODEL_DATA&#160;&#160;&#160;<br/>from&#160;user&#160;config&#160;file&#160;to&#160;GENy&#160;&#160;<br/>
Herrmann&#160;<br/>
2011-04-05&#160;<br/>
3.12&#160;<br/>
ESCAN00051019:&#160;Added&#160;new&#160;<br/>(customer&#160;specific)&#160;pre-compile&#160;<br/>switches:&#160;&#160;<br/>TP_ENABLE_IGNORE_FC_RE<br/>S_STMIN,&#160;&#160;<br/>TP_ENABLE_IGNORE_FC_OV<br/>FL&#160;(see<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">&#160;3.2.3).</a>&#160;<br/>
Herrmann&#160;<br/>
2011-07-11&#160;<br/>
3.13&#160;<br/>
ESCAN00051019:&#160;Added&#160;<br/>
&#160;<br/>
&#160;<br/>
support&#160;for&#160;the&#160;dynamic&#160;setting&#160;<br/>of&#160;&#160;29-bit&#160;CAN-IDs&#160;(see&#160;<br/>
Dedler&#160;<br/>
2011-09-21&#160;<br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#96">4.2.2.31,&#160;</a><a href="TechnicalReference_TransportProtocolMultiConnections.html#97">4.2.2.32,&#160;</a><a href="TechnicalReference_TransportProtocolMultiConnections.html#121">4.2.3.29,&#160;<br/></a><a href="TechnicalReference_TransportProtocolMultiConnections.html#122">4.2.3.30).</a>&#160;<br/>Added&#160;new&#160;pre-compile switch:&#160;&#160;<br/>TP_USE_UNEXPECTED_FC_<br/>CANCELATION&#160;(see<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">&#160;3.2.3).</a>&#160;<br/>
Dedler&#160;<br/>
2012-04-10&#160;<br/>
3.13.01&#160;<br/>
Description&#160;of&#160;<br/>TpRxGetCanBuffer&#160;modified&#160;<br/>according&#160;to&#160;ESCAN00057225&#160;<br/>
Dedler&#160;<br/>
2013-04-30&#160;<br/>
3.14.00&#160;<br/>
Description&#160;for&#160;non-standard&#160;<br/>flow&#160;control&#160;handling&#160;updated&#160;<br/><a href="TechnicalReference_TransportProtocolMultiConnections.html#44">(3.2.3)</a>&#160;<br/>
<b>&#160;</b><br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>No.&#160;</b><br/>
<b>Title&#160;</b><br/>
[1]&#160;&#160;&#160;&#160;/ISO/TF2/:&#160;&#160;ISO&#160;FDIS&#160;15765-2;&#160;Road vehicles&#160;—&#160;Diagnostics&#160;on&#160;CAN&#160;—&#160;Part&#160;2:&#160;Network&#160;<br/>
layer&#160;services;&#160;<br/>Date&#160;2004-07-16&#160;<br/>
[2]&#160;&#160;&#160;&#160;/OSEK-COM/:&#160;&#160;OSEK/VDX&#160;Communication&#160;Version&#160;2.1,&#160;revision&#160;1&#160;17th&#160;June&#160;1998&#160;<br/>
[3]&#160;&#160;&#160;&#160;/CANDrv/:&#160;&#160;Manual&#160;for&#160;CAN&#160;Driver&#160;in used version&#160;<br/>
[4]&#160;&#160;&#160;&#160;ISO15765-2:&#160;&#160;ISO&#160;TC&#160;22/SC&#160;3;&#160;&#160;ISO&#160;15765-2:2003(E);&#160;Road vehicles&#160;—&#160;Diagnostics&#160;on&#160;<br/>
controller&#160;area&#160;network&#160;(CAN)&#160;—&#160;Part&#160;2:&#160;Part&#160;2:&#160;Network&#160;layer&#160;services&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
5&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=6></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-6_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-6_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>We&#160;have configured&#160;the&#160;programs&#160;in&#160;accordance&#160;with your&#160;specifications&#160;in the&#160;<br/>questionnaire.&#160;Whereas&#160;the&#160;programs&#160;do&#160;support&#160;other&#160;configurations&#160;than&#160;the&#160;one&#160;<br/>
<b>&#160;</b><br/>
specified&#160;in your&#160;questionnaire,&#160;Vector´s&#160;release&#160;of&#160;the&#160;programs&#160;delivered to&#160;your&#160;<br/>company&#160;is&#160;expressly&#160;restricted&#160;to&#160;the&#160;configuration&#160;you&#160;have specified&#160;in&#160;the&#160;<br/>questionnaire.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
6&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=7></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-7_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#15"><b>1</b>&#160;&#160;<b>Introduction&#160;..................................................................................................................&#160;15</b>&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#15">1.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#15">Relation between general&#160;component&#160;and&#160;shipped version capability&#160;....................&#160;15&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#16">1.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#16">Name&#160;Conventions&#160;.................................................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#17">1.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#17">Abbreviations&#160;.........................................................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#17">1.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#17">Channel&#160;vs.&#160;Connection&#160;.........................................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#18">1.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#18">TP&#160;classes..............................................................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#18">1.5.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#18">SingleTP&#160;classes&#160;...........................................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#18">1.5.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#18">Static MultiTP&#160;classes&#160;...................................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#18">1.5.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#18">Dynamic&#160;MultiTP&#160;classes&#160;..............................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#18">1.5.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#18">Dispatched MultiTP&#160;classes&#160;..........................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#19">1.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#19">SingleConnection&#160;vs.&#160;MultipleConnection&#160;...............................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#19">1.7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#19">Features&#160;.................................................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#19">1.7.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#19">Feature&#160;List&#160;...................................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#23"><b>2</b>&#160;&#160;<b>Architecture&#160;Overview&#160;.................................................................................................&#160;23</b>&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#23">2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#23">Requirements&#160;.........................................................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#23">2.1.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#23">Protocol-Overview&#160;.........................................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#23">2.1.1.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#23">Construction&#160;of&#160;unsegmented&#160;messages&#160;................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#23">2.1.1.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#23">Construction&#160;of&#160;segmented&#160;messages&#160;....................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#24">2.1.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#24">Addressing&#160;modes&#160;........................................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">2.1.2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">Normal&#160;Addressing&#160;.................................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">2.1.2.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">Mixed&#160;11-bit&#160;ID&#160;Addressing&#160;.....................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">2.1.2.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">Normal&#160;Fixed&#160;Addressing&#160;.......................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">2.1.2.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">Extended&#160;Addressing..............................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#26">2.1.2.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#26">Mixed&#160;29-bit&#160;ID&#160;Addressing&#160;.....................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#26">2.1.2.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#26">Structure&#160;of&#160;TPCI-Byte&#160;...........................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#28">2.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#28">Transmission&#160;..........................................................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#29">2.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#29">Reception&#160;...............................................................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#30">2.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#30">Working behaviors&#160;..................................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#30">2.4.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#30">Timings&#160;.........................................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">2.4.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">Error&#160;detection...............................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">2.4.2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">Reception of&#160;a SingleFrame&#160;...................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">2.4.2.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">Reception of&#160;a FirstFrame&#160;......................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">2.4.2.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">Reception of&#160;a FlowControl&#160;....................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#32">2.4.2.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#32">Reception of&#160;a ConsecutiveFrame..........................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#32">2.4.2.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#32">Observing&#160;CAN&#160;frame&#160;DLC&#160;(Data&#160;Length&#160;Code)&#160;....................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#33">2.4.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#33">Buffer&#160;consistency&#160;.........................................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#33">2.4.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#33">Function re-entrancy&#160;.....................................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#34">2.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#34">Restriction&#160;..............................................................................................................&#160;34&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
7&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=8></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-8_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#34">2.5.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#34">Restrictions&#160;to&#160;ISO/TF2&#160;specification&#160;.............................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#34">2.5.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#34">Limitations of&#160;Transport&#160;Protocol&#160;Implementation&#160;..........................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#37">2.5.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#37">Deviations to ISO/TF2&#160;specification&#160;...............................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#37">2.5.3.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#37">Handling&#160;of&#160;unexpected&#160;FlowControl&#160;/&#160;ConsecutiveFrame&#160;frames&#160;..........&#160;37&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#38"><b>3</b>&#160;&#160;<b>Settings&#160;for&#160;the&#160;MultiTP&#160;&amp;&#160;SingleTP&#160;(multi-based)&#160;....................................................&#160;38</b>&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#38">3.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#38">General&#160;settings&#160;with CANgen&#160;/&#160;DBKOMgen&#160;/&#160;GENy&#160;.............................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#39">3.1.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#39">Timing&#160;...........................................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#39">3.1.1.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#39">Transmission&#160;timing&#160;................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#39">3.1.1.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#39">Reception timing&#160;.....................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#40">3.1.1.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#40">Common&#160;timing&#160;......................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#40">3.1.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#40">Flow&#160;Control&#160;..................................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#40">3.1.2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#40">Transmission&#160;..........................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#40">3.1.2.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#40">Reception&#160;...............................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#41">3.1.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#41">Misc&#160;..............................................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#43">3.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#43">General&#160;settings&#160;with Generation&#160;Tool&#160;GENy&#160;..........................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">3.2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">Configuration of&#160;Addressing&#160;Information&#160;........................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">3.2.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">Usage&#160;of&#160;Far&#160;RAM&#160;buffers&#160;.............................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">3.2.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">Non&#160;standard handling&#160;of&#160;Flow&#160;Control&#160;frames&#160;..............................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">3.2.3.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">Reserved&#160;STmin&#160;Handling&#160;......................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.2.3.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">Ignore&#160;Flow&#160;Control&#160;Overflow&#160;.................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.2.3.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">Do not&#160;ignore unexpected Flow&#160;Control&#160;frames&#160;......................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.2.3.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">Use STmin of&#160;FC&#160;....................................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.2.3.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">Analyze first&#160;FC&#160;only&#160;..............................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">Additional&#160;settings&#160;via user-configuration&#160;file&#160;..........................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.3.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">Dynamic&#160;Timing&#160;API&#160;......................................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#46">3.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#46">TP&#160;classes:&#160;SingleTP&#160;(multi-based)&#160;........................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#46">3.4.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#46">Database&#160;Attributes&#160;.......................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.4.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">TP&#160;class&#160;SingleTP&#160;(multi-based):&#160;Normal&#160;Addressing&#160;....................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.4.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">TP&#160;class&#160;SingleTP&#160;(multi-based):&#160;Extended&#160;Addressing&#160;................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.4.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">TP&#160;class&#160;SingleTP&#160;(multi-based):Normal&#160;Fixed&#160;Addressing&#160;...........................&#160;47&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.4.4.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">Database&#160;Attributes&#160;................................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">TP&#160;classes&#160;Static&#160;MultiTP&#160;.......................................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.5.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">Database&#160;Attributes&#160;.......................................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#48">3.5.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#48">TP&#160;class&#160;specific&#160;settings&#160;..............................................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#48">3.5.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#48">Connection&#160;specific&#160;timing parameters&#160;..........................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#49">3.5.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#49">Functions&#160;......................................................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#49">3.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#49">TP&#160;classes&#160;Dynamic&#160;MultiTP&#160;..................................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#49">3.6.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#49">Properties&#160;......................................................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#50">3.6.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#50">Hook&#160;Functions&#160;.............................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#50">3.6.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#50">Dynamic&#160;Objects&#160;...........................................................................................&#160;50&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
8&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=9></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-9_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#51">3.6.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#51">TP&#160;class&#160;Dynamic&#160;MultiTP:&#160;Normal&#160;Addressing&#160;.............................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#51">3.6.4.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#51">CANdriver&#160;settings&#160;.................................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#51">3.6.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#51">TP&#160;class&#160;Dynamic&#160;MultiTP:&#160;Extended&#160;Addressing&#160;.........................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#51">3.6.5.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#51">TP&#160;class&#160;specific&#160;settings........................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">3.6.5.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">Database&#160;Attributes&#160;................................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">3.6.5.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">Multiple Base&#160;Addresses&#160;........................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">3.6.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">TP&#160;class&#160;Dynamic&#160;MultiTP:&#160;Normal&#160;Fixed&#160;Addressing&#160;...................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">3.6.6.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">Database&#160;Attributes&#160;................................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#53">3.6.7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#53">TP&#160;class&#160;Dynamic&#160;MultiTP:&#160;Mixed&#160;29-bit&#160;Addressing&#160;.....................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#53">3.6.8&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#53">TP&#160;class&#160;Dynamic&#160;MultiTP:&#160;Multiple&#160;Addressing&#160;............................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#53">3.6.8.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#53">Addressing&#160;mode&#160;...................................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#53">3.6.8.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#53">CAN&#160;Driver&#160;settings&#160;................................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#55">3.7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#55">TP&#160;class&#160;Dispatched&#160;MultiTP&#160;..................................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#56">3.7.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#56">“Dynamic&#160;MultiTP”&#160;versus&#160;“Dispatched&#160;MultiTP”&#160;–&#160;a short&#160;analogy&#160;...............&#160;56&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#56">3.7.1.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#56">Solution based&#160;on&#160;“Dynamic&#160;MultiTP”:&#160;....................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#57">3.7.1.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#57">Solution based&#160;on&#160;“Dispatched MultiTP”&#160;.................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#60">3.7.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#60">Dispatched MultiTP&#160;API&#160;.................................................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#60">3.7.2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#60">Reception side........................................................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#61">3.7.2.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#61">Transmission&#160;side&#160;...................................................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#63"><b>4</b>&#160;&#160;<b>API&#160;.................................................................................................................................&#160;63</b>&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#63">4.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#63">Use of&#160;ISO15765-Transport&#160;Protocol&#160;......................................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#63">4.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#63">Functions of&#160;the&#160;Transport&#160;Protocol&#160;........................................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#64">4.2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#64">Administrative Functions&#160;...............................................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#64">4.2.1.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#64">TpInitPowerOn:&#160;Initialization&#160;...................................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#65">4.2.1.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#65">TpInit:&#160;Re-initialization&#160;............................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#65">4.2.1.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#65">TpTask:&#160;&#160;Observing&#160;timing&#160;conditions&#160;.....................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#66">4.2.1.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#66">TpCanChannelInit:&#160;CAN&#160;channel&#160;specifiic&#160;re-initialization&#160;.......................&#160;66&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#67">4.2.1.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#67">TpRxTask:&#160;time&#160;base&#160;for&#160;reception&#160;timeouts&#160;...........................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#68">4.2.1.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#68">TpTxTask:&#160;time base&#160;for&#160;timeouts/transmission&#160;......................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#69">4.2.1.7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#69">TpRxStateTask:&#160;optional&#160;transmission&#160;retry&#160;............................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#69">4.2.1.8&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#69">TpRxAllStateTask:&#160;optional&#160;transmission&#160;retry&#160;........................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#70">4.2.1.9&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#70">TpTxStateTask:&#160;optional&#160;transmission&#160;retry&#160;............................................&#160;70&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#71">4.2.1.10&#160;&#160;TpTxAllStateTask:&#160;optional&#160;transmission&#160;retry&#160;........................................&#160;71&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#72">4.2.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#72">Receive Functions&#160;.........................................................................................&#160;72&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#72">4.2.2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#72">TpRxSetConnectionNumber:&#160;Assign&#160;a&#160;Connection-Number&#160;to&#160;a&#160;<br/>channel&#160;..................................................................................................&#160;72&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#72">4.2.2.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#72">TpRxGetConnectionNumber:&#160;Get&#160;the&#160;Corresponding&#160;Connection-<br/>Number&#160;..................................................................................................&#160;72&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#73">4.2.2.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#73">TpRxGetAddressingFormat:&#160;&#160;Get&#160;the&#160;current&#160;addressing&#160;type&#160;................&#160;73&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#74">4.2.2.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#74">TpRxGetAssignedDestination:&#160;&#160;Get&#160;the&#160;currently&#160;assigned&#160;destination&#160;..&#160;74&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
9&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=10></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-10_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#75">4.2.2.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#75">TpRxResetChannel:&#160;Free Rx-TpChannel&#160;...............................................&#160;75&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#76">4.2.2.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#76">TpRxGetStatus:&#160;Rx-Channel&#160;Status&#160;.......................................................&#160;76&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#77">4.2.2.7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#77">TpRxSetBS:&#160;Setting&#160;up&#160;BlockSize on&#160;Reception&#160;Side&#160;............................&#160;77&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#78">4.2.2.8&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#78">TpRxGetBS:&#160;Get&#160;BlockSize on&#160;Reception Side&#160;......................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#78">4.2.2.9&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#78">TpRxSetSTMIN:&#160;Setting&#160;up&#160;STMin time&#160;on&#160;Reception&#160;Side&#160;....................&#160;78&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#79">4.2.2.10&#160;&#160;TpRxGetSTMIN:&#160;Get&#160;STMin time on&#160;Reception Side..............................&#160;79&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#80">4.2.2.11&#160;&#160;TpRxGetChannelID:&#160;Get&#160;Received&#160;CAN-Id&#160;............................................&#160;80&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#81">4.2.2.12&#160;&#160;TpRxGetChannelExtID:&#160;Get&#160;Received&#160;Extended CAN-Id&#160;.......................&#160;81&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#81">4.2.2.13&#160;&#160;TpRxGetCanChannel:&#160;Get&#160;physical&#160;CAN&#160;channel&#160;..................................&#160;81&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#82">4.2.2.14&#160;&#160;TpRxGetSourceAddress:&#160;Get&#160;received&#160;Source&#160;Address&#160;.........................&#160;82&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#83">4.2.2.15&#160;&#160;TpRxGetReceivedTargetAddress:&#160;Get&#160;received&#160;Target&#160;Address&#160;.............&#160;83&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#84">4.2.2.16&#160;&#160;TpRxGetEcuNumber:&#160;Get&#160;ECU&#160;Number.................................................&#160;84&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#84">4.2.2.17&#160;&#160;TpRxGetParameterGroupIdentification:&#160;Get&#160;Identification&#160;of&#160;PGN&#160;..........&#160;84&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#85">4.2.2.18&#160;&#160;TpRxSetBufferOverrun:&#160;&#160;&#160;Enable partial&#160;acceptance...............................&#160;85&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#86">4.2.2.19&#160;&#160;TpRxSetTransmitID:&#160;&#160;&#160;Set&#160;transmission&#160;CAN-Id......................................&#160;86&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#87">4.2.2.20&#160;&#160;TpRxSetTransmitExtID:&#160;&#160;&#160;Set&#160;transmission&#160;Extended&#160;CAN-Id.................&#160;87&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#88">4.2.2.21&#160;&#160;TpRxGetChannelIDType:&#160;&#160;&#160;Get&#160;the&#160;type&#160;of&#160;the&#160;received&#160;CAN-Id&#160;.............&#160;88&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#88">4.2.2.22&#160;&#160;TpRxGetAddressExtension:&#160;&#160;Get&#160;address&#160;extension&#160;information&#160;............&#160;88&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#89">4.2.2.23&#160;&#160;TpRxGetCanBuffer:&#160;&#160;Get&#160;CAN&#160;buffer&#160;pointer&#160;..........................................&#160;89&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#90">4.2.2.24&#160;&#160;TpRxSetWaitCorrectSN:&#160;&#160;Force&#160;to&#160;wait&#160;for&#160;a&#160;correct&#160;sequence&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#90">number&#160;...................................................................................................&#160;90&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#91">4.2.2.25&#160;&#160;TpRxSetTimeoutConfirmation:&#160;&#160;Set&#160;CAN&#160;confirmation&#160;timeout&#160;...............&#160;91&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#92">4.2.2.26&#160;&#160;TpRxSetTimeoutCF:&#160;&#160;Set&#160;Consecutive Frame confirmation&#160;timeout&#160;.......&#160;92&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#92">4.2.2.27&#160;&#160;TpRxSetFCStatus:&#160;&#160;set&#160;up Flow&#160;Control&#160;on&#160;reception&#160;side&#160;.....................&#160;92&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#93">4.2.2.28&#160;&#160;TpRxGetFCStatus:&#160;&#160;get&#160;the&#160;Flow&#160;Control&#160;setup&#160;on&#160;reception&#160;side&#160;..........&#160;93&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#94">4.2.2.29&#160;&#160;TpRxSetClearToSend:&#160;&#160;proceed&#160;with the&#160;transmission&#160;after&#160;FC&#160;wait&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#94">frames&#160;....................................................................................................&#160;94&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#95">4.2.2.30&#160;&#160;TpRxWithoutFC:&#160;&#160;suppress&#160;FC&#160;frame usage at&#160;the Rx&#160;side&#160;....................&#160;95&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#96">4.2.2.31&#160;&#160;TpRxSetPGN:&#160;Set&#160;Parameter&#160;Group&#160;Number&#160;........................................&#160;96&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#97">4.2.2.32&#160;&#160;TpRxSetPriorityBits:&#160;Set&#160;Priority,&#160;Data&#160;Page&#160;and&#160;Reserved&#160;bits&#160;.............&#160;97&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#98">4.2.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#98">Transmit&#160;Functions&#160;........................................................................................&#160;98&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#98">4.2.3.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#98">TpTxGetFreeChannel:&#160;Assign&#160;Channel&#160;to&#160;Connection&#160;...........................&#160;98&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#99">4.2.3.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#99">TpTxGetConnectionNumber:&#160;Get&#160;the&#160;assigned&#160;Connection-Number&#160;......&#160;99&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#99">4.2.3.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#99">TpTxGetConnectionStatus:&#160;Get&#160;the&#160;Connection&#160;Status&#160;..........................&#160;99&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#100">4.2.3.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#100">TpTxGetTargetAddress:&#160;&#160;Get&#160;the&#160;target&#160;address&#160;used&#160;for&#160;transmission&#160;100&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#101">4.2.3.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#101">TpTxGetDataBuffer:&#160;Get&#160;the&#160;assigned&#160;Data&#160;Buffer&#160;...............................&#160;101&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#102">4.2.3.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#102">TpTxGetDataIndex:&#160;Get&#160;the&#160;assigned&#160;Data&#160;Index&#160;................................&#160;102&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#102">4.2.3.7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#102">TpTxSetChannelID:&#160;Set&#160;the&#160;CAN&#160;Transmit&#160;Id&#160;.......................................&#160;102&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#103">4.2.3.8&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#103">TpTxSetChannelExtID:&#160;Set&#160;the&#160;CAN&#160;Transmit&#160;&#160;Extended Id&#160;.................&#160;103&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#104">4.2.3.9&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#104">TpTxSetCanChannel:&#160;Set&#160;physical&#160;CAN&#160;Channel&#160;................................&#160;104&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#105">4.2.3.10&#160;&#160;TpTxSetTargetAddress:&#160;Set&#160;Target&#160;Address&#160;.........................................&#160;105&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
10&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-11_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#106">4.2.3.11&#160;&#160;TpTxSetEcuNumber:&#160;Set&#160;ECU&#160;Number&#160;................................................&#160;106&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#106">4.2.3.12&#160;&#160;TpTxSetBaseAddress:&#160;Set&#160;Base&#160;Address.............................................&#160;106&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#107">4.2.3.13&#160;&#160;TpTxSetParameterGroupIdentification:&#160;Set&#160;Identification&#160;of&#160;PGN&#160;.........&#160;107&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#108">4.2.3.14&#160;&#160;TpTxSetPriority:&#160;Set&#160;Priority&#160;of&#160;the&#160;CAN-Frame&#160;....................................&#160;108&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#109">4.2.3.15&#160;&#160;TpTxSetResponse:&#160;Assemble a&#160;Response&#160;...........................................&#160;109&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#110">4.2.3.16&#160;&#160;TpTransmit:&#160;Send a&#160;Message&#160;...............................................................&#160;110&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#111">4.2.3.17&#160;&#160;TpTxLockChannel:&#160;&#160;Lock&#160;Channel&#160;.........................................................&#160;111&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#111">4.2.3.18&#160;&#160;TpTxUnlockChannel:&#160;&#160;Unlock&#160;TX&#160;Channel&#160;.............................................&#160;111&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#112">4.2.3.19&#160;&#160;TpTxResetChannel:&#160;Free&#160;TX-Channel..................................................&#160;112&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#113">4.2.3.20&#160;&#160;TpTxSetAddressExtension:&#160;&#160;Set&#160;Address&#160;Extension&#160;information&#160;..........&#160;113&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#114">4.2.3.21&#160;&#160;TpTxGetSTminInFrame:&#160;&#160;&#160;Get&#160;STmin&#160;from&#160;FC&#160;frame&#160;...........................&#160;114&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#115">4.2.3.22&#160;&#160;TpTxPrepareSendImmediate:&#160;&#160;&#160;Prepare&#160;CF&#160;transmission&#160;by&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#115">application&#160;............................................................................................&#160;115&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#115">4.2.3.23&#160;&#160;TpTxSendImmediate:&#160;&#160;&#160;Start&#160;CF&#160;transmission&#160;by&#160;application&#160;................&#160;115&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#116">4.2.3.24&#160;&#160;TpTxSetAddressingFormat:&#160;&#160;Store&#160;the&#160;current&#160;addressing&#160;type&#160;............&#160;116&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#117">4.2.3.25&#160;&#160;TpTxSetStrictFlowControl:&#160;&#160;Enable/Disable&#160;ISO&#160;conformant&#160;FC&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#117">handling&#160;...............................................................................................&#160;117&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#118">4.2.3.26&#160;&#160;TpTxSetTimeoutConfirmation:&#160;&#160;Set&#160;the&#160;CAN&#160;confirmation&#160;timeout&#160;........&#160;118&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#119">4.2.3.27&#160;&#160;TpTxSetTimeoutFC:&#160;&#160;Set&#160;the&#160;FC&#160;confirmation&#160;timeout&#160;..........................&#160;119&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#120">4.2.3.28&#160;&#160;TpTxWithoutFC:&#160;&#160;suppress&#160;FC&#160;frame usage at&#160;the&#160;Tx&#160;side&#160;...................&#160;120&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#121">4.2.3.29&#160;&#160;TpTxSetPGN:&#160;Set&#160;Parameter&#160;Group&#160;Number&#160;.......................................&#160;121&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#122">4.2.3.30&#160;&#160;TpTxSetPriorityBits:&#160;Set&#160;Priority,&#160;Data&#160;Page&#160;and&#160;Reserved&#160;bits&#160;............&#160;122&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#123">4.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#123">Dispatched Multi&#160;TP&#160;class&#160;API&#160;..............................................................................&#160;123&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#123">4.3.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#123">TpGetConnectionGroup:&#160;&#160;Get&#160;the&#160;connection&#160;group&#160;identification&#160;...............&#160;123&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#124">4.3.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#124">TpGetAddressingType:&#160;&#160;Get&#160;the&#160;addressing&#160;type&#160;identification&#160;....................&#160;124&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#125">4.3.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#125">TpGetCanChannel:&#160;&#160;Get&#160;the&#160;CAN&#160;channel&#160;..................................................&#160;125&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#126">4.3.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#126">TpGetRxId:&#160;&#160;Get&#160;the&#160;received&#160;CAN-Id&#160;.........................................................&#160;126&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#126">4.3.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#126">TpGetTxId:&#160;&#160;Get&#160;the&#160;CAN-Id&#160;to be&#160;used&#160;for&#160;transmission&#160;.............................&#160;126&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#127">4.3.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#127">TpGetBaseAddress:&#160;&#160;Get&#160;the&#160;Base&#160;Address&#160;................................................&#160;127&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#128">4.3.7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#128">TpGetAddressOffest:&#160;&#160;Get&#160;the&#160;Address&#160;Offset&#160;.............................................&#160;128&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#129">4.3.8&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#129">TpGetPriority:&#160;&#160;Get&#160;the&#160;priority&#160;info&#160;from&#160;a&#160;29&#160;bit&#160;CAN-Id&#160;.............................&#160;129&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#129">4.3.9&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#129">TpGetPGN:&#160;&#160;Get&#160;the&#160;parameter&#160;group identification&#160;from&#160;a 29&#160;bit&#160;CAN-Id&#160;...&#160;129&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#130">4.3.10&#160;&#160;TpGetEcuNumber:&#160;&#160;Get&#160;the&#160;ECU&#160;number&#160;...................................................&#160;130&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#131">4.3.11&#160;&#160;TpTransmit&#160;..................................................................................................&#160;131&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#131">4.3.11.1&#160;&#160;TpTransmit&#160;connection&#160;specific&#160;macros&#160;................................................&#160;131&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#131">4.3.11.2&#160;&#160;TpTransmitNormal:&#160;&#160;transmit&#160;function&#160;for&#160;normal&#160;addressing&#160;................&#160;131&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#132">4.3.11.3&#160;&#160;TpTransmitExtended:&#160;&#160;transmit&#160;function&#160;for&#160;extended addressing&#160;.........&#160;132&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#133">4.3.11.4&#160;&#160;TpTransmitNormalFixed:&#160;&#160;transmit&#160;function&#160;for&#160;NormalFixed&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#133">addressing&#160;............................................................................................&#160;133&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#134">4.3.11.5&#160;&#160;TpTransmitMixed29:&#160;&#160;transmit&#160;function&#160;for&#160;Mixed-29&#160;addressing&#160;..........&#160;134&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#135">4.3.11.6&#160;&#160;TpTransmitMixed29:&#160;&#160;transmit&#160;function&#160;for&#160;Mixed-29&#160;addressing&#160;..........&#160;135&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
11&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=12></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-12_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-12_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#136">4.3.11.7&#160;&#160;TpTransmitMixed11:&#160;&#160;transmit&#160;function&#160;for&#160;Mixed-11 addressing&#160;...........&#160;136&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#137">4.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#137">Application callback&#160;functions&#160;...............................................................................&#160;137&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#137">4.4.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#137">Reception side&#160;............................................................................................&#160;137&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#137">4.4.1.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#137">ApplTpPrecopyCheck:&#160;Reception of&#160;TP-Frame&#160;....................................&#160;137&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#139">4.4.1.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#139">ApplTpCheckTA:&#160;&#160;Check&#160;if&#160;Target&#160;Address is&#160;valid (version &lt;=&#160;<br/>2.72.00)&#160;................................................................................................&#160;139&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#140">4.4.1.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#140">ApplTpCheckTA:&#160;&#160;Check&#160;if&#160;Target&#160;Address is&#160;valid (since&#160;version&#160;<br/>2.73.00)&#160;................................................................................................&#160;140&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#141">4.4.1.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#141">ApplTpRxSF:&#160;&#160;&#160;Reception of&#160;Single Frame&#160;...........................................&#160;141&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#142">4.4.1.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#142">ApplTpRxFF:&#160;&#160;&#160;Reception of&#160;First&#160;Frame&#160;..............................................&#160;142&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#142">4.4.1.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#142">ApplTpRxCF:&#160;&#160;&#160;Reception of&#160;Consecutive Frame&#160;.................................&#160;142&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#143">4.4.1.7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#143">ApplTpRxCanMessageReceived:&#160;&#160;&#160;Reception&#160;of&#160;CAN-Frame&#160;..............&#160;143&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#144">4.4.1.8&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#144">ApplTpRxGetBuffer:&#160;&#160;&#160;Assign a&#160;buffer&#160;to&#160;a channel&#160;...............................&#160;144&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#145">4.4.1.9&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#145">ApplTpRxCopyFromCAN:&#160;&#160;&#160;Application Copy&#160;Function&#160;.........................&#160;145&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#146">4.4.1.10&#160;&#160;ApplTpRxIndication:&#160;&#160;&#160;Reception&#160;closed&#160;&#160;successful&#160;.............................&#160;146&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#147">4.4.1.11&#160;&#160;ApplTpRxErrorIndication:&#160;&#160;&#160;Reception&#160;closed with&#160;error&#160;........................&#160;147&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#148">4.4.1.12&#160;&#160;ApplTpRxGetTxID:&#160;&#160;Get&#160;CAN&#160;Transmit&#160;Id&#160;.............................................&#160;148&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#149">4.4.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#149">Reception side&#160;for&#160;functional&#160;messages&#160;......................................................&#160;149&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#149">4.4.2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#149">ApplFuncTpPrecopy:&#160;&#160;Check&#160;if&#160;Target&#160;Address&#160;is&#160;valid&#160;.........................&#160;149&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#150">4.4.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#150">Transmission&#160;side&#160;.......................................................................................&#160;150&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#150">4.4.3.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#150">ApplTpTxFC:&#160;&#160;&#160;Reception of&#160;a Flow&#160;Control&#160;Frame&#160;..............................&#160;150&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#151">4.4.3.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#151">ApplTpTxCanMessageTransmitted:&#160;&#160;CAN-Message&#160;transmitted&#160;..........&#160;151&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#151">4.4.3.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#151">ApplTpTxNotification:&#160;&#160;&#160;CAN-Frame&#160;transmitted&#160;...................................&#160;151&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#152">4.4.3.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#152">ApplTpTxCopyToCAN:&#160;&#160;&#160;Application Copy&#160;Function (&#160;16BIT&#160;<br/>Controller)&#160;............................................................................................&#160;152&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#153">4.4.3.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#153">ApplTpTxCopyToCAN:&#160;&#160;&#160;Application Copy&#160;Function (8BIT&#160;Controller)&#160;...&#160;153&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#155">4.4.3.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#155">ApplTpTxConfirmation:&#160;&#160;Transmission&#160;closed&#160;successful&#160;.....................&#160;155&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#156">4.4.3.7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#156">ApplTpTxErrorIndication:&#160;&#160;Transmission&#160;closed with error&#160;....................&#160;156&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#157">4.4.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#157">Administrative Functions&#160;.............................................................................&#160;157&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#157">4.4.4.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#157">ApplTpFatalError:&#160;Fatal&#160;Error&#160;...............................................................&#160;157&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#159"><b>5</b>&#160;&#160;<b>Transmission&#160;Attributes &amp; Callback&#160;functions&#160;.........................................................&#160;159</b>&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#160"><b>6</b>&#160;&#160;<b>Integration&#160;of&#160;CANbedded Components&#160;into a&#160;Customer&#160;Project&#160;..........................&#160;160</b>&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#160">6.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#160">Requirements&#160;to&#160;the&#160;Customer&#160;System&#160;Environment&#160;...........................................&#160;160&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#160">6.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#160">Component&#160;Integration&#160;to the&#160;Customer&#160;Project&#160;...................................................&#160;160&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#160">6.2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#160">Requirements&#160;to&#160;the&#160;Component&#160;Initialization in&#160;a Customer&#160;Project&#160;..........&#160;160&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">6.2.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">Requirements&#160;to&#160;Component&#160;API&#160;Usage in&#160;a Customer&#160;Project&#160;..................&#160;161&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">6.2.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">Requirements&#160;to&#160;the&#160;Customer&#160;Project&#160;Operating&#160;System&#160;..........................&#160;161&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">6.2.3.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">Common&#160;Requirements&#160;........................................................................&#160;161&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#162">6.2.3.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#162">Round-Robin-Scheduler&#160;and Comparable OS&#160;Approaches&#160;..................&#160;162&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#162">6.2.3.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#162">Usage&#160;of&#160;OSEK/OS&#160;..............................................................................&#160;162&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
12&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-13_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#163">6.2.3.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#163">Non-Preemptive Operating&#160;System&#160;......................................................&#160;163&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#163">6.2.3.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#163">Preemptive Operating&#160;System&#160;..............................................................&#160;163&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#164"><b>7</b>&#160;&#160;<b>Advanced&#160;usage&#160;.........................................................................................................&#160;164</b>&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#164">7.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#164">Separation&#160;of&#160;TimerTask&#160;and&#160;TransmissionTask&#160;(StateTask)&#160;................................&#160;164&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#164">7.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#164">Fast&#160;transmission&#160;of&#160;ConsecutiveFrames&#160;.............................................................&#160;164&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#165">7.2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#165">Usage&#160;.........................................................................................................&#160;165&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#165">7.2.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#165">Application example&#160;....................................................................................&#160;165&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#166">7.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#166">Normal&#160;Fixed&#160;Addressing&#160;.....................................................................................&#160;166&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#166">7.3.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#166">Multiple ECU’s&#160;.............................................................................................&#160;166&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#166">7.3.1.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#166">Using&#160;the&#160;CANgen&#160;configuration&#160;tool&#160;....................................................&#160;166&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#167">7.3.1.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#167">Using&#160;the&#160;GENy&#160;configuration tool&#160;........................................................&#160;167&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#168">7.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#168">Extended-&#160;and Normal&#160;Fixed&#160;Addressing&#160;.............................................................&#160;168&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#168">7.4.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#168">Virtual&#160;ECU’s&#160;/&#160;‘Multiple&#160;EcuNumber’&#160;feature&#160;...............................................&#160;168&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#169">7.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#169">Using&#160;different&#160;CAN-Identifiers&#160;.............................................................................&#160;169&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#169">7.5.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#169">Statically&#160;configured&#160;CAN-Ids&#160;......................................................................&#160;169&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#169">7.5.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#169">Dynamically&#160;configured&#160;CAN-Ids&#160;.................................................................&#160;169&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#169">7.5.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#169">Additional&#160;API&#160;functions&#160;...............................................................................&#160;169&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#170">7.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#170">Transmissions&#160;without&#160;Flow&#160;Control&#160;frames&#160;.........................................................&#160;170&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#171"><b>8</b>&#160;&#160;<b>Example&#160;for&#160;the&#160;user&#160;..................................................................................................&#160;171</b>&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#171">8.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#171">Administrative&#160;usage&#160;............................................................................................&#160;171&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#171">8.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#171">How&#160;to&#160;Transmit&#160;a&#160;Tp-Frame?&#160;..............................................................................&#160;171&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#171">8.2.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#171">Static Normal&#160;Addressing&#160;............................................................................&#160;171&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#171">8.2.2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#171">Dynamic&#160;Addressing&#160;...................................................................................&#160;171&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#172">8.3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#172">How&#160;to Receive a&#160;Tp-Frame&#160;.................................................................................&#160;172&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#172">8.4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#172">How&#160;to Send a&#160;Response on&#160;a&#160;Received&#160;Transport-Frame&#160;..................................&#160;172&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#173">8.5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#173">How&#160;to serve Different&#160;Connections&#160;(only&#160;dynamic&#160;channels)&#160;..............................&#160;173&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#173">8.5.1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#173">How&#160;to serve the&#160;diagnostic&#160;connection&#160;......................................................&#160;173&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#175">8.6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#175">How&#160;to Lock&#160;a&#160;Tx-Channel&#160;and&#160;Why?&#160;(only&#160;dynamic&#160;channels)&#160;...........................&#160;175&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#176">8.7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#176">How&#160;to transmit&#160;a ConsecutiveFrame&#160;as&#160;quick&#160;as&#160;possible&#160;..................................&#160;176&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#177"><b>9</b>&#160;&#160;<b>Contact........................................................................................................................&#160;177</b>&#160;<br/></a>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
13&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-14_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Illustrations</b>&#160;<br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#19">Figure&#160;1-1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#19">SingleConnection&#160;vs.&#160;MultipleConnection&#160;.................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#23">Figure&#160;2-1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#23">Example of&#160;unsegmented message&#160;..........................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#24">Figure&#160;2-2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#24">Construction&#160;of&#160;segmented&#160;message&#160;........................................................&#160;24&#160;</a><br/>
<a href="file://vistrfs1/user/Tmp/Dth/TpTechRef/TechnicalReference_TransportProtocolMultiConnection_mna.docm%23_Toc355083615">Figure&#160;2-3&#160;</a><br/>
<a href="file://vistrfs1/user/Tmp/Dth/TpTechRef/TechnicalReference_TransportProtocolMultiConnection_mna.docm%23_Toc355083615">Transmission&#160;Architecture&#160;.........................................................................&#160;28&#160;</a><br/>
<a href="file://vistrfs1/user/Tmp/Dth/TpTechRef/TechnicalReference_TransportProtocolMultiConnection_mna.docm%23_Toc355083616">Figure&#160;2-4&#160;</a><br/>
<a href="file://vistrfs1/user/Tmp/Dth/TpTechRef/TechnicalReference_TransportProtocolMultiConnection_mna.docm%23_Toc355083616">Reception&#160;Architecture&#160;..............................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#30">Figure&#160;2-5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#30">Transmission&#160;timings.&#160;...............................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">Figure&#160;2-6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">Single Frame&#160;TPCI&#160;...................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">Figure&#160;2-7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">First&#160;Frame&#160;TPCI&#160;......................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">Figure&#160;2-8&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#31">FlowFrameTPCI&#160;.......................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#32">Figure&#160;2-9&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#32">Consecutive Frame&#160;TPCI&#160;..........................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#35">Figure&#160;2-10&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#35">Accumulation of&#160;events&#160;during&#160;CAN&#160;Driver&#160;polling&#160;....................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#38">Figure&#160;3-1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#38">General&#160;settings&#160;in&#160;Generation&#160;Tools&#160;........................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#39">Figure&#160;3-2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#39">Timing&#160;settings&#160;in&#160;Generation&#160;Tools&#160;..........................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#40">Figure&#160;3-3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#40">Flow&#160;control&#160;settings&#160;in&#160;Generation&#160;Tools&#160;..................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#41">Figure&#160;3-4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#41">Misc.&#160;settings&#160;in&#160;Generation&#160;Tools&#160;............................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#43">Figure&#160;3-5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#43">Main window&#160;of&#160;component&#160;TPMC&#160;within configuration tool&#160;GENy.&#160;...........&#160;43&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">Figure&#160;3-6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#44">Main window&#160;of&#160;component&#160;TPMC&#160;within configuration tool&#160;GENy.&#160;...........&#160;44&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#46">Figure&#160;3-7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#46">Database&#160;Attributes&#160;for&#160;Single/Static&#160;TP&#160;classes&#160;.......................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#48">Figure&#160;3-8&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#48">Additional&#160;TP&#160;settings&#160;(Static MultiTP)&#160;in&#160;Generation&#160;Tool.........................&#160;48&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#48">Figure&#160;3-9&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#48">Connection&#160;specific&#160;timing parameters&#160;.....................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#49">Figure&#160;3-10&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#49">Hook-Functions&#160;(Static&#160;MultiTP)&#160;...............................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#50">Figure&#160;3-11&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#50">Mandatory&#160;functions&#160;for&#160;the&#160;usage of&#160;the&#160;CANdesc&#160;diagnostic&#160;<br/>component&#160;................................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#50">Figure&#160;3-12&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#50">Optional&#160;functions&#160;(example&#160;for&#160;the&#160;usage&#160;of&#160;the&#160;CANdesc&#160;diagnostic&#160;<br/>component)&#160;..............................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#51">Figure&#160;3-13&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#51">Misc&#160;(Extended&#160;Addressing)&#160;.....................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">Figure&#160;3-14&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">Database&#160;attributes&#160;for&#160;‘Normal&#160;Fixed&#160;Addressing’....................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#53">Figure&#160;3-15&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#53">Addressing&#160;mode&#160;(Multiple&#160;Addressing)&#160;....................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#54">Figure&#160;3-16&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#54">Dedicated&#160;call&#160;of&#160;Precopy&#160;functions&#160;in&#160;TPMC&#160;by&#160;the&#160;driver.&#160;......................&#160;54&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#55">Figure&#160;3-17&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#55">Dedicated&#160;call&#160;of&#160;application&#160;callback&#160;functions&#160;in&#160;TPMC&#160;by&#160;the&#160;internal&#160;<br/>dispatcher.&#160;................................................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#159">Figure&#160;5-1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#159">Transmission&#160;attributes and&#160;callback&#160;functions&#160;.......................................&#160;159&#160;</a><br/>
&#160;<br/>
<b>Tables&#160;</b><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#16">Table&#160;1-1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#16">&#160;Name&#160;Conventions&#160;..................................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#17">Table&#160;1-2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#17">&#160;Abbreviations&#160;...........................................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#22">Table&#160;1-3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#22">&#160;Feature List&#160;.............................................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#24">Table&#160;2-1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#24">&#160;Addressing&#160;Modes&#160;...................................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">Table&#160;2-2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">&#160;Frame size on&#160;normal&#160;addressing&#160;............................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">Table&#160;2-3&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">&#160;CAN&#160;ID&#160;normal&#160;fixed&#160;addressing&#160;..............................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#26">Table&#160;2-4&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#26">&#160;Frame size extended addressing&#160;.............................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#26">Table&#160;2-5&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#26">&#160;Frame size extended addressing&#160;.............................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#27">Table&#160;2-6&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#27">&#160;Structure of&#160;TPCI-bytes&#160;...........................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#27">Table&#160;2-7&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#27">&#160;Frames&#160;....................................................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#30">Table&#160;2-8&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#30">&#160;Transmission&#160;timings&#160;...............................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#32">Table&#160;2-9&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#32">&#160;CAN&#160;frame&#160;DLC&#160;.......................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">Table&#160;3-1&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#47">&#160;Usage of&#160;TpTxIndex&#160;database&#160;attribute&#160;...................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">Table&#160;3-2&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#52">&#160;Data&#160;Base&#160;Attributes&#160;................................................................................&#160;52&#160;</a><br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
14&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=15></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-15_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>1&#160;&#160;Introduction&#160;</b><br/>
<b>1.1&#160;</b><br/>
<b>Relation between general&#160;component and&#160;shipped version capability&#160;</b><br/>
We&#160;&#160;have&#160;&#160;configured&#160;&#160;the&#160;&#160;programs&#160;&#160;in&#160;&#160;accordance&#160;&#160;with&#160;&#160;your&#160;&#160;specifications&#160;&#160;in&#160;&#160;the&#160;<br/>questionnaire.&#160;&#160;Whereas&#160;&#160;the&#160;&#160;programs&#160;&#160;do&#160;&#160;support&#160;&#160;other&#160;&#160;configurations&#160;&#160;than&#160;&#160;the&#160;&#160;one&#160;<br/>specified&#160;&#160;in&#160;&#160;your&#160;&#160;questionnaire,&#160;&#160;Vector’s&#160;&#160;release&#160;&#160;of&#160;&#160;the&#160;&#160;programs&#160;&#160;delivered&#160;&#160;to&#160;&#160;your&#160;<br/>company&#160;&#160;is&#160;&#160;expressly&#160;&#160;restricted&#160;&#160;to&#160;&#160;the&#160;&#160;configuration&#160;&#160;you&#160;&#160;have&#160;&#160;specified&#160;&#160;in&#160;&#160;the&#160;<br/>questionnaire.&#160;<br/>
&#160;<br/>
This implementation&#160;and&#160;this user&#160;manual&#160;are&#160;based&#160;on&#160;the&#160;documents,&#160;listed&#160;above.&#160;<br/>
&#160;<br/>
<b>It is&#160;important&#160;to know&#160;the&#160;documents&#160;above-mentioned for a&#160;better understanding&#160;<br/>and the&#160;use&#160;of this&#160;manual.&#160;<br/></b>/OSEK-COM/&#160;&#160;defines&#160;different&#160;&#160;kinds&#160;&#160;of&#160;&#160;transmissions.&#160;&#160;One&#160;&#160;of&#160;&#160;them&#160;&#160;is&#160;&#160;the&#160;&#160;USDT&#160;&#160;(Unack-<br/>nowledged&#160;&#160;Unsegmented&#160;&#160;Data&#160;&#160;Transfer).&#160;&#160;It&#160;&#160;is&#160;&#160;standardized&#160;&#160;together&#160;&#160;with&#160;&#160;ISO/TC22/SC3&#160;<br/>„Diagnostics on&#160;CAN“.&#160;The&#160;result&#160;of&#160;this standardization&#160;is the&#160;ISO&#160;Spezification15765-2.&#160;<br/>
The&#160;&#160;presented&#160;&#160;Vector-Implementation&#160;&#160;is&#160;&#160;based&#160;&#160;on&#160;&#160;the&#160;&#160;harmonized&#160;&#160;specification&#160;&#160;between&#160;<br/>OSEK-COM&#160;and&#160;ISO.&#160;The&#160;implementation&#160;is&#160;suitable&#160;for&#160;diagnostic&#160;purposes&#160;(KWP2000)&#160;<br/>as well&#160;as for „long“ messages in&#160;„normal“&#160;use.&#160;<br/>
Task&#160;&#160;of&#160;&#160;the&#160;&#160;transport&#160;&#160;layer&#160;&#160;is&#160;&#160;to&#160;&#160;transmit&#160;&#160;messages,&#160;&#160;which&#160;&#160;might&#160;&#160;be&#160;&#160;longer&#160;&#160;than&#160;&#160;a&#160;&#160;CAN-<br/>message.&#160;&#160;If&#160;&#160;messages&#160;&#160;do&#160;&#160;not&#160;&#160;fit&#160;&#160;into&#160;&#160;a&#160;&#160;CAN-message,&#160;&#160;they&#160;&#160;will&#160;&#160;be&#160;&#160;segmented&#160;&#160;by&#160;&#160;the&#160;<br/>transport&#160;protocol to&#160;be&#160;transmitted.&#160;<br/>
Today&#160;&#160;the&#160;&#160;ISO/TF2-transport&#160;&#160;protocol&#160;&#160;is&#160;&#160;mainly&#160;&#160;used&#160;&#160;for&#160;&#160;diagnosis&#160;&#160;applications&#160;&#160;in&#160;&#160;motor&#160;<br/>vehicle.&#160;Most&#160;of&#160;all&#160;KWP2000&#160;is used&#160;as a&#160;diagnosis protocol.&#160;&#160;<br/>
The&#160;introduction&#160;is&#160;followed&#160;by&#160;a&#160;brief&#160;overview&#160;of&#160;the&#160;architecture&#160;in&#160;the&#160;third&#160;chapter.&#160;On&#160;<br/>one&#160;&#160;side&#160;&#160;the&#160;&#160;most&#160;&#160;important&#160;&#160;points&#160;&#160;of&#160;&#160;the&#160;&#160;specification&#160;&#160;can&#160;&#160;be&#160;&#160;seen&#160;&#160;there&#160;&#160;(see&#160;&#160;also&#160;<br/>/ISO/TF2&#160;&#160;and&#160;&#160;/OSEK-COM/)&#160;&#160;and&#160;&#160;on&#160;&#160;the&#160;&#160;other&#160;&#160;side&#160;&#160;this&#160;&#160;explains&#160;&#160;the&#160;&#160;main&#160;&#160;ideas&#160;&#160;of&#160;&#160;this&#160;<br/>implementation.&#160;<br/>
The&#160;fourth&#160;chapter presents&#160;how&#160;to&#160;set&#160;up&#160;the&#160;transport&#160;protocol in&#160;the&#160;“Generation&#160;Tool”.&#160;<br/>
The&#160;fifth&#160;chapter contains a&#160;description&#160;of&#160;user interfaces&#160;of&#160;implementation.&#160;&#160;<br/>
Transmission&#160;attributes and&#160;callback&#160;functions are presented&#160;in&#160;a&#160;table&#160;in&#160;chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#159">r&#160;5.</a>&#160;<br/>
Rules to&#160;integrate&#160;CANbedded&#160;modules&#160;in&#160;customer projects&#160;are content&#160;of&#160;chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#159">r&#160;5,&#160;</a><a href="TechnicalReference_TransportProtocolMultiConnections.html#160">6.</a>&#160;<br/>
Chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#164">r&#160;7&#160;</a>is introducing&#160;a&#160;more&#160;advanced&#160;usage&#160;of&#160;the&#160;TP.&#160;<br/>
The&#160;last&#160;chapter contains an&#160;example&#160;for the&#160;user.&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
15&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=16></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-16_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>1.2&#160;</b><br/>
<b>Name&#160;Conventions&#160;</b><br/>
The&#160;prefix&#160;of&#160;a&#160;function&#160;name&#160;determines the&#160;module&#160;to&#160;which&#160;it belongs.&#160;<br/>
<b>Prefix&#160;</b><br/>
<b>Remark&#160;</b><br/>
ApplTp...&#160;<br/>
These&#160;functions&#160;must&#160;be&#160;defined within the&#160;customer’s&#160;application and were&#160;called&#160;<br/>by&#160;the&#160;Transport&#160;Layer&#160;module.&#160;The&#160;modules,&#160;which use&#160;functions&#160;of&#160;the&#160;Transport&#160;<br/>
&#160;<br/>
Layer,&#160;are&#160;always&#160;called&#160;application in&#160;this&#160;manual.&#160;<br/>
ApplTpRx<br/>
Hook-Functions&#160;which belong&#160;to&#160;the&#160;“reception&#160;part”&#160;of&#160;the&#160;TP.&#160;<br/>
…&#160;<br/>
ApplTpTx<br/>
Hook-Functions&#160;which belong&#160;to&#160;the&#160;“transmission&#160;part”&#160;of&#160;the&#160;TP.&#160;<br/>
…&#160;<br/>
Can...&#160;<br/>
Functions belong&#160;to&#160;the&#160;CAN-Driver.&#160;<br/>
TpRx...&#160;<br/>
Functions belong&#160;to&#160;the&#160;“reception part”&#160;of&#160;the&#160;Transport&#160;Layer.&#160;<br/>
TpTx…&#160;<br/>
Functions belong&#160;to&#160;the&#160;“transmission&#160;part”&#160;of&#160;the&#160;Transport&#160;Layer.&#160;<br/>
Table&#160;1-1&#160;&#160;&#160;&#160;Name&#160;Conventions&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
16&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=17></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-17_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>1.3&#160;</b><br/>
<b>Abbreviations&#160;</b><br/>
List of&#160;abbreviations in&#160;use:&#160;<br/>
<b>AE&#160;</b><br/>
Address Extension&#160;<br/>
<b>AI&#160;</b><br/>
Address&#160;Information&#160;<br/>
<b>AK&#160;</b><br/>
Acknowledge&#160;<br/>
<b>AR&#160;</b><br/>
Acknowledge Request<b>&#160;</b><br/>
<b>ASDT&#160;&#160;&#160;</b>Acknowledged&#160;Segmented&#160;Data&#160;Transfer&#160;<br/>
<b>BS&#160;</b><br/>
Block&#160;Size&#160;<br/>
<b>CF&#160;&#160;</b><br/>
Consecutive Frame&#160;<br/>
<b>CTS&#160;</b><br/>
Clear&#160;To&#160;Send&#160;<br/>
<b>DL&#160;</b><br/>
Data&#160;Length&#160;<br/>
<b>FC&#160;</b><br/>
Flow&#160;Control&#160;<br/>
<b>FF&#160;&#160;</b><br/>
First&#160;Frame&#160;<br/>
<b>FS&#160;</b><br/>
Flow&#160;Status&#160;Control&#160;<br/>
<b>ID&#160;</b><br/>
Identifier&#160;<br/>
<b>SF&#160;&#160;</b><br/>
Single Frame&#160;<br/>
<b>SN&#160;</b><br/>
Sequence&#160;Number&#160;<br/>
<b>ST&#160;</b><br/>
Separation&#160;Time&#160;<br/>
<b>TA&#160;&#160;&#160;</b><br/>
Target&#160;Address&#160;<br/>
<b>TP&#160;</b><br/>
Transport&#160;Protocol&#160;<br/>
<b>TPCI&#160;&#160;&#160;</b>Transport&#160;Protocol&#160;Control&#160;Information&#160;<br/>
<b>USDT&#160;&#160;&#160;</b>Unacknowledged&#160;Segmented&#160;Data&#160;Transfer&#160;<br/>
<b>UUDT&#160;&#160;</b>Unacknowledged&#160;Unsegmented&#160;Data&#160;Transfer&#160;<br/>
<b>WT&#160;</b><br/>
Wait&#160;<br/>
<b>XDL&#160;&#160;&#160;</b>extended Data Length&#160;<br/>
Table&#160;1-2&#160;&#160;&#160;&#160;Abbreviations&#160;<br/>
<b>1.4&#160;</b><br/>
<b>Channel&#160;vs.&#160;Connection&#160;&#160;</b><br/>
A&#160;(transport)&#160;<b>channel</b>&#160;is the&#160;physical part&#160;of&#160;the&#160;communication&#160;link,&#160;containing&#160;the&#160;<br/>reception-/transmission&#160;mechanism.&#160;It&#160;can&#160;be&#160;understood&#160;as an&#160;instance&#160;of&#160;TPMC in&#160;an&#160;<br/>object&#160;oriented&#160;meaning.&#160;Each&#160;channel can&#160;handle&#160;one&#160;connection&#160;at&#160;one&#160;point&#160;in&#160;time.&#160;<br/>
A&#160;<b>connection&#160;</b>describes a&#160;logical communication&#160;link&#160;between&#160;two&#160;ECU’s.&#160;In&#160;the&#160;<br/>communication&#160;matrix&#160;it&#160;is a&#160;fixed&#160;assignment&#160;between&#160;these&#160;ECU’s to&#160;interchange&#160;data&#160;<br/>(e.g.&#160;the&#160;diagnostic request&#160;and&#160;response&#160;message&#160;between&#160;the&#160;Tester and&#160;an&#160;ECU).&#160;<br/>A&#160;connection&#160;includes&#160;all&#160;necessary&#160;communication&#160;parameters&#160;for the&#160;used&#160;addressing&#160;<br/>mode&#160;(e.g.&#160;CAN-channel, CAN-IDs,&#160;Source-and&#160;Target&#160;Addresses,&#160;Base-Addresses,&#160;etc).&#160;&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
17&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=18></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-18_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>1.5&#160;</b><br/>
<b>TP&#160;classes&#160;</b><br/>
<b>1.5.1&#160;</b><br/>
<b>SingleTP&#160;classes&#160;</b><br/>
In&#160;&#160;a&#160;&#160;Single&#160;&#160;TP&#160;&#160;class&#160;&#160;only&#160;&#160;one&#160;&#160;connection&#160;&#160;is&#160;&#160;possible,&#160;&#160;which&#160;&#160;is&#160;&#160;using&#160;&#160;the&#160;&#160;only&#160;&#160;available&#160;<br/>TpChannel.&#160;<br/>
<b>1.5.2&#160;</b><br/>
<b>Static&#160;MultiTP&#160;classes&#160;</b><br/>
While&#160;using&#160;Static&#160;TP&#160;classes every&#160;connection&#160;is&#160;fixed&#160;assigned&#160;to&#160;a&#160;TpChannel.&#160;<br/>
<b>1.5.3&#160;</b><br/>
<b>Dynamic&#160;MultiTP&#160;classes&#160;</b><br/>
The&#160;&#160;idea&#160;&#160;of&#160;&#160;dynamic&#160;TP&#160;&#160;classes&#160;&#160;is&#160;&#160;to&#160;&#160;use&#160;&#160;the&#160;&#160;circumstances&#160;&#160;that&#160;&#160;not&#160;&#160;all&#160;&#160;connections&#160;are&#160;<br/>used&#160;at&#160;the&#160;same&#160;time.&#160;Therefore&#160;a&#160;connection&#160;is necessary&#160;allocating&#160;a&#160;TpChannel&#160;at&#160;run-<br/>time.&#160;<br/>
<b>1.5.4&#160;</b><br/>
<b>Dispatched&#160;MultiTP&#160;classes&#160;</b><br/>
The&#160;&#160;“Dispatched”&#160;&#160;MultiTP&#160;&#160;class&#160;&#160;was&#160;&#160;introduced&#160;&#160;to&#160;&#160;disburden&#160;&#160;the&#160;&#160;application&#160;&#160;from&#160;&#160;the&#160;<br/>dispatching&#160;job.&#160;<br/>
Using&#160;&#160;the&#160;&#160;“Dynamic&#160;&#160;MultiTP”&#160;&#160;classes,&#160;&#160;which&#160;&#160;support&#160;&#160;only&#160;&#160;one&#160;&#160;single&#160;&#160;set&#160;&#160;of&#160;&#160;callback&#160;<br/>functions&#160;&#160;for&#160;&#160;all&#160;&#160;connections&#160;&#160;together,&#160;&#160;the&#160;&#160;dispatching&#160;&#160;of&#160;&#160;the&#160;&#160;actual&#160;&#160;destination&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>performed&#160;by&#160;the&#160;application.&#160;&#160;<br/>
Using&#160;&#160;the&#160;&#160;“Dispatched&#160;&#160;MultiTP”&#160;&#160;classes&#160;&#160;all&#160;&#160;of&#160;&#160;the&#160;&#160;dispatching&#160;&#160;work&#160;&#160;is&#160;&#160;done&#160;&#160;within&#160;&#160;the&#160;<br/>TPMC.&#160;&#160;<br/>
“Dispatched&#160;MultiTP” is located&#160;between&#160;static and&#160;dynamic&#160;TP&#160;classes.&#160;&#160;<br/>
<b>Transmission&#160;</b><br/>
The&#160;new&#160;allocated&#160;TpChannel&#160;has&#160;included&#160;blank&#160;communication&#160;parameters&#160;only,&#160;except&#160;<br/>for&#160;&#160;the&#160;&#160;connection-handle&#160;&#160;(tpChannel&#160;&#160;=&#160;&#160;TpTxGetFreeChannel(connection)).&#160;&#160;&#160;&#160;To&#160;<br/>establish&#160;&#160;the&#160;&#160;connection&#160;&#160;it&#160;&#160;is&#160;&#160;necessary&#160;&#160;to&#160;&#160;assign&#160;&#160;the&#160;&#160;connection&#160;&#160;parameters&#160;&#160;to&#160;&#160;the&#160;<br/>TpChannel.&#160;The&#160;TpChannel is always used&#160;to&#160;refer to&#160;the&#160;connection&#160;(like&#160;a&#160;handle). Every&#160;<br/>callback-&#160;or&#160;API-function&#160;has&#160;the&#160;tpChannel as a&#160;parameter.&#160;&#160;<br/>
<b>Reception&#160;</b><br/>
If&#160;a&#160;Single-&#160;or&#160;FirstFrames&#160;is&#160;received&#160;the&#160;Transport&#160;Protocol&#160;is&#160;searching&#160;internally&#160;for&#160;a&#160;<br/>free&#160;&#160;TpChannel.&#160;&#160;If&#160;&#160;a&#160;&#160;free&#160;&#160;TpChannel&#160;&#160;is&#160;&#160;found&#160;&#160;a&#160;&#160;data&#160;&#160;buffer&#160;&#160;will&#160;&#160;be&#160;&#160;requested&#160;&#160;by&#160;&#160;calling&#160;<br/>ApplTpRxGetBuffer()&#160;from&#160;the&#160;application.&#160;Within&#160;this function&#160;the&#160;application&#160;has also&#160;<br/>to&#160;decide&#160;to&#160;which&#160;connection&#160;the&#160;received&#160;TP&#160;frame&#160;belongs.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
18&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=19></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-19_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>1.6&#160;</b><br/>
<b>SingleConnection vs.&#160;MultipleConnection&#160;</b><br/>
The&#160;&#160;TPMC&#160;&#160;component&#160;&#160;has&#160;&#160;two&#160;&#160;different&#160;&#160;operation&#160;&#160;modes:&#160;&#160;a&#160;&#160;SingleConnection&#160;&#160;and&#160;&#160;a&#160;<br/>MultipleConnection&#160;&#160;mode.&#160;&#160;The&#160;&#160;MultipleConnection&#160;&#160;mode&#160;&#160;has&#160;&#160;the&#160;&#160;capability&#160;&#160;to&#160;&#160;handle&#160;<br/>different&#160;&#160;transmissions&#160;&#160;and&#160;&#160;receptions&#160;&#160;at&#160;&#160;the&#160;&#160;same&#160;&#160;time&#160;&#160;like&#160;&#160;ECU&#160;&#160;1&#160;&#160;in&#160;&#160;figure&#160;&#160;1.&#160;&#160;If&#160;<br/>SingleConnection&#160;mode&#160;is&#160;used&#160;only&#160;one&#160;transmission&#160;and&#160;one&#160;reception&#160;(one&#160;full-duplex&#160;<br/>connection)&#160;can&#160;be&#160;performed&#160;at&#160;&#160;the&#160;same&#160;time&#160;(ECU&#160;&#160;3&#160;and&#160;ECU&#160;4).&#160;A&#160;typical&#160;usage&#160;for&#160;<br/>the&#160;SingleConnection&#160;mode&#160;is a&#160;diagnostic connection.&#160;&#160;<br/>
The&#160;&#160;SingleConnection&#160;&#160;mode&#160;&#160;needs&#160;&#160;lower&#160;&#160;resources&#160;&#160;(ROM&#160;&#160;and&#160;&#160;runtime),&#160;&#160;than&#160;&#160;the&#160;<br/>MultipleConnection&#160;mode.&#160;&#160;<br/>
<b>ECU 2</b><br/>
<b>ECU 4</b><br/>
1<br/>
1<br/>
&#160;<br/>
&#160;<br/>
2&#160;<br/>
n<br/>
n<br/>
n<br/>
o<br/>
o<br/>
o<br/>
C<br/>
C<br/>
Con&#160;3<br/>
C<br/>
<b>ECU 1</b><br/>
Con&#160;4<br/>
<b>ECU 3</b><br/>
Con&#160;4<br/>
&#160;<br/>
Figure&#160;1-1&#160;SingleConnection&#160;vs.&#160;MultipleConnection&#160;<br/>
<b>1.7&#160;</b><br/>
<b>Features&#160;</b><br/>
The&#160;&#160;main&#160;&#160;focus&#160;&#160;while&#160;&#160;the&#160;&#160;development&#160;&#160;of&#160;&#160;the&#160;&#160;Transport&#160;&#160;Layer&#160;&#160;is&#160;&#160;an&#160;&#160;easy&#160;&#160;to&#160;&#160;handle&#160;&#160;and&#160;<br/>flexible&#160;application&#160;interface.&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Therefore&#160;the&#160;buffer handling&#160;should&#160;be&#160;done&#160;by&#160;the&#160;application&#160;itself.&#160;This&#160;is more&#160;<br/>
flexible&#160;than&#160;a&#160;static buffer handling&#160;internally&#160;by&#160;the&#160;Transport&#160;Layer.&#160;<br/>
<b>&gt;&#160;&#160;</b>Each&#160;accepted&#160;order&#160;to&#160;the&#160;TP&#160;will be&#160;acknowledged&#160;only&#160;once&#160;–&#160;positive&#160;or&#160;<br/>
negative.&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Full-duplex&#160;capability&#160;-&#160;every&#160;reception&#160;is independent&#160;from&#160;every&#160;transmission&#160;and&#160;<br/>
the&#160;other way&#160;round.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;static MultipleConnection&#160;TP&#160;supports connection-specific callback&#160;functions.&#160;<br/>
<b>&gt;&#160;&#160;</b>SingleConnection&#160;mode&#160;with&#160;lower resource&#160;demands.&#160;<br/>
<b>&gt;&#160;&#160;</b>Full ISO&#160;compliance&#160;<br/>
<b>&gt;&#160;&#160;</b>Non-ISO&#160;extensions like&#160;‘zero-padding’; ‘connections without&#160;FlowControls’&#160;<br/>
<b>&gt;&#160;&#160;</b>Multiple&#160;addressing&#160;mode&#160;support (Normal-&#160;and&#160;Extended&#160;Addressing&#160;at&#160;the&#160;same&#160;<br/>
time&#160;in&#160;the&#160;same&#160;ECU)&#160;<br/>
&#160;<br/>
<b>1.7.1&#160;</b><br/>
<b>Feature&#160;List&#160;</b><br/>
Not&#160;any&#160;version&#160;of&#160;TPMC offers any&#160;mentioned&#160;feature&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
19&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-20_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Feature&#160;</b><br/>
<b>Short&#160;Description&#160;</b><br/>
<b>)&#160;&#160;f<br/>of&#160;</b><br/>
<b>&#160;</b><br/>
<b>/&#160;</b><br/>
<b>ytil</b><br/>
<b>on</b><br/>
<b>i</b><br/>
<b>(&#160;</b><br/>
<b>abli<br/>va</b><br/>
<b>efault</b><br/>
<b>A</b><br/>
<b>D</b><br/>
<b>General&#160;Features&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
Normal&#160;Addressing&#160;<br/>
Liz&#160;<br/>
11bit CAN ID&#160;Addressing,&#160;CAN ID&#160;identifies&#160;TP&#160;<br/>
-&#160;<br/>
message&#160;<br/>
Extended&#160;Addressing&#160;<br/>
Liz&#160;<br/>
11bit CAN ID&#160;Addressing,&#160;Source&#160;Address&#160;in CAN ID&#160;<br/>
-&#160;<br/>
and&#160;Target&#160;Address&#160;in first data&#160;byte&#160;&#160;<br/>
Normal&#160;Fixed&#160;<br/>
Liz&#160;<br/>
29bit CAN ID&#160;Addressing,&#160;Source&#160;and&#160;Target&#160;Address&#160;in&#160;&#160;-&#160;<br/>
Addressing&#160;<br/>
CAN ID&#160;<br/>
Mixed&#160;11bit&#160;CAN&#160;ID&#160;<br/>
Liz&#160;<br/>
11bit CAN ID&#160;Addressing,&#160;CAN ID&#160;identifies&#160;TP&#160;<br/>
-&#160;<br/>
Addressing&#160;<br/>
message,&#160;first data&#160;byte used&#160;for&#160;AddressExtension&#160;&#160;<br/>Gateway&#160;<br/>
Mixed&#160;29bit&#160;CAN&#160;ID&#160;<br/>
Liz&#160;<br/>
29bit CAN ID&#160;Addressing,&#160;Source&#160;and&#160;Target&#160;Address&#160;in&#160;&#160;-&#160;<br/>
Addressing&#160;<br/>
CAN ID, first data&#160;byte&#160;used for&#160;AddressExtension&#160;&#160;<br/>Gateway&#160;<br/>
Multiple&#160;Addressing&#160;<br/>
Liz&#160;<br/>
Combination&#160;of&#160;former&#160;mentioned&#160;addressing&#160;types&#160;<br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Static channel&#160;<br/>
&#160;<br/>
Assignment between channel&#160;and&#160;connection is&#160;fixed&#160;at&#160;&#160;&#160;<br/>
assignment&#160;<br/>
compile time.&#160;<br/>Advantage in opposite to&#160;dynamic&#160;assignment is&#160;better&#160;<br/>efficiency&#160;(code +&#160;runtime)&#160;<br/>
Dynamic&#160;channel&#160;<br/>
&#160;<br/>
Flexible&#160;pool&#160;of&#160;channels,&#160;which can be&#160;assigned&#160;to&#160;<br/>
&#160;<br/>
assignment&#160;<br/>
connections&#160;at&#160;runtime.&#160;If&#160;no&#160;channel&#160;is&#160;free&#160;the request&#160;<br/>is&#160;rejected. Nr&#160;of&#160;channels&#160;can&#160;be&#160;&lt;=&#160;connections.&#160;<br/>(Time division&#160;multiplexing)&#160;<br/>
C++&#160;access&#160;to&#160;TPMC&#160;<br/>
&#160;<br/>
C++&#160;applications&#160;can&#160;access&#160;TPMC. Header&#160;declared&#160;<br/>
&#160;<br/>
as&#160;extern C.&#160;<br/>
Additional&#160;OBD&#160;<br/>
&#160;<br/>
Additional&#160;receive path&#160;to&#160;handle OBD requests&#160;at&#160;any&#160;<br/>
&#160;<br/>
reception&#160;capability&#160;<br/>
time,&#160;independent to&#160;allocated&#160;channel&#160;resources.&#160;<br/>
<b>Receiving&#160;Features&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Extended&#160;API&#160;STmin&#160;<br/>
&#160;<br/>
Enables&#160;functions&#160;to set&#160;and get&#160;the&#160;STmin value for a&#160;<br/>
Off&#160;<br/>
TpChannel.&#160;<br/>
Extended&#160;API&#160;<br/>
&#160;<br/>
Enables&#160;functions&#160;to set&#160;and get&#160;the&#160;BS&#160;value&#160;for a&#160;<br/>
Off&#160;<br/>
BlockSize&#160;<br/>
TpChannel.&#160;&#160;<br/>
Precopy&#160;check&#160;/&#160;Check&#160;&#160;&#160;<br/>
Forwards&#160;CAN&#160;Driver&#160;Precopy&#160;callback&#160;from&#160;TPMC to&#160;<br/>
Off&#160;<br/>
TA&#160;function&#160;<br/>
application. Used&#160;for special&#160;purposes.&#160;<br/>
Check&#160;Target&#160;Address&#160;<br/>
Mixed29,&#160;&#160;Forwards&#160;CAN&#160;Driver&#160;Precopy&#160;callback&#160;from&#160;TPMC to&#160;<br/>
Off&#160;<br/>
former&#160;called:&#160;<br/>
Normal&#160;<br/>
application. Parameter&#160;TargetAddress&#160;is&#160;evaluated&#160;by&#160;<br/>
Application Precopy<b>&#160;</b><br/>
Fixed&#160;<br/>
application. Return&#160;value&#160;0xFF&#160;rejects&#160;reception.&#160;<br/>
Channel&#160;specific&#160;timing<b>&#160;&#160;</b>Static&#160;<br/>
Assigns&#160;individual&#160;timing&#160;values&#160;to each&#160;channel.&#160;<br/>
Off&#160;<br/>
TPMC&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
20&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=21></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-21_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
Custom&#160;Rx&#160;Memcopy<b>&#160;</b><br/>
&#160;<br/>
TP&#160;calls&#160;ApplTpRxCopyFromCAN callback&#160;function&#160;to&#160;<br/>
Off&#160;<br/>
enable&#160;the&#160;application&#160;copying&#160;the&#160;CAN frame data&#160;<br/>itself.&#160;<br/>
Rx&#160;Channel&#160;without&#160;FC&#160;&#160;Multi&#160;<br/>
No FC used in transport protocol&#160;communication.&#160;<br/>
Off&#160;<br/>
TPMC&#160;<br/>
Fast&#160;Precopy<b>&#160;</b><br/>
Extended&#160;Target&#160;Address&#160;is&#160;not&#160;evaluated&#160;when receiving&#160;a&#160;TP&#160;<br/>
Off&#160;<br/>
,&#160;<br/>
frame.&#160;<br/>
Mixed29,&#160;<br/>Normal&#160;<br/>Fixed&#160;<br/>
Transmission&#160;of&#160;FC&#160;in&#160;<br/>
&#160;<br/>
The&#160;FC&#160;is&#160;sending&#160;in&#160;CAN&#160;RX&#160;IRQ&#160;forced&#160;from&#160;FF&#160;and&#160;<br/>
On&#160;<br/>
ISR&#160;<br/>
last CF out&#160;of&#160;a&#160;block.&#160;<br/>
Fix&#160;Rx&#160;DLC&#160;Check&#160;<br/>
&#160;<br/>
Check&#160;compares&#160;actual&#160;DLC&#160;with expected&#160;frame&#160;<br/>
Off&#160;<br/>
length&#160;(CAN:&#160;8).&#160;&#160;<br/>
Variable Rx&#160;DLC&#160;Check&#160;&#160;&#160;<br/>
Check&#160;compares&#160;actual&#160;DLC&#160;with minimum&#160;expected&#160;<br/>
On&#160;<br/>
frame length.&#160;Check&#160;is&#160;TPMC frame type&#160;depending.&#160;<br/>
Functional&#160;FC&#160;Wait&#160;<br/>
&#160;<br/>
Non&#160;ISO&#160;feature:&#160;A&#160;functional&#160;FC&#160;with&#160;flow&#160;status&#160;wait is&#160;&#160;Off&#160;<br/>supported to reload&#160;with functional&#160;addressing&#160;the&#160;<br/>timeout&#160;timer awaiting physical&#160;FC.&#160;&#160;<br/>
Strict&#160;length&#160;check&#160;<br/>
&#160;<br/>
If&#160;variable&#160;Rx&#160;Dlc&#160;is&#160;enabled then the minimum&#160;byte&#160;<br/>
Off&#160;<br/>
count&#160;is&#160;checked. If&#160;more bytes&#160;than&#160;announced in the&#160;<br/>PCI byte (SF&#160;and&#160;last CF)&#160;are received then&#160;the&#160;frame&#160;<br/>is&#160;accepted nevertheless.&#160;When&#160;the strict length&#160;check&#160;<br/>feature is&#160;enabled&#160;(#define&#160;<br/>TP_ENABLE_STRICT_DL_CHECK)&#160;then&#160;all&#160;frames&#160;which&#160;do&#160;<br/>not&#160;exactly&#160;match&#160;the&#160;PCI-DL&#160;value&#160;are&#160;ignored.&#160;<br/>
Suppress&#160;Multi&#160;-&#160;frame&#160;<br/>
&#160;<br/>
For some applications,&#160;which use only&#160;Single&#160;Frames&#160;<br/>
Off&#160;<br/>
reception&#160;<br/>
on&#160;the Rx&#160;side,&#160;the&#160;reception of&#160;Multi&#160;Frames&#160;can&#160;be&#160;<br/>disabled&#160;by&#160;setting&#160;the&#160;TP_DISABLE_MF_RECEPTION&#160;<br/>switch via&#160;a user configuration&#160;file.&#160;&#160;<br/>The&#160;benefit&#160;is&#160;the smaller resource consumption.&#160;The&#160;<br/>remaining&#160;Single Frame reception is&#160;unaffected.&#160;<br/>
<b>Transmission&#160;&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>Features</b>&#160;<br/>
Use STmin of&#160;FC<b>&#160;</b><br/>
&#160;<br/>
The&#160;STmin value&#160;is&#160;used&#160;from&#160;the FC.&#160;&#160;<br/>
Off&#160;<br/>
See&#160;also&#160;TxTransmitCF.&#160;&#160;<br/>
Analyze first&#160;FC&#160;only&#160;<br/>
&#160;<br/>
Only&#160;first FC&#160;values&#160;are analyzed to set&#160;STmin and&#160;<br/>
Off&#160;<br/>
BlockSize.&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Custom&#160;TX&#160;Memcopy&#160;<br/>
&#160;<br/>
TP&#160;calls&#160;ApplTpTxCopyToCAN callback&#160;function&#160;to&#160;<br/>
Off&#160;<br/>
enable&#160;the&#160;application&#160;copying&#160;the&#160;TX&#160;data&#160;to&#160;the&#160;CAN&#160;<br/>frame.&#160;<br/>
TX&#160;Channel&#160;without&#160;FC&#160;&#160;Multi&#160;<br/>
Transmission&#160;without&#160;waiting for a FC. In&#160;dynamic&#160;TP&#160;<br/>
Off&#160;<br/>
TPMC&#160;<br/>
classes&#160;this&#160;feature&#160;can&#160;be&#160;activated for each channel.&#160;<br/>
Fast&#160;TX&#160;Transmission&#160;<br/>
&#160;<br/>
Enables&#160;the&#160;application to&#160;send&#160;TP&#160;frames&#160;in cycle time&#160;&#160;Off&#160;<br/>faster than&#160;TpTxTask()&#160;cycle time.&#160;<br/>
Transmission&#160;of&#160;FC&#160;in&#160;<br/>
&#160;<br/>
Directly&#160;response&#160;with&#160;FC&#160;in IRQ&#160;context of&#160;received&#160;FF&#160;&#160;On&#160;<br/>
ISR&#160;<br/>
or CF.&#160;<br/>
Variable DLC&#160;<br/>
&#160;<br/>
The&#160;DLC is&#160;adapted&#160;for SF,&#160;FC&#160;and&#160;last&#160;CF&#160;as&#160;indicated&#160;&#160;Off&#160;<br/>by&#160;addressing&#160;type and data amount.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
21&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=22></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-22_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
Ignore&#160;FC&#160;content&#160;<br/>
&#160;<br/>
FC is&#160;required&#160;for proceeding&#160;but&#160;standard&#160;values&#160;are&#160;<br/>
Off&#160;<br/>
used&#160;instead of&#160;received&#160;ones.&#160;<br/>
TX&#160;Handle Changeable&#160;&#160;&#160;<br/>
The&#160;used&#160;CAN Driver handle can&#160;be changed&#160;while&#160;<br/>
Off&#160;<br/>
runtime&#160;–&#160;has&#160;to be&#160;used&#160;with&#160;special&#160;care&#160;<br/>
No STmin after&#160;FC&#160;<br/>
&#160;<br/>
No STmin time is&#160;kept after receiving a&#160;FC&#160;before&#160;<br/>
Off&#160;<br/>
sending&#160;next CF.&#160;<br/>
TX&#160;min&#160;timer&#160;<br/>
&#160;<br/>
If&#160;the database&#160;attribute ‘GenMsgDelayTime’&#160;has&#160;a&#160;<br/>
Off&#160;<br/>
value&#160;unequal&#160;to&#160;zero, the&#160;TP&#160;observes&#160;this&#160;minimum&#160;<br/>time between two transmissions.&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>Special&#160;Features&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Gateway&#160;API&#160;<br/>
&#160;<br/>
Extended&#160;API to support Gateway&#160;requirements&#160;(TP&#160;<br/>
&#160;<br/>
message routing)&#160;<br/>
Multiple ECU&#160;NR&#160;<br/>
&#160;<br/>
Source-&#160;and&#160;TargetAddress&#160;can&#160;be&#160;modified&#160;while&#160;<br/>
&#160;<br/>
runtime&#160;<br/>
Multiple ECU&#160;<br/>
&#160;<br/>
Optimized&#160;support for physical&#160;multiple&#160;ECU&#160;<br/>
&#160;<br/>
configurations.&#160;<br/>
Multiple Base&#160;Address&#160;<br/>
Extended&#160;&#160;More than&#160;one&#160;Base&#160;Address&#160;can&#160;be&#160;used&#160;<br/>
&#160;<br/>
BufferOverrun&#160;<br/>
&#160;<br/>
If&#160;the request size exceeds&#160;the&#160;buffer size,&#160;this&#160;feature&#160;<br/>
off&#160;<br/>
Indication&#160;<br/>
can&#160;be&#160;used&#160;to receive the&#160;request anyway,&#160;without&#160;<br/>copy&#160;the&#160;CF&#160;data.&#160;<br/>
Queue&#160;in&#160;ISR&#160;<br/>
Dynamic&#160;&#160;The&#160;next queued element (if&#160;available)&#160;will&#160;be&#160;<br/>
on&#160;<br/>
TP-<br/>
transmitted&#160;within&#160;TX-ISR.&#160;&#160;<br/>
classes&#160;<br/>
ISO&#160;Compliancy&#160;<br/>
&#160;<br/>
Distinguish between&#160;early&#160;ISO&#160;spec&#160;drafts&#160;and&#160;newer&#160;<br/>
on&#160;<br/>
ones&#160;concerning STmin interpretation, DataLength&#160;=&#160;0&#160;<br/>behavior and&#160;CF&#160;sequence&#160;error treatment.&#160;&#160;<br/>
Frame&#160;Padding&#160;<br/>
&#160;<br/>
SF&#160;and last CF frame are padded out&#160;with&#160;a pattern&#160;<br/>
oem<br/>
given&#160;in&#160;the&#160;generation&#160;tool.&#160;<br/>
, off&#160;<br/>
Priority&#160;inversion&#160;<br/>
&#160;<br/>
Prevents&#160;TPMC to&#160;interrupt&#160;a&#160;multi&#160;frame&#160;<br/>
on&#160;<br/>
protect&#160;<br/>
transmission/reception&#160;when transmission&#160;and&#160;<br/>reception events&#160;are&#160;in&#160;wrong&#160;order processed&#160;(RX&#160;<br/>event&#160;with&#160;higher&#160;priority&#160;than&#160;Tx&#160;event).&#160;&#160;<br/>See&#160;als<a href="TechnicalReference_TransportProtocolMultiConnections.html#34">o “2.5.1”.</a>&#160;<br/>
Runtime checks&#160;<br/>
&#160;<br/>
Runtime condition&#160;checks&#160;<br/>
off&#160;<br/>
Strict&#160;message&#160;flow&#160;<br/>
&#160;<br/>
Illegal&#160;FlowControl&#160;frames&#160;will&#160;suspend&#160;a&#160;running&#160;<br/>
on&#160;<br/>
check&#160;<br/>
transmission&#160;–&#160;with&#160;same addressing&#160;information&#160;<br/>
Diag&#160;Functional&#160;<br/>
CANDes<br/>
Capability&#160;to handle functional&#160;diagnostic&#160;requests&#160;<br/>
on&#160;<br/>
channel&#160;<br/>
c&#160;(basic)&#160;&#160;within&#160;TPMC (only&#160;for Vector Diag components&#160;e.g.:&#160;<br/>
CANDesc)&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Table&#160;1-3&#160;&#160;&#160;&#160;Feature&#160;List&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
22&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-23_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>2&#160;&#160;Architecture&#160;Overview&#160;</b><br/>
This&#160;chapter&#160;describes&#160;the&#160;basic&#160;functionality&#160;of&#160;the&#160;Transport&#160;Protocol&#160;and&#160;its&#160;main&#160;ideas&#160;<br/>applying&#160;to&#160;the&#160;Vector&#160;implementation&#160;of&#160;the&#160;Transport&#160;Protocol.&#160;Particular&#160;functions&#160;of&#160;the&#160;<br/>Transport Protocol&#160;modules,&#160;as well&#160;as its&#160;configuration&#160;are described&#160;in&#160;later chapters.&#160;<br/>
The&#160;&#160;main&#160;&#160;idea&#160;&#160;of&#160;&#160;the&#160;&#160;Vector&#160;&#160;implementation&#160;&#160;is&#160;&#160;to&#160;&#160;provide&#160;&#160;an&#160;&#160;interface,&#160;&#160;which&#160;&#160;is&#160;&#160;easy&#160;&#160;in&#160;<br/>operation&#160;&#160;and&#160;&#160;adequate&#160;&#160;for&#160;&#160;most&#160;&#160;applications.&#160;&#160;The&#160;&#160;implementation&#160;&#160;is&#160;&#160;quite&#160;&#160;efficient&#160;<br/>regarding&#160;ROM and&#160;RAM&#160;as well&#160;as run-time&#160;requirements.&#160;<br/>
<b>2.1&#160;</b><br/>
<b>Requirements&#160;</b><br/>
This chapter shows basic requirements&#160;of&#160;the&#160;implementation&#160;of&#160;the&#160;Transport Protocol.&#160;<br/>
<b>2.1.1&#160;</b><br/>
<b>Protocol-Overview&#160;</b><br/>
The&#160;Task of&#160;the&#160;transport protocol is to&#160;transmit messages,&#160;which&#160;are generally&#160;longer than&#160;<br/>a&#160;CAN&#160;message.&#160;If&#160;a&#160;message&#160;is very&#160;short,&#160;it&#160;is transmitted&#160;unsegmented&#160;within&#160;TP.&#160;<br/>
<b>2.1.1.1&#160;</b><br/>
<b>Construction of&#160;unsegmented messages&#160;</b><br/>
Sender<br/>
Receiver<br/>
DataLength&#160;=&#160;2,&#160;DL=$2;<br/>
SingleFrame(SF)[(PCI.DL=2,xx..&#160;]<br/>
DataLength&#160;=&#160;2<br/>DL=$2<br/>
&#160;<br/>
&#160;<br/>
Figure&#160;2-1&#160;Example&#160;of&#160;unsegmented&#160;message&#160;<br/>
Unsegmented&#160;&#160;messages&#160;&#160;are&#160;&#160;transmitted&#160;&#160;by&#160;&#160;a&#160;&#160;SingleFrame&#160;&#160;message.&#160;&#160;SingleFrame&#160;<br/>messages&#160;&#160;can&#160;&#160;have&#160;&#160;a&#160;&#160;length&#160;&#160;of&#160;&#160;7&#160;&#160;data&#160;&#160;bytes&#160;&#160;at&#160;&#160;a&#160;&#160;maximum&#160;&#160;(normal&#160;&#160;addressing&#160;&#160;s.b.)&#160;<br/>respectively&#160;6&#160;data&#160;bytes (extended&#160;addressing,&#160;s.b.).&#160;There is&#160;no&#160;Flow-Control (s.b.).&#160;<br/>
<b>2.1.1.2&#160;</b><br/>
<b>Construction of&#160;segmented messages&#160;</b><br/>
Messages,&#160;&#160;which&#160;&#160;do&#160;&#160;not&#160;&#160;fit&#160;&#160;into&#160;&#160;a&#160;&#160;SingleFrame&#160;&#160;are&#160;&#160;sent&#160;&#160;by&#160;&#160;a&#160;&#160;sequence&#160;&#160;of&#160;&#160;single&#160;&#160;CAN&#160;<br/>frames.&#160;The&#160;receiver&#160;is&#160;informed&#160;of&#160;the&#160;length&#160;of&#160;the&#160;whole&#160;message&#160;in&#160;the&#160;FirstFrame&#160;by&#160;<br/>the&#160;&#160;sender.&#160;&#160;ISO/TF2&#160;&#160;defines&#160;&#160;here&#160;&#160;a&#160;&#160;maximum&#160;&#160;length&#160;&#160;of&#160;&#160;4095&#160;&#160;bytes&#160;&#160;for&#160;&#160;user&#160;&#160;data.&#160;&#160;The&#160;<br/>receiver&#160;&#160;answers&#160;&#160;with&#160;&#160;a&#160;&#160;FlowControl.&#160;&#160;The&#160;&#160;receiver&#160;&#160;gives&#160;&#160;the&#160;&#160;BlockSize&#160;&#160;and&#160;&#160;the&#160;<br/>SeparationTime&#160;&#160;STmin&#160;&#160;to&#160;&#160;the&#160;&#160;sender&#160;&#160;in&#160;&#160;this&#160;&#160;FlowControl.&#160;&#160;The&#160;&#160;BlockSize&#160;&#160;controls&#160;&#160;the&#160;<br/>number&#160;of&#160;ConsecutiveFrames,&#160;&#160;which&#160;might&#160;&#160;be&#160;sent&#160;&#160;by&#160;the&#160;sender&#160;before&#160;waiting&#160;for&#160;the&#160;<br/>receivers’&#160;FlowControl&#160;(status).&#160;The&#160;minimum&#160;value&#160;of&#160;the&#160;SeparationTime&#160;STmin&#160;describes&#160;<br/>the&#160;minimum&#160;sending&#160;distance&#160;between&#160;two&#160;ConsecutiveFrames,&#160;which&#160;can&#160;be&#160;processed&#160;<br/>by&#160;&#160;the&#160;&#160;receiver.&#160;&#160;The&#160;&#160;sender&#160;&#160;transmits&#160;&#160;the&#160;&#160;maximum&#160;&#160;BlockSize&#160;&#160;ConsecutiveFrames<b>&#160;&#160;</b>after&#160;<br/>the&#160;reception&#160;of&#160;the&#160;FlowControl.&#160;The&#160;receiver&#160;does&#160;not&#160;answer&#160;it&#160;with&#160;a&#160;FlowControl,&#160;if&#160;all&#160;<br/>data&#160;has&#160;been&#160;transmitted.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
23&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-24_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
Sender<br/>
Receiver<br/>
First&#160;Frame[(PCI.XDL=$<br/>
DataLength&#160;=&#160;36<br/>
0,&#160;DL=$24,xx..&#160;]<br/>
XDL&#160;=&#160;$0,&#160;DL&#160;=&#160;$24<br/>DL=$2<br/>
Flow&#160;Control&#160;frame<br/>with&#160;impicite<br/>
Flow&#160;Control[PCI.FS,&#160;FC.BSmax=$3,FC,STmin,&#160;xx]<br/>
connection&#160;set-up<br/>
Consecutive&#160;Frame[PCI.SN=1,&#160;xx,xx..<br/>
Multiple<br/>
.]<br/>
consecutive<br/>
Consecutive&#160;Frame[<br/>
frames<br/>
PCI.SN=2,&#160;xx,xx...]<br/>
Consecutive&#160;Frame[PCI.SN=3,&#160;xx,xx...]<br/>
Flow&#160;Control&#160;frame<br/>because<br/>
Flow&#160;Control[PCI.FS,&#160;FC.BSmax=$3,FC,STmin,&#160;xx]<br/>
SN=BSmax<br/>
The&#160;last<br/>
Conse<br/>
consecutive<br/>
cutive&#160;Frame[PCI.SN<br/>
frame&#160;include<br/>
=4,&#160;xx,xx...]<br/>
2&#160;valid&#160;user<br/>
Conse<br/>
data&#160;bytes<br/>
cutive&#160;Frame[PCI.SN=5,&#160;xx,xx...]<br/>
End&#160;of&#160;multiple<br/>frame<br/>
&#160;<br/>
Figure&#160;2-2&#160;Construction&#160;of&#160;segmented&#160;message&#160;<br/>
<b>2.1.2&#160;</b><br/>
<b>Addressing modes&#160;</b><br/>
To&#160;handle&#160;the&#160;communication&#160;the&#160;Transport&#160;Protocol&#160;is&#160;using&#160;a&#160;Point-to-Point&#160;connection.&#160;<br/>To&#160;establish&#160;a&#160;Point-to-Point&#160;transfer&#160;on&#160;a&#160;broadcast&#160;protocol&#160;like&#160;CAN&#160;additional&#160;address&#160;<br/>information&#160;is&#160;needed&#160;(a&#160;source&#160;address&#160;for&#160;the&#160;transmit&#160;node&#160;and&#160;a&#160;target&#160;address&#160;for&#160;the&#160;<br/>receive&#160;node).&#160;<br/>
&#160;The&#160;ISO/TF2&#160;transport protocol defines&#160;four modes of&#160;addressing:&#160;<br/>
<b>„Normal“&#160;addressing&#160;</b><br/>
The&#160;CAN&#160;ID&#160;contains&#160;the&#160;complete addressing&#160;information&#160;(to each&#160;<br/>source-&#160;and&#160;target&#160;address&#160;combination&#160;a&#160;unique&#160;CAN&#160;ID&#160;is&#160;assigned)&#160;<br/>
<b>„Extended“&#160;addressing&#160;&#160;</b>The&#160;CAN&#160;ID&#160;contains only&#160;the&#160;source address&#160;and the&#160;first&#160;data&#160;byte&#160;<br/>
contains&#160;the&#160;target&#160;addressing&#160;information.&#160;<br/>
<b>“Normal&#160;fixed”&#160;</b><br/>
The&#160;extended CAN&#160;ID&#160;contains the&#160;complete&#160;addressing&#160;information&#160;<br/>
<b>addressing&#160;</b><br/>
according&#160;J1939&#160;<br/>
<b>“Mixed”&#160;addressing&#160;</b><br/>
Additionally&#160;to the&#160;extended CAN&#160;ID,&#160;according&#160;J1939,&#160;the&#160;first&#160;data&#160;<br/>byte contains a&#160;second&#160;target&#160;address&#160;information.&#160;&#160;<br/>Since&#160;ISO15765-2:&#160;2003&#160;the&#160;additional&#160;addressing&#160;mode&#160;mixed&#160;<br/>addressing&#160;on&#160;11-bit&#160;CAN&#160;IDs&#160;is&#160;defined.&#160;The&#160;address&#160;extension&#160;is&#160;<br/>stored&#160;in the&#160;first&#160;byte&#160;followed&#160;by&#160;the&#160;TPCI&#160;information.&#160;<br/>
Table&#160;2-1&#160;&#160;&#160;&#160;Addressing&#160;Modes&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
24&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-25_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
The&#160;&#160;Vector&#160;&#160;TP&#160;&#160;implementation&#160;&#160;supports&#160;&#160;all&#160;&#160;addressing&#160;&#160;mode.&#160;&#160;The&#160;&#160;used&#160;&#160;addressing&#160;<br/>method&#160;is&#160;normally&#160;determined&#160;at&#160;&#160;compile-time&#160;regarding&#160;ROM&#160;&#160;and&#160;RAM&#160;as&#160;well&#160;as&#160;run-<br/>time&#160;&#160;requirements.&#160;&#160;For&#160;&#160;special&#160;&#160;purpose&#160;&#160;it&#160;&#160;is&#160;&#160;also&#160;&#160;possible&#160;&#160;to&#160;&#160;determine&#160;&#160;the&#160;&#160;used&#160;<br/>addressing&#160;method&#160;at&#160;run-time&#160;(special version&#160;of&#160;the&#160;TPMC-module&#160;is needed).&#160;<br/>
<b>2.1.2.1&#160;</b><br/>
<b>Normal&#160;Addressing&#160;</b><br/>
The&#160;address&#160;information&#160;is coded&#160;in&#160;a&#160;unique&#160;CAN Identifier.&#160;<br/>
The&#160;&#160;Transport&#160;&#160;Protocol&#160;&#160;uses&#160;&#160;the&#160;&#160;1st&#160;&#160;and&#160;&#160;sometimes&#160;&#160;2nd&#160;&#160;data&#160;&#160;byte.&#160;&#160;The&#160;&#160;data&#160;&#160;length&#160;&#160;is&#160;<br/>coded&#160;in&#160;12bits.&#160;Therefore&#160;the&#160;maximum&#160;length&#160;of&#160;a&#160;message&#160;is&#160;limited&#160;to&#160;4095&#160;bytes.&#160;The&#160;<br/>receivers’&#160;&#160;control&#160;&#160;information&#160;&#160;(maximum&#160;&#160;block&#160;&#160;size&#160;&#160;and&#160;&#160;minimum&#160;&#160;SeparationTime)&#160;&#160;is&#160;<br/>transmitted&#160;to&#160;the&#160;sender within&#160;a&#160;FlowControl.&#160;<br/>
&#160;<br/>
<b>Type</b><br/>
<b>Byte&#160;0</b><br/>
<b>Byte&#160;1</b><br/>
<b>Byte&#160;2</b><br/>
<b>Byte&#160;3</b><br/>
<b>Byte&#160;4</b><br/>
<b>Byte&#160;5</b><br/>
<b>Byte&#160;6</b><br/>
<b>Byte&#160;7</b><br/>
TPCI<br/>
SingleFrame<br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
Type<br/>
Length<br/>
TPCI<br/>
DataLength<br/>
FirstFrame<br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
Type<br/>
Length<br/>
Length<br/>
Consecutive<br/>
TPCI<br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
Frame<br/>
Type<br/>
SN<br/>
TPCI<br/>
FlowControl<br/>
BS<br/>
ST<br/>
max<br/>
min<br/>
Type<br/>
FS<br/>
&#160;<br/>
Table&#160;2-2&#160;&#160;&#160;&#160;Frame&#160;size&#160;on&#160;normal&#160;addressing&#160;<br/>
<b>2.1.2.2&#160;</b><br/>
<b>Mixed 11-bit ID&#160;Addressing&#160;</b><br/>
Mixed&#160;&#160;11-bit&#160;&#160;addressing&#160;&#160;is&#160;&#160;a&#160;&#160;sub-format&#160;&#160;of&#160;&#160;normal&#160;&#160;addressing&#160;&#160;(refer&#160;&#160;above)&#160;&#160;where&#160;&#160;the&#160;<br/>mapping&#160;of&#160;the&#160;address information&#160;is&#160;further&#160;defined&#160;(see&#160;ISO&#160;15765-2:2004).&#160;&#160;<br/>
The&#160;target&#160;<b>address&#160;extension</b>&#160;information&#160;is placed&#160;in&#160;the&#160;first&#160;data&#160;byte&#160;of&#160;the&#160;CAN&#160;frame&#160;<br/>(see&#160;ISO&#160;15765-2:2004)&#160;followed&#160;by&#160;the&#160;TPCI&#160;information&#160;in&#160;byte&#160;two.&#160;<br/>
<b>2.1.2.3&#160;</b><br/>
<b>Normal&#160;Fixed&#160;Addressing&#160;</b><br/>
Normal&#160;&#160;fixed&#160;&#160;addressing&#160;&#160;is&#160;&#160;a&#160;&#160;sub-format&#160;&#160;of&#160;&#160;normal&#160;&#160;addressing&#160;&#160;(refer&#160;&#160;above)&#160;&#160;where&#160;&#160;the&#160;<br/>mapping&#160;&#160;of&#160;&#160;the&#160;&#160;address&#160;&#160;information&#160;&#160;into&#160;&#160;the&#160;&#160;(extended)&#160;&#160;CAN-Identifier&#160;&#160;is&#160;&#160;further&#160;&#160;defined&#160;<br/>(see&#160;ISO&#160;15765-2).&#160;<br/>
<b>J1939&#160;name</b><br/>
<b>P</b><br/>
<b>R/DP</b><br/>
<b>PF</b><br/>
<b>PS</b><br/>
<b>SA</b><br/>
<b>Data&#160;field</b><br/>
<b>Bits</b><br/>
3<br/>
2<br/>
8<br/>
8<br/>
8<br/>
64<br/>
ProtocolGroup&#160;<br/>
Target-&#160;<br/>
Source-<br/>
<b>Content</b><br/>
Priority&#160;Reserved<br/>
TPCI/Data<br/>
Identification<br/>
Address<br/>
Address<br/>
<b>CAN&#160;Id&#160;Bits</b><br/>
26-28<br/>
24-25<br/>
16-23<br/>
8-15<br/>
0-7<br/>
CAN&#160;data bytes<br/>
<b>CAN&#160;Field</b><br/>
Identifier<br/>
Data<br/>
&#160;<br/>
Table&#160;2-3&#160;&#160;&#160;&#160;CAN&#160;ID&#160;normal&#160;fixed&#160;addressing&#160;<br/>
For information&#160;about&#160;the&#160;“data&#160;field” see<a href="TechnicalReference_TransportProtocolMultiConnections.html#25">&#160;2.1.2.1.</a>&#160;<br/>
<b>2.1.2.4&#160;</b><br/>
<b>Extended&#160;Addressing&#160;</b><br/>
The&#160;&#160;source&#160;&#160;address&#160;&#160;is&#160;&#160;coded&#160;&#160;into&#160;&#160;the&#160;&#160;CAN&#160;&#160;ID&#160;&#160;by&#160;&#160;adding&#160;&#160;the&#160;&#160;address&#160;&#160;to&#160;&#160;a&#160;&#160;base&#160;&#160;CAN&#160;&#160;ID&#160;<br/>(e.g.:&#160;&#160;with&#160;&#160;a&#160;&#160;base&#160;&#160;CAN&#160;&#160;ID&#160;&#160;0x600&#160;&#160;and&#160;&#160;a&#160;&#160;source&#160;&#160;address&#160;&#160;of&#160;&#160;0x10&#160;&#160;the&#160;&#160;used&#160;&#160;CAN&#160;&#160;ID&#160;&#160;are&#160;<br/>0x610)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
25&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-26_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
The&#160;target&#160;address&#160;information&#160;is&#160;placed&#160;in&#160;the&#160;first&#160;data&#160;byte&#160;of&#160;the&#160;CAN&#160;frame&#160;(see&#160;ISO&#160;<br/>15765-2).&#160;<br/>
<b>Type</b><br/>
<b>Byte&#160;0</b><br/>
<b>Byte&#160;1</b><br/>
<b>Byte&#160;2</b><br/>
<b>Byte&#160;3</b><br/>
<b>Byte&#160;4</b><br/>
<b>Byte&#160;5</b><br/>
<b>Byte&#160;6</b><br/>
<b>Byte&#160;7</b><br/>
TPCI<br/>
SingleFrame<br/>
<b>ext&#160;Addr</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
Type<br/>
Length<br/>
TPCI<br/>
DataLength<br/>
FirstFrame<br/>
<b>ext&#160;Addr</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
Type<br/>
Length<br/>
Length<br/>
Consecutive<br/>
TPCI<br/>
<b>ext&#160;Addr</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
Frame<br/>
Type<br/>
SN<br/>
TPCI<br/>
FlowControl<br/>
<b>ext&#160;Addr</b><br/>
BS<br/>
ST<br/>
max<br/>
min<br/>
Type<br/>
FS<br/>
&#160;<br/>
Table&#160;2-4&#160;&#160;&#160;&#160;Frame&#160;size&#160;extended&#160;addressing&#160;<br/>
<b>2.1.2.5&#160;</b><br/>
<b>Mixed 29-bit ID&#160;Addressing&#160;</b><br/>
Mixed&#160;29-bit&#160;ID&#160;addressing&#160;is&#160;a&#160;sub-format&#160;of&#160;normal&#160;fixed&#160;addressing&#160;(refer&#160;above)&#160;where&#160;<br/>the&#160;&#160;mapping&#160;&#160;of&#160;&#160;the&#160;&#160;address&#160;&#160;information&#160;&#160;into&#160;&#160;the&#160;&#160;(extended)&#160;&#160;CAN-Identifier&#160;&#160;is&#160;&#160;further&#160;<br/>defined&#160;(see&#160;ISO&#160;15765-2).&#160;&#160;<br/>
The&#160;target&#160;address&#160;extension&#160;information&#160;is&#160;placed&#160;in&#160;the&#160;first&#160;data&#160;byte&#160;of&#160;the&#160;CAN&#160;frame&#160;<br/>(see&#160;ISO&#160;15765-2).&#160;<br/>
<b>Type</b><br/>
<b>Byte&#160;0</b><br/>
<b>Byte&#160;1</b><br/>
<b>Byte&#160;2</b><br/>
<b>Byte&#160;3</b><br/>
<b>Byte&#160;4</b><br/>
<b>Byte&#160;5</b><br/>
<b>Byte&#160;6</b><br/>
<b>Byte&#160;7</b><br/>
<b>Address</b><br/>
TPCI<br/>
SingleFrame<br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Extension</b><br/>
Type<br/>
Length<br/>
<b>Address</b><br/>
TPCI<br/>
DataLength<br/>
FirstFrame<br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Extension</b><br/>
Type<br/>
Length<br/>
Length<br/>
Consecutive<br/>
<b>Address</b><br/>
TPCI<br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
<b>Data</b><br/>
Frame<br/>
<b>Extension</b><br/>
Type<br/>
SN<br/>
<b>Address</b><br/>
TPCI<br/>
FlowControl<br/>
BS<br/>
ST<br/>
max<br/>
min<br/>
<b>Extension</b><br/>
Type<br/>
FS<br/>
&#160;<br/>
Table&#160;2-5&#160;&#160;&#160;&#160;Frame&#160;size&#160;extended&#160;addressing&#160;<br/>
&#160;<br/>
<b>2.1.2.6&#160;</b><br/>
<b>Structure&#160;of TPCI-Byte&#160;</b><br/>
The&#160;coding&#160;of&#160;the&#160;TPCI&#160;of&#160;each&#160;frame&#160;type&#160;is&#160;shown&#160;in&#160;Table&#160;2-6&#160;&#160;&#160;&#160;Structure&#160;<br/>
of&#160;<br/>
TPCI-<br/>
bytes.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Encoding&#160;of&#160;Protocol&#160;Control&#160;Information&#160;(PCI)&#160;</b><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
26&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-27_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>1.&#160;&#160;&#160;</b><br/>
<b>Network&#160;Protocol&#160;Control&#160;Information&#160;(N_PCI)&#160;bytes&#160;</b><br/>
<b>2.&#160;&#160;&#160;</b><br/>
<b>Byte&#160;#1&#160;</b><br/>
<b>Byte&#160;#2&#160;</b><br/>
<b>Byte&#160;#3&#160;</b><br/>
<b>N_PDU name&#160;</b><br/>
<b>Bits&#160;7-4&#160;</b><br/>
<b>Bits&#160;3-0&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
SingleFrame&#160;<br/>
N_PCItype&#160;=&#160;0&#160;<br/>
SF_DL&#160;<br/>
N/A&#160;<br/>
N/A&#160;<br/>
FirstFrame&#160;<br/>
N_PCItype&#160;=&#160;1&#160;<br/>
FF_DL&#160;<br/>
N/A&#160;<br/>
ConsecutiveFrame&#160;<br/>
N_PCItype&#160;=&#160;2&#160;<br/>
SN&#160;<br/>
N/A&#160;<br/>
N/A&#160;<br/>
FlowControl&#160;&#160;<br/>
N_PCItype&#160;=&#160;3&#160;<br/>
FS&#160;<br/>
BS&#160;<br/>
STmin&#160;<br/>
Table&#160;2-6&#160;&#160;&#160;&#160;Structure&#160;of&#160;TPCI-bytes&#160;<br/>
<b>Hex&#160;value&#160;</b><br/>
<b>Description&#160;</b><br/>
0&#160;<br/>
<b>SingleFrame&#160;</b><br/>
&#160;<br/>
For unsegmented&#160;message,&#160;the&#160;network&#160;layer protocol&#160;provides&#160;an&#160;optimised&#160;implementation&#160;of&#160;the&#160;<br/>network&#160;protocol&#160;with&#160;the&#160;message&#160;length&#160;embedded&#160;in&#160;the&#160;PCI byte&#160;only.&#160;SingleFrame&#160;(SF)&#160;shall&#160;be&#160;<br/>used&#160;to&#160;support&#160;the&#160;transmission&#160;of&#160;messages&#160;that&#160;can&#160;fit&#160;in&#160;a&#160;single&#160;CAN frame.&#160;<br/>
1&#160;<br/>
<b>FirstFrame&#160;</b><br/>
&#160;<br/>
A&#160;first&#160;frame&#160;(FF)&#160;shall&#160;only&#160;be&#160;used&#160;to&#160;support&#160;the&#160;transmission&#160;of&#160;messages&#160;that&#160;cannot&#160;fit&#160;in&#160;a&#160;single&#160;<br/>CAN&#160;frame,&#160;i.e.&#160;segmented&#160;message.&#160;The&#160;first&#160;frame&#160;of&#160;a&#160;segmented&#160;message&#160;is&#160;encoded&#160;as&#160;a&#160;<br/>FirstFrame&#160;(FF).&#160;On&#160;receipt&#160;of&#160;a&#160;FirstFrame&#160;the&#160;receiving&#160;network&#160;layer entity&#160;shall&#160;start&#160;assembling&#160;the&#160;<br/>segmented&#160;message.&#160;<br/>
2&#160;<br/>
<b>ConsecutiveFrame&#160;</b><br/>
&#160;<br/>
When&#160;sending&#160;segmented&#160;data,&#160;all&#160;consecutive&#160;frames&#160;following&#160;the&#160;first&#160;frame&#160;(FF)&#160;are&#160;encoded&#160;as&#160;<br/>ConsecutiveFrames&#160;(CF).&#160;On&#160;receipt&#160;of&#160;a&#160;Consecutive&#160;Frame&#160;(CF)&#160;the&#160;receiving&#160;network&#160;layer entity&#160;<br/>shall&#160;assemble&#160;the&#160;received&#160;data&#160;bytes&#160;until&#160;the&#160;whole&#160;message&#160;is&#160;received.&#160;The&#160;receiving&#160;entity&#160;shall&#160;<br/>pass&#160;the&#160;assembled&#160;message&#160;to&#160;the&#160;adjacent&#160;upper&#160;protocol&#160;layer after the&#160;last&#160;frame&#160;of&#160;the&#160;message&#160;<br/>has&#160;been&#160;received&#160;without&#160;error.&#160;<br/>
3&#160;<br/>
<b>FlowControl&#160;</b><br/>
&#160;<br/>
The&#160;purpose&#160;of&#160;Flow&#160;Control&#160;is&#160;to&#160;regulate&#160;the&#160;rate&#160;at&#160;which&#160;Consecutive&#160;Frame&#160;network&#160;protocol&#160;data&#160;<br/>unit&#160;are&#160;sent&#160;to&#160;the&#160;receiver.&#160;Three&#160;distinct&#160;types&#160;of&#160;Flow&#160;Control&#160;protocol&#160;control&#160;information&#160;are&#160;<br/>specified&#160;to&#160;support&#160;this&#160;function.&#160;The&#160;type&#160;is&#160;indicated&#160;by&#160;a&#160;field&#160;of&#160;the&#160;protocol&#160;control&#160;information&#160;called&#160;<br/>Flow&#160;Status&#160;(FS)&#160;as&#160;defined&#160;hereafter.&#160;<br/>
4&#160;-&#160;F&#160;<br/>
<b>Reserved&#160;</b><br/>
&#160;<br/>
This&#160;range&#160;of&#160;values&#160;is&#160;reserved&#160;by&#160;this&#160;document.&#160;&#160;<br/>
&#160;<br/>
<b>SF_DL&#160;on&#160;SingleFrame&#160;</b><br/>
Contains the&#160;data&#160;length&#160;of&#160;the&#160;message&#160;(up&#160;to&#160;7&#160;bytes with normal&#160;<br/>resp.&#160;up&#160;to&#160;6&#160;bytes with extended addressing).&#160;<br/>
<b>FF_DL&#160;on&#160;FirstFrame&#160;</b><br/>
Contains the&#160;data&#160;length&#160;of&#160;the&#160;message.&#160;The&#160;most&#160;significant&#160;4&#160;bit&#160;<br/>of&#160;the&#160;data length&#160;in byte&#160;#1,&#160;the&#160;remaining&#160;8&#160;bits&#160;are&#160;transmitted&#160;in&#160;<br/>byte&#160;#2.&#160;<br/>
<b>SN&#160;on&#160;ConsecutiveFrame&#160;</b><br/>
The&#160;Sequence Number&#160;is&#160;used&#160;to&#160;discover&#160;a doubling&#160;or&#160;the&#160;loss of&#160;<br/>a data&#160;frame.&#160;The&#160;SN&#160;starts&#160;with ‘1’&#160;and is calculated&#160;modulo ‘16’&#160;(4&#160;<br/>bit&#160;calculation).&#160;<br/>
<b>FS&#160;on&#160;FlowControlFrame&#160;</b><br/>
‘0’&#160;means&#160;CTS&#160;(ClearToSend):&#160;sender&#160;can&#160;continue&#160;sending&#160;&#160;<br/>’1’&#160;means&#160;WT&#160;(Wait):&#160;sender&#160;is&#160;not&#160;allowed&#160;to continue sending,&#160;it&#160;<br/>has&#160;to&#160;wait&#160;until&#160;FC.CTS&#160;is&#160;received&#160;<br/>‘2’&#160;means&#160;OVF&#160;(Overflow):&#160;sender&#160;is&#160;not&#160;allowed&#160;to continue&#160;<br/>sending,&#160;the&#160;transfer&#160;is&#160;stopped.&#160;<br/>
Table&#160;2-7&#160;&#160;&#160;&#160;Frames&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
27&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-28_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
IDLE<br/>
<b>2.2&#160;</b><br/>
<b>Transmission&#160;</b><br/>
<b>only&#160;dynamic&#160;classes</b><br/>
&#160;&#160;<br/>
<b>TpTxGetFreeChannel</b>:&#160;Associate&#160;channel&#160;<br/>
<b>TpGetFreeChannel</b><br/>
to&#160;connection (only&#160;for dynamic&#160;classes)&#160;<br/>
The&#160;&#160;application&#160;&#160;has&#160;&#160;to&#160;&#160;allocate&#160;&#160;a&#160;&#160;free&#160;<br/>
&#160;<br/>
transport channel.&#160;&#160;<br/>
Reserve&#160;and&#160;block<br/>
es<br/>s<br/>
the&#160;channel&#160;to&#160;this<br/>
&#160;<br/>
connection<br/>
asl<br/>&#160;c<br/>c<br/>
<b>TpTxSet...</b>:&#160;Adjust transmit state&#160;<br/>
mi<br/>
(only&#160;for dynamic&#160;classes)&#160;<br/>
Wait&#160;for&#160;adjusting&#160;the<br/>
na<br/>
The&#160;new&#160;allocated&#160;TpChannel&#160;has&#160;only&#160;<br/>
transmit&#160;state<br/>
&#160;dy<br/>
Adjustable&#160;transmit states<br/>
y<br/>
blank&#160;communication&#160;parameters&#160;included,&#160;<br/>
nl<br/>
which&#160;await to&#160;be&#160;adjusted&#160;by&#160;the&#160;<br/>
<i>TpTxSetCanChannel</i><br/>
O<br/>
application.&#160;Which parameters&#160;have to&#160;be&#160;<br/>
<i>TpTxSetChannelID<br/>TpTxSetTargetAddress</i><br/>
attuned&#160;depends&#160;on the used&#160;TpClass&#160;(see&#160;<br/>
<b>TpTxSet...</b><br/>
<i>TpTxSetEcuNumber</i><br/>
chapter<a href="TechnicalReference_TransportProtocolMultiConnections.html#63">&#160;4.2&#160;Functions&#160;of&#160;the&#160;Transport&#160;<br/>Protocol)</a>&#160;<br/>
<b>TpTransmit</b>: Start the&#160;transmission&#160;<br/>
Wait&#160;for&#160;Transmission<br/>
<b>ApplTpTxCopyToCan</b>: Copy&#160;data&#160;to&#160;CAN&#160;<br/>
The&#160;<br/>
Transport&#160;<br/>
Layer&#160;<br/>
supports&#160;<br/>
two&#160;<br/>
copy&#160;<br/>
mechanisms:&#160;&#160;an&#160;&#160;internal&#160;&#160;and&#160;&#160;an&#160;&#160;application&#160;&#160;specific&#160;<br/>copy&#160;mechanism.&#160;<br/>
<b>TpTransmit</b><br/>
With&#160;&#160;the&#160;&#160;application&#160;&#160;specific&#160;&#160;copy&#160;&#160;mechanism&#160;&#160;the&#160;<br/>Transport&#160;&#160;Layer&#160;&#160;will&#160;&#160;call&#160;&#160;a&#160;&#160;callback&#160;&#160;function&#160;&#160;to&#160;<br/>request data&#160;each&#160;time data has&#160;to be&#160;transmitted.&#160;<br/>
Wait&#160;for&#160;Transmission<br/>
Event<br/>
<b>ApplTpTxNotification&#160;/&#160;-CanMessageTransmitted&#160;&#160;</b><br/>
Each&#160;&#160;time&#160;&#160;a&#160;&#160;transport&#160;&#160;frame&#160;&#160;(every&#160;&#160;frame&#160;&#160;or&#160;&#160;only&#160;<br/>with&#160;&#160;pay&#160;&#160;load)&#160;&#160;will&#160;&#160;be&#160;&#160;transmitted,&#160;&#160;the&#160;&#160;Transport&#160;<br/>
Transmission&#160;Event<br/>
Layer&#160;notifies&#160;the application.&#160;&#160;<br/>
TpTxTask<br/>
for&#160;data&#160;segment<br/>
<b>ApplTpTxConfirmation</b>: Confirm&#160;the transmission&#160;<br/>
After&#160;&#160;a&#160;&#160;successful&#160;&#160;transmission&#160;&#160;the&#160;&#160;application&#160;&#160;will&#160;<br/>be&#160;&#160;notified.&#160;&#160;This&#160;&#160;would&#160;&#160;be&#160;&#160;a&#160;&#160;good&#160;&#160;point&#160;&#160;in&#160;&#160;time&#160;&#160;to&#160;<br/>
<b>ApplTpTx-</b><br/>
<b>CopyToCan</b><br/>
release&#160;unused&#160;resources&#160;/ buffers&#160;for example.&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
Transmit&#160;a&#160;CAN-<br/>
CanTransmit<br/>
Frame<br/>
<b>Legend</b><br/>
Last<br/>
Get&#160;external event<br/>
Get&#160;internal event<br/>
Yes<br/>
Frame?<br/>
No<br/>
(TP&#160;API&#160;call)<br/>
Set&#160;external event<br/>
Set&#160;internal event<br/>
(Application&#160;call)<br/>
<b>ApplTpTx-</b><br/>
<b>ApplTpTx-</b><br/>
Set&#160;external event<br/>
Internal state<br/>
<b>Confirmation</b><br/>
<b>Notification</b><br/>
(Application&#160;call)<br/><i>only used&#160;for&#160;special efforts</i><br/>
<b>ApplTpTxCan-</b><br/>
<b>ApplTpTxCan-</b><br/>
<b>Message-</b><br/>
<b>Message-</b><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:<br/>
<b>T</b>&#160;3<br/>
<b>ra</b>.14.<br/>
<b>nsm</b>0<br/>
<b>it</b>0<br/>
<b>t&#160;</b>&#160;<br/>
<b>ed</b><br/>
<b>Transmitted</b><br/>
28&#160;/&#160;177&#160;<br/>
Figure&#160;2-3&#160;Transmission&#160;Architecture&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-29_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>2.3&#160;</b><br/>
<b>Reception&#160;&#160;</b><br/>
<b>Wait&#160;for&#160;next</b><br/>
<b>IDLE</b><br/>
&#160;&#160;<br/>
<b>CF</b><br/>
<b>ApplTpPrecopyCheck</b>:&#160;Should receive&#160;or not?&#160;<br/>
The&#160;ApplTpPrecopy&#160;will&#160;be&#160;called immediately&#160;after the&#160;<br/>reception of&#160;each&#160;TP-Frame.&#160;The&#160;return value&#160;of&#160;the function&#160;<br/>
TpPrecopy<br/>
CanDriver<br/>
TpPrecopy<br/>
CanDriver<br/>
determines&#160;whether&#160;or&#160;not the&#160;TP-Frame is&#160;received&#160;<br/>
<b>ApplTpRxGetBuffer</b>:&#160;Associate&#160;a buffer&#160;<br/>
<b>ApplTp-</b><br/>
<b>ApplTp-</b><br/>
The&#160;&#160;Transport&#160;&#160;Layer&#160;&#160;asks&#160;&#160;the&#160;&#160;application&#160;&#160;for&#160;&#160;a&#160;&#160;buffer.&#160;&#160;The&#160;<br/>
<b>PrecopyCheck</b><br/>
<b>PrecopyCheck</b><br/>
application&#160;has&#160;to&#160;return&#160;a&#160;valid&#160;buffer,&#160;in&#160;which&#160;the&#160;received&#160;<br/>data&#160;will&#160;be&#160;stored.&#160;If&#160;the&#160;buffer&#160;is&#160;not&#160;valid,&#160;the&#160;reception&#160;will&#160;<br/>be&#160;abort.&#160;<br/>
False&#160;'0'<br/>
Return&#160;Value<br/>
Return&#160;Value<br/>
False&#160;'0'<br/>
<b>ApplTpRxCopyFromCan</b>:&#160;Copy&#160;data&#160;from&#160;CAN&#160;<br/>
True&#160;'1'<br/>
The&#160;&#160;Transport&#160;&#160;Layer&#160;&#160;supports&#160;&#160;two&#160;&#160;copy&#160;&#160;mechanisms:&#160;&#160;an&#160;<br/>
True&#160;'1'<br/>
internal&#160;and an&#160;application&#160;specific&#160;copy&#160;mechanism.&#160;<br/>
ConnectionSearch<br/>
Failed<br/>
DLC-checks<br/>
Frame&#160;checks<br/>
The&#160;&#160;internal&#160;&#160;copy&#160;&#160;mechanism&#160;&#160;can&#160;&#160;only&#160;&#160;be&#160;&#160;used&#160;&#160;with&#160;&#160;a&#160;&#160;flat-<br/>
ConnectionSearch<br/>
buffer-model.&#160;&#160;<br/>
DLC-checks<br/>
Failed<br/>
Frame&#160;checks<br/>
With&#160;the&#160;application&#160;specific&#160;copy&#160;mechanism&#160;the&#160;Transport&#160;<br/>
Is&#160;SF&#160;or<br/>
FF&#160;?<br/>
Layer&#160;&#160;will&#160;&#160;invoke&#160;&#160;a&#160;&#160;callback&#160;&#160;function&#160;&#160;each&#160;&#160;time&#160;&#160;data&#160;&#160;were&#160;<br/>
CF<br/>
FF<br/>
received.&#160;<br/>
SF<br/>
<b>ApplTpRxGetTxId</b>: Get&#160;FlowControl&#160;ID&#160;<br/>(only&#160;with&#160;Dynamic&#160;Normal&#160;Addressing)&#160;<br/>
<b>Consecutive</b><br/>
<b>Single&#160;Frame</b><br/>
<b>First&#160;Frame</b><br/>
<b>Frame</b><br/>
A&#160;corresponding&#160;transmit ID for a FlowControl&#160;is&#160;needed.&#160;<br/>
<b>ApplTpRxIndication</b>:&#160;Indicate&#160;a&#160;reception&#160;&#160;<br/>
<b>ApplTpRx-</b><br/>
<b>ApplTpRx-</b><br/>
A&#160;complete&#160;block&#160;of&#160;transport frames&#160;is&#160;received.&#160;<br/>
<b>GetBuffer</b><br/>
<b>GetBuffer</b><br/>
&#160;<br/>
Is<br/>
<b>Important:&#160;</b>The&#160;Transport&#160;Layer&#160;blocks&#160;the&#160;receive&#160;channel&#160;<br/>
Yes<br/>
NULL<br/>
to&#160;&#160;prevent&#160;&#160;a&#160;&#160;double&#160;&#160;occupancy&#160;&#160;of&#160;&#160;this&#160;&#160;channel.&#160;&#160;To&#160;&#160;free&#160;&#160;the&#160;<br/>
?<br/>
Is<br/>
receive channel&#160;the application&#160;can&#160;call&#160;<b>TpRxResetChannel&#160;</b><br/>
Yes<br/>
NULL<br/>
No<br/>
<b>()</b>.&#160;<br/>
?<br/>
No<br/>
&#160;<br/>
<b>ApplTpRx-</b><br/>
<b>ApplTpRxSF</b><br/>
<b>ApplTpRxFF</b><br/>
<b>CF</b><br/>
<b>ApplTpRx-</b><br/>
<b>ApplTpRx-</b><br/>
<b>ApplTpRx-</b><br/>
<b>CopyFrom-</b><br/>
<b>CopyFrom-</b><br/>
<b>CopyFrom-</b><br/>
<b>Can</b><br/>
<b>Can</b><br/>
<b>Can</b><br/>
<b>ApplTpRx-</b><br/>
Last<br/>
No<br/>
<b>GetTxID</b><br/>
CF&#160;?<br/>
<b>(depends&#160;on</b><br/>
<b>configuration)</b><br/>
Yes<br/>
<b>ApplTpRx-</b><br/>
<b>ApplTpRx-</b><br/>
<b>Indication</b><br/>
<b>Indication</b><br/>
Figure&#160;2-4&#160;Reception&#160;Architecture&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
29&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-30_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;&#160;<br/>
<b>2.4&#160;</b><br/>
<b>Working behaviors&#160;&#160;</b><br/>
<b>2.4.1&#160;</b><br/>
<b>Timings&#160;</b><br/>
<b>TpTransmit.FF</b><br/>
<b>N_As</b><br/>
<b>FF</b><br/>
<b>ApplTpTxCanMsgTransmitted</b><br/>
<b>ApplTpRxGetBuffer</b><br/>
<b>N_Br</b><br/>
<b>N_Bs</b><br/>
<b>FC</b><br/>
<b>N_Ar</b><br/>
<b>ApplTpTxFC</b><br/>
<b>ApplTpRxCanMessageTransmitted</b><br/>
<b>N_Cs</b><br/>
<b>N_Cr</b><br/>
<b>N_As</b><br/>
<b>CF</b><br/>
<b>ApplTpTxCanMsgTransmitted</b><br/>
<b>ApplTpRxCF</b><br/>
<b>N_Cs</b><br/>
<b>N_Cr</b><br/>
<b>N_As</b><br/>
<b>CF</b><br/>
<b>ApplTpTxCanMsgTransmitted</b><br/>
<b>ApplTpRxCF</b><br/>
<b>N_Br</b><br/>
<b>N_Bs</b><br/>
<b>FC</b><br/>
<b>N_Ar</b><br/>
<b>ApplTpTxFC</b><br/>
<b>ApplTpRxCanMessageTransmitted</b><br/>
<b>N_Br</b><br/>
<b>N_Bs</b><br/>
<b>FC</b><br/>
<b>N_Ar</b><br/>
<b>ApplTpTxFC</b><br/>
<b>ApplTpRxCanMessageTransmitted</b><br/>
<b>N_Cs</b><br/>
<b>N_Cr</b><br/>
<b>N_As</b><br/>
<b>CF</b><br/>
<b>ApplTpTxConfirmation</b><br/>
<b>ApplTpRxIndication</b><br/>
&#160;<br/>
Figure&#160;2-5&#160;Transmission&#160;timings.&#160;<br/>
&#160;<br/>
N_As&#160;&#160;CAN&#160;message&#160;confirmation&#160;<br/>
N_Ar&#160;&#160;CAN&#160;message&#160;confirmation&#160;timeout&#160;<br/>
timeout&#160;<br/>
N_Bs&#160;&#160;Timeout&#160;FC&#160;<br/>
N_Br&#160;&#160;Always&#160;zero&#160;(0)&#160;<br/>
N_Cs&#160;&#160;STmin&#160;(from&#160;FlowControl)&#160;<br/>
N_Cr&#160;&#160;Timeout&#160;CF&#160;<br/>
But&#160;not&#160;lower&#160;than&#160;Transmit&#160;CF&#160;<br/>
Table&#160;2-8&#160;&#160;&#160;&#160;Transmission&#160;timings&#160;<br/>
The&#160;TP&#160;needs&#160;the&#160;timings&#160;normalized&#160;to&#160;call&#160;cycles.&#160;Therefore&#160;all&#160;timings&#160;will&#160;be&#160;rounded&#160;<br/>up&#160;to&#160;an&#160;integer multiple&#160;of&#160;call&#160;cycles.&#160;<br/>
The&#160;&#160;timings&#160;&#160;have&#160;&#160;an&#160;&#160;inaccuracy&#160;&#160;while&#160;&#160;runtime&#160;&#160;(based&#160;&#160;on&#160;&#160;the&#160;&#160;technical&#160;&#160;concept&#160;&#160;where&#160;<br/>timers&#160;are&#160;set&#160;on&#160;interrupt&#160;level&#160;and&#160;decremented&#160;on&#160;task&#160;level).&#160;The&#160;jitter&#160;is&#160;either&#160;plus&#160;a&#160;<br/>call&#160;cycle&#160;or minus&#160;a&#160;call&#160;cycle.&#160;&#160;<br/>
In&#160;general&#160;the&#160;‘Timings’&#160;are&#160;calculated&#160;with&#160;a&#160;jitter&#160;plus&#160;a&#160;call&#160;cycle&#160;–&#160;that&#160;means&#160;the&#160;value&#160;<br/>of&#160;the&#160;timing&#160;is the&#160;first&#160;possible&#160;time&#160;after i.e.&#160;a&#160;timeout&#160;can&#160;occur.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
30&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-31_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
The&#160;TP&#160;uses the&#160;following&#160;algorithm&#160;for calculation:&#160;<br/>
<b>&gt;&#160;&#160;</b>Timings:&#160;(STmin-Value&#160;+&#160;(TpCallCycle-1))&#160;/&#160;TpCallCycle&#160;&#160;+&#160;1&#160;<br/>
<b>2.4.2&#160;</b><br/>
<b>Error&#160;detection&#160;</b><br/>
<b>2.4.2.1&#160;</b><br/>
<b>Reception of a&#160;SingleFrame&#160;</b><br/>
<b>7</b><br/>
<b>6</b><br/>
<b>5</b><br/>
<b>4</b><br/>
<b>3</b><br/>
<b>2</b><br/>
<b>1</b><br/>
<b>0</b><br/>
0<br/>
0<br/>
0<br/>
0<br/>
DL<br/>
Single Frame<br/>
Data&#160;Lenth<br/>
&#160;<br/>
Figure&#160;2-6&#160;Single&#160;Frame&#160;TPCI&#160;<br/>
A&#160;&#160;SingleFrame&#160;&#160;will&#160;&#160;be&#160;&#160;ignored&#160;&#160;if&#160;&#160;the&#160;&#160;DataLength&#160;&#160;exceeds&#160;&#160;the&#160;&#160;maximum&#160;&#160;length&#160;&#160;of&#160;&#160;a&#160;<br/>SingleFrame&#160;(6&#160;/&#160;7&#160;bytes).&#160;<br/>
<b>2.4.2.2&#160;</b><br/>
<b>Reception of a&#160;FirstFrame&#160;</b><br/>
<b>7</b><br/>
<b>6</b><br/>
<b>5</b><br/>
<b>4</b><br/>
<b>3</b><br/>
<b>2</b><br/>
<b>1</b><br/>
<b>0</b><br/>
0<br/>
0<br/>
0<br/>
1<br/>
XDL<br/>
First&#160;Frame<br/>
High Nibble of&#160;Data&#160;Length<br/>
&#160;<br/>
Figure&#160;2-7&#160;First&#160;Frame&#160;TPCI&#160;<br/>
A&#160;&#160;FirstFrame&#160;&#160;will&#160;&#160;be&#160;&#160;ignored&#160;&#160;(until&#160;&#160;version&#160;&#160;2.28)&#160;&#160;if&#160;&#160;the&#160;&#160;TPCIlength&#160;&#160;is&#160;&#160;lower&#160;&#160;than&#160;&#160;the&#160;<br/>maximum&#160;length&#160;of&#160;a&#160;SingleFrame&#160;(6&#160;/&#160;7&#160;bytes).&#160;<br/>
<b>2.4.2.3&#160;</b><br/>
<b>Reception of a&#160;FlowControl&#160;</b><br/>
A&#160;&#160;FlowControl&#160;&#160;will&#160;&#160;be&#160;&#160;ignored&#160;&#160;if&#160;&#160;no&#160;&#160;suitable&#160;&#160;transmission&#160;&#160;is&#160;&#160;running&#160;&#160;(suitable&#160;&#160;means:&#160;&#160;the&#160;<br/>Source-&#160;&#160;and&#160;&#160;TargetAddresses&#160;&#160;must&#160;&#160;fit).&#160;&#160;It&#160;&#160;will&#160;&#160;be&#160;&#160;also&#160;&#160;ignored&#160;&#160;if&#160;&#160;the&#160;&#160;TPCIbyte&#160;&#160;misfit&#160;&#160;the&#160;<br/>valid&#160;values.&#160;<br/>
<b>7</b><br/>
<b>6</b><br/>
<b>5</b><br/>
<b>4</b><br/>
<b>3</b><br/>
<b>2</b><br/>
<b>1</b><br/>
<b>0</b><br/>
0<br/>
0<br/>
1<br/>
1<br/>
FS<br/>
Flow&#160;Control<br/>
Flow&#160;State<br/>
0<br/>
Continue&#160;To&#160;Send<br/>
1<br/>
Wait<br/>
2<br/>
Overflow&#160;(15765:2003)<br/>
&#160;<br/>
Figure&#160;2-8&#160;FlowFrameTPCI&#160;<br/>
If&#160;&#160;a&#160;&#160;suitable&#160;&#160;transmission&#160;&#160;is&#160;&#160;found&#160;&#160;the&#160;&#160;state&#160;&#160;machine&#160;&#160;is&#160;&#160;checked&#160;&#160;for&#160;&#160;waiting&#160;&#160;for&#160;&#160;a&#160;<br/>FlowControl (except&#160;CAN Driver polling&#160;mode&#160;is used).&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
31&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-32_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>2.4.2.4&#160;</b><br/>
<b>Reception of a&#160;ConsecutiveFrame&#160;</b><br/>
A&#160;ConsecutiveFrame&#160;will&#160;be&#160;ignored&#160;if&#160;no&#160;suitable&#160;reception&#160;is running&#160;(suitable&#160;means:&#160;the&#160;<br/>Source-&#160;and&#160;TargetAddresses&#160;must&#160;fit).&#160;&#160;<br/>
<b>7</b><br/>
<b>6</b><br/>
<b>5</b><br/>
<b>4</b><br/>
<b>3</b><br/>
<b>2</b><br/>
<b>1</b><br/>
<b>0</b><br/>
0<br/>
0<br/>
1<br/>
0<br/>
SN<br/>
ConsecutiveFrame<br/>
Sequence Number<br/>
&#160;<br/>
Figure&#160;2-9&#160;Consecutive&#160;Frame&#160;TPCI&#160;<br/>
If&#160;&#160;a&#160;&#160;suitable&#160;&#160;reception&#160;&#160;is&#160;&#160;found&#160;&#160;the&#160;&#160;state&#160;&#160;machine&#160;&#160;is&#160;&#160;checked&#160;&#160;for&#160;&#160;waiting&#160;&#160;of&#160;&#160;a&#160;<br/>ConsecutiveFrame&#160;(except&#160;&#160;CAN&#160;Driver&#160;polling&#160;mode&#160;is&#160;used).&#160;If&#160;the&#160;estimated&#160;Sequence&#160;<br/>Number does not&#160;fit&#160;the&#160;current&#160;reception&#160;will&#160;be&#160;stopped.&#160;<br/>
&#160;<br/>
<b>2.4.2.5&#160;</b><br/>
<b>Observing CAN frame&#160;DLC&#160;(Data&#160;Length&#160;Code)&#160;</b><br/>
&#160;<br/>
The&#160;CAN&#160;frame&#160;DLC&#160;should&#160;be&#160;set&#160;by&#160;the&#160;sender&#160;to&#160;a&#160;value&#160;greater&#160;than&#160;or&#160;equal&#160;to&#160;the&#160;<br/>values indicated&#160;in&#160;the&#160;table&#160;below.&#160;<br/>
<b>Frame&#160;Type&#160;</b><br/>
<b>Normal&#160;(fixed)&#160;Addressing&#160;&#160;Extended/Mixed&#160;Addressing&#160;</b><br/>
SingleFrame&#160;<br/>
SF_DL+1&#160;<br/>
SF_DL+2&#160;<br/>
FirstFrame&#160;<br/>
8&#160;<br/>
8&#160;<br/>
FlowControl&#160;<br/>
3&#160;<br/>
4&#160;<br/>
ConsecutiveFrame&#160;<br/>(except&#160;the&#160;last&#160;<br/>
8&#160;<br/>
8&#160;<br/>
ConsecutiveFrame)&#160;<br/>
Last&#160;<br/>
1+&#160;((FF_DL-6) mod[7])&#160;<br/>
2+&#160;((FF_DL-5) mod[6])&#160;<br/>
ConsecutiveFrame&#160;<br/>
Table&#160;2-9&#160;&#160;&#160;&#160;CAN&#160;frame&#160;DLC&#160;<br/>
&#160;<br/>
The&#160;CAN&#160;frame&#160;DLC&#160;check&#160;can&#160;be&#160;configured&#160;for the&#160;following&#160;different&#160;ways:&#160;<br/>
none:&#160;<br/>
&#160;<br/>
CAN frames&#160;are&#160;accepted&#160;if&#160;they&#160;are&#160;8&#160;bytes&#160;or less.&#160;<br/>
The&#160;frames&#160;are NOT&#160;checked&#160;against&#160;a&#160;minimum&#160;length.&#160;<br/>
only&#160;DLC 8:&#160;&#160;<br/>
CAN frames&#160;are&#160;ONLY&#160;accepted&#160;if&#160;they&#160;are exactly&#160;8&#160;bytes long.&#160;<br/>
variable&#160;DLC:&#160;<br/>
CAN frames&#160;are&#160;accepted&#160;if&#160;they&#160;are&#160;8&#160;bytes&#160;or less.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
32&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=33></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-33_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
The&#160;frames&#160;are&#160;also&#160;checked&#160;against&#160;the&#160;required&#160;minimum&#160;length.&#160;<br/>
depend&#160;on&#160;driver:&#160;<br/>
CAN&#160;frames&#160;are&#160;accepted&#160;if&#160;they&#160;pass&#160;the&#160;DLC&#160;check&#160;configured&#160;on&#160;driver&#160;level.&#160;Refer&#160;<br/>to<a href="TechnicalReference_TransportProtocolMultiConnections.html#5">&#160;[3]&#160;</a>on&#160;how&#160;to&#160;set&#160;up&#160;the&#160;DLC check.&#160;<br/>
&#160;<br/>
<b>2.4.3&#160;</b><br/>
<b>Buffer&#160;consistency&#160;</b><br/>
The&#160;&#160;application&#160;programmer&#160;&#160;has&#160;&#160;to&#160;&#160;guarantee&#160;&#160;consistency&#160;&#160;of&#160;&#160;transmission&#160;&#160;and&#160;&#160;reception&#160;<br/>buffers.&#160;&#160;<br/>
<b>Transmission&#160;</b><br/>
Between&#160;<br/>
the&#160;<br/>
call&#160;<br/>
of&#160;<br/>
TpTransmit()&#160;<br/>
and&#160;<br/>
ApplTpTxConfirmation()&#160;<br/>
or&#160;<br/>
ApplTpTxErrorIndication()&#160;&#160;writing&#160;&#160;access&#160;&#160;to&#160;&#160;the&#160;&#160;transmission&#160;&#160;data&#160;&#160;buffer&#160;&#160;must&#160;&#160;be&#160;<br/>blocked&#160;(except&#160;the&#160;ApplTpCopyToCan()&#160;function&#160;is&#160;used&#160;to&#160;copy&#160;the&#160;data).&#160;<br/>
<b>Reception&#160;</b><br/>
Between&#160;&#160;the&#160;&#160;call&#160;&#160;of&#160;&#160;ApplTpRxGetBuffer()&#160;&#160;and&#160;&#160;ApplTpRxIndication()&#160;&#160;or&#160;<br/>ApplTpRxErrorIndication()&#160;&#160;writing&#160;&#160;access&#160;&#160;to&#160;&#160;the&#160;&#160;reception&#160;&#160;data&#160;&#160;buffer&#160;&#160;must&#160;&#160;be&#160;<br/>blocked&#160;(except&#160;the&#160;ApplTpCopyFromCan()&#160;function&#160;is&#160;used&#160;to&#160;copy&#160;the&#160;data).&#160;<br/>
&#160;<br/>
<b>2.4.4&#160;</b><br/>
<b>Function re-entrancy&#160;</b><br/>
The&#160;&#160;TP&#160;&#160;re-entrancy&#160;&#160;is&#160;&#160;based&#160;&#160;on&#160;&#160;the&#160;&#160;different&#160;&#160;tpChannels.&#160;&#160;So&#160;&#160;for&#160;&#160;static&#160;&#160;TP&#160;&#160;classes,&#160;&#160;with&#160;<br/>separate&#160;&#160;resources&#160;&#160;for&#160;&#160;each&#160;&#160;single&#160;&#160;connection,&#160;&#160;there&#160;&#160;is&#160;&#160;no&#160;&#160;re-entrancy&#160;&#160;problem.&#160;&#160;For&#160;<br/>dynamic&#160;TP&#160;classes&#160;the&#160;re-entrancy&#160;is&#160;guaranteed&#160;too&#160;from&#160;the&#160;viewpoint&#160;of&#160;TP,&#160;as&#160;long&#160;as&#160;<br/>the&#160;application&#160;handles&#160;the&#160;connection&#160;specific&#160;API&#160;properly.&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
33&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=34></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-34_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>2.5&#160;</b><br/>
<b>Restriction&#160;</b><br/>
<b>2.5.1&#160;</b><br/>
<b>Restrictions&#160;to&#160;ISO/TF2&#160;specification&#160;</b><br/>
In&#160;&#160;this&#160;&#160;chapter&#160;&#160;you&#160;&#160;will&#160;&#160;find&#160;&#160;the&#160;&#160;restrictions&#160;&#160;of&#160;&#160;the&#160;&#160;current&#160;&#160;implementation&#160;&#160;relative&#160;&#160;to&#160;&#160;the&#160;<br/>ISO/TF2-specification:&#160;<br/>
&#160;<br/>
Timing&#160;parameter:&#160;<br/>
<b>&gt;&#160;&#160;</b>Timing&#160;Parameter N_Br is always&#160;zero (0)&#160;<br/>
<b>&gt;&#160;&#160;</b>Timing&#160;Parameter N_As and&#160;N_Ar can&#160;only&#160;be&#160;defined&#160;by&#160;a&#160;common&#160;constant&#160;&#160;<br/>
&#160;<br/>
WaitFrame&#160;support:&#160;<br/>
For versions until version&#160;2.73.00:&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;reception&#160;of&#160;WaitFrames is supported.&#160;The&#160;transmission&#160;of&#160;WaitFrames is&#160;not&#160;<br/>
supported,&#160;N_WFTmax&#160;is always&#160;zero (0).&#160;&#160;<br/>
For versions until version&#160;2.88.00:&#160;<br/>
<b>&gt;&#160;&#160;</b>Commencing&#160;with&#160;version&#160;2.73.00&#160;the&#160;transmission&#160;of&#160;WaitFrames&#160;is supported&#160;but&#160;<br/>
N_WFTmax&#160;is not&#160;considered.&#160;The&#160;periodical&#160;transmission&#160;must&#160;be&#160;stopped&#160;by&#160;the&#160;<br/>application&#160;and&#160;does not&#160;stop&#160;by&#160;itself.&#160;<br/>
From&#160;version&#160;2.89.00:&#160;<br/>
<b>&gt;&#160;&#160;</b>Commencing&#160;with&#160;version&#160;2.89.00&#160;the&#160;maximal number of&#160;WaitFrames to&#160;be&#160;<br/>
transmitted&#160;(N_WFTmax) is supported&#160;and&#160;the&#160;transmission&#160;of&#160;WaitFrames stops&#160;<br/>automatically&#160;when&#160;this limit is exceeded.&#160;<br/>
From&#160;version&#160;3.01.00:&#160;<br/>
<b>&gt;&#160;&#160;</b>Commencing&#160;with&#160;version&#160;3.01.00&#160;the&#160;maximal number of&#160;WaitFrames to&#160;be&#160;received&#160;<br/>
(N_TxWFTmax) is supported&#160;and&#160;the&#160;reception&#160;of&#160;WaitFrames stops automatically&#160;<br/>when&#160;this limit is&#160;exceeded.&#160;<br/>
&#160;<br/>
<b>2.5.2&#160;</b><br/>
<b>Limitations&#160;of&#160;Transport Protocol&#160;Implementation&#160;</b><br/>
The&#160;Transport Protocol&#160;is a&#160;complex&#160;state&#160;machine,&#160;which&#160;is triggered&#160;by&#160;external events&#160;<br/>like&#160;requests&#160;by&#160;the&#160;application,&#160;receive&#160;indications&#160;and&#160;transmit confirmations by&#160;the&#160;CAN&#160;<br/>driver.&#160;<br/>The&#160;state&#160;machine&#160;expects&#160;those&#160;events&#160;in&#160;the&#160;order&#160;they&#160;appear in&#160;the&#160;“real world” to&#160;<br/>decide&#160;the&#160;next&#160;step&#160;to&#160;be&#160;performed.&#160;The&#160;state&#160;machine&#160;performs&#160;one&#160;event&#160;after the&#160;<br/>other&#160;and&#160;each&#160;decision&#160;is based&#160;on&#160;the&#160;current&#160;state.&#160;<br/>&#160;<br/>Under some&#160;very&#160;specific conditions,&#160;events&#160;may&#160;be&#160;given&#160;to&#160;the&#160;Transport Protocol state&#160;<br/>machine&#160;in&#160;the&#160;incorrect&#160;order what&#160;can&#160;cause&#160;wrong&#160;decisions.&#160;<br/>&#160;<br/>One&#160;requirement&#160;to&#160;the&#160;TP&#160;is that&#160;unexpected&#160;frames&#160;are to&#160;be&#160;ignored.&#160;Therefore&#160;it&#160;is&#160;<br/>important&#160;to&#160;discard&#160;e.g.&#160;received&#160;FlowControl&#160;frames&#160;before&#160;the&#160;FirstFrame&#160;or&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
34&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-35_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
ConsecutiveFrame&#160;has been&#160;sent.&#160;It&#160;may&#160;now&#160;happen&#160;that&#160;the&#160;transmit confirmation&#160;and&#160;<br/>the&#160;receive&#160;indication&#160;event&#160;occur “at&#160;the&#160;same&#160;time”. In&#160;such&#160;a&#160;situation&#160;the&#160;concrete&#160;<br/>behaviour depends&#160;on&#160;the&#160;sequence&#160;the&#160;underlying&#160;CAN&#160;driver handles&#160;such&#160;events.&#160;<br/>Unfortunately&#160;this sequence&#160;depends on&#160;the&#160;hardware implementation&#160;of&#160;the&#160;CAN&#160;<br/>controller and&#160;the&#160;interrupt&#160;concept&#160;of&#160;the&#160;µC.&#160;Usually&#160;RX&#160;handling&#160;is done&#160;first&#160;to&#160;prevent&#160;<br/>loss&#160;of&#160;incoming&#160;data&#160;whereas&#160;TX&#160;handling&#160;has a&#160;lower priority.&#160;Most&#160;CAN controllers do&#160;<br/>not&#160;support&#160;means to&#160;handle&#160;such&#160;events&#160;in&#160;the&#160;“real world&#160;order”&#160;later,&#160;if&#160;an&#160;immediate&#160;<br/>handling&#160;is not&#160;possible&#160;due&#160;to&#160;e.g.&#160;an&#160;long&#160;lasting&#160;ISR lock&#160;or the&#160;CAN driver polling&#160;is&#160;<br/>executed&#160;too&#160;slow.&#160;<br/>&#160;<br/>Example:&#160;&#160;<br/>The&#160;TP&#160;transmits its&#160;FirstFrame&#160;successfully&#160;to&#160;the&#160;bus and&#160;the&#160;tester answers very&#160;fast&#160;<br/>with&#160;the&#160;FlowControl and&#160;the&#160;notification&#160;of&#160;the&#160;FirstFrame&#160;transmit&#160;event&#160;is delayed&#160;due&#160;to&#160;<br/>(a) an&#160;ISR lock or (b) a&#160;too&#160;slow&#160;polling&#160;sequence,&#160;both&#160;events&#160;are valid&#160;at&#160;the&#160;same&#160;time.&#160;<br/>Now&#160;it&#160;is up&#160;to&#160;the&#160;CAN driver how&#160;the&#160;notification&#160;sequence&#160;is performed.&#160;<br/>If&#160;TX&#160;is handled&#160;first,&#160;TP&#160;is in&#160;a&#160;state&#160;to&#160;accept&#160;the&#160;FlowControl and&#160;everything&#160;went&#160;well. If&#160;<br/>RX&#160;is handled&#160;first,&#160;TP&#160;is not&#160;aware that&#160;the&#160;FirstFrame&#160;has&#160;been&#160;already&#160;sent&#160;and&#160;will&#160;<br/>ignore the&#160;incoming&#160;FlowControl.&#160;In&#160;that&#160;case,&#160;the&#160;TP&#160;runs in&#160;a&#160;timeout&#160;due&#160;to&#160;the&#160;partner&#160;<br/>has sent&#160;its&#160;frame&#160;correctly&#160;but&#160;it was assigned&#160;to&#160;the&#160;wrong&#160;event&#160;sequence&#160;and&#160;was&#160;<br/>therefore ignored.&#160;<br/>&#160;<br/>
TX<br/>
RX<br/>
CAN driver polling<br/>
First Frame<br/>
<b>TX</b>&#160;event: acknowledge<br/>
Acknowledge<br/>
Flow&#160;Control<br/>
<b>RX</b>&#160;event: FC received<br/>
Ack<br/>
<b>CAN RX&#160;task</b>:<br/>
CAN driver polling<br/>
&#160; &#160;&#160;&#160;FC&#160;received.<br/>&#160; &#160;&#160;&#160;Error: Awaited&#160;FF<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; ackowledge.<br/>
Consecutive&#160;Frame<br/>
&#160; &#160;&#160;&#160;Reject FC.<br/>
Ack<br/>
Consecutive&#160;Frame<br/>
<b>CAN TX&#160;task</b>:<br/>&#160; &#160;&#160;Acknowledge&#160;on&#160;FF<br/>
Ack<br/>
&#160; &#160;&#160;Regulare proceeding<br/>&#160; &#160;&#160;(set&#160;timer, change<br/>
Consecutive&#160;Frame<br/>
&#160; &#160;&#160;&#160;state)<br/>
Ack<br/>
<b>TP&#160;task</b>:<br/>
Flow&#160;Control<br/>
&#160; &#160;&#160;&#160;Timeout&#160;on&#160;FC.<br/>
Ack<br/>
&#160; &#160;&#160;&#160;Free&#160;TP&#160;channel.<br/>
&#160;<br/>
Figure&#160;2-10&#160;Accumulation&#160;of&#160;events&#160;during&#160;CAN&#160;Driver&#160;polling&#160;<br/>
&#160;<br/>
Implemented&#160;solution&#160;1:&#160;<br/>The&#160;TP&#160;can&#160;be&#160;configured&#160;to&#160;handle&#160;the&#160;event&#160;sequence&#160;always in&#160;the&#160;way&#160;it&#160;is notified&#160;by&#160;<br/>the&#160;underlying&#160;driver.&#160;In&#160;that&#160;case&#160;it&#160;is&#160;fully&#160;compliant&#160;to&#160;the&#160;requirement&#160;that&#160;(timely)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
35&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=36></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-36_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-36_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-36_3.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
incorrect&#160;frames&#160;are rejected.&#160;Unfortunately,&#160;the&#160;rejection&#160;can&#160;happen&#160;in&#160;a&#160;short&#160;time&#160;<br/>period&#160;also&#160;for correct&#160;transmitted&#160;frames.&#160;The&#160;time&#160;period&#160;where this can&#160;happen&#160;is&#160;equal&#160;<br/>to&#160;the&#160;runtime&#160;of&#160;the&#160;e.g.&#160;FlowControl&#160;frame&#160;on&#160;the&#160;bus (e.g.&#160;for DLC=8&#160;and&#160;500kBd&#160;this is&#160;<br/>approx.&#160;200µs&#160;for an&#160;interrupt&#160;driven&#160;CAN&#160;driver or the&#160;CAN&#160;driver polling&#160;rate).&#160;Timely&#160;<br/>incorrect&#160;received&#160;frames outside&#160;of&#160;this time&#160;window&#160;are correctly&#160;handled/rejected.&#160;<br/>&#160;<br/>As a&#160;result,&#160;the&#160;correctly&#160;transmitted&#160;TP&#160;sequence&#160;might&#160;be&#160;aborted&#160;by&#160;a&#160;timeout&#160;on&#160;the&#160;<br/>sender side&#160;and&#160;the&#160;tester has&#160;to&#160;repeat&#160;its request.&#160;<br/>&#160;<br/>The&#160;configuration&#160;switch&#160;TP_HIGH_RX_LOW_TX_PRIORITY&#160;has&#160;to&#160;be&#160;kTpOff&#160;to&#160;select&#160;<br/>the&#160;implementation&#160;1.&#160;<br/>&#160;<br/>&#160;<br/>Implemented&#160;solution&#160;2:&#160;<br/>The&#160;TP&#160;can&#160;be&#160;configured&#160;to&#160;accept&#160;FlowControl&#160;frames&#160;also&#160;in&#160;the&#160;time&#160;window&#160;after the&#160;<br/>successful&#160;ECU&#160;internal&#160;FirstFrame&#160;transmit&#160;request&#160;till&#160;the&#160;frame&#160;is&#160;really&#160;on&#160;the&#160;bus.&#160;In&#160;<br/>that&#160;case&#160;it&#160;is not&#160;fully&#160;compliant&#160;to&#160;the&#160;requirement&#160;that&#160;(timely) incorrect&#160;frames&#160;are&#160;<br/>rejected.&#160;The&#160;length&#160;of&#160;the&#160;time&#160;period&#160;depends on&#160;the&#160;baudrate&#160;(message&#160;runtimes), the&#160;<br/>busload&#160;and&#160;if&#160;the&#160;CAN driver is used&#160;in&#160;ISR&#160;or polling&#160;mode.&#160;The&#160;shortest&#160;time&#160;range&#160;is&#160;<br/>some&#160;few&#160;10µs&#160;up&#160;to&#160;a&#160;multiple&#160;of&#160;the&#160;CAN&#160;driver polling&#160;rate.&#160;Timely incorrect&#160;received&#160;<br/>frames&#160;outside&#160;of&#160;this time&#160;window&#160;are correctly&#160;handled/rejected.&#160;<br/>&#160;<br/>As a&#160;result of&#160;this&#160;behaviour,&#160;a&#160;too&#160;early&#160;(timely&#160;incorrect) received&#160;FlowControl frame&#160;will&#160;<br/>be&#160;accepted&#160;by&#160;the&#160;TP&#160;and&#160;the&#160;transport&#160;layer continues to&#160;transmit&#160;its data.&#160;&#160;<br/>Because&#160;this scenario&#160;does&#160;usually&#160;not&#160;or only&#160;rarely&#160;happen&#160;in&#160;the&#160;field&#160;but&#160;the&#160;<br/>performance&#160;of&#160;the&#160;whole&#160;diagnostic process&#160;is higher,&#160;the&#160;selection&#160;of&#160;that&#160;configuration&#160;is&#160;<br/>highly&#160;recommended.&#160;&#160;<br/>&#160;<br/>The&#160;configuration&#160;switch&#160;TP_HIGH_RX_LOW_TX_PRIORITY&#160;has&#160;to&#160;be&#160;kTpOn&#160;to&#160;select&#160;<br/>the&#160;implementation&#160;2.&#160;<br/>&#160;<br/>
<b>Info</b>&#160;<br/>Please note&#160;that&#160;the content&#160;of&#160;the&#160;received&#160;frame&#160;is&#160;always&#160;analyzed&#160;and illegal&#160;frames&#160;<br/>
&#160;<br/>
are&#160;discarded as&#160;required.&#160;All&#160;above discussed issues&#160;are&#160;only&#160;valid if&#160;the&#160;frame is&#160;timely&#160;<br/>incorrect&#160;but&#160;all&#160;other&#160;facts&#160;are correct&#160;concerning the&#160;current&#160;TP&#160;status.&#160;<br/>
&#160;<br/>
<b>Caution&#160;<br/></b>Implementation&#160;solution&#160;2 is automatically&#160;activated&#160;since&#160;version 2.36&#160;of&#160;TPMC&#160;<br/>
&#160;<br/>
component&#160;while the&#160;CAN&#160;Driver&#160;is&#160;used in&#160;polling&#160;mode.&#160;It&#160;is&#160;activated&#160;as&#160;default&#160;for&#160;<br/>interrupt&#160;driven&#160;systems&#160;since&#160;version 2.63..&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
36&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=37></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-37_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-37_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-37_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-37_4.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>2.5.3&#160;</b><br/>
<b>Deviations&#160;to&#160;ISO/TF2&#160;specification&#160;</b><br/>
In&#160;this&#160;chapter&#160;you&#160;will&#160;find&#160;the&#160;deviations&#160;of&#160;the&#160;current&#160;&#160;implementation&#160;compared&#160;to&#160;the&#160;<br/>ISO/TF2-specification.&#160;<br/>
<b>2.5.3.1&#160;</b><br/>
<b>Handling of&#160;unexpected FlowControl /&#160;ConsecutiveFrame&#160;frames&#160;</b><br/>
<b>Caution&#160;<br/></b>This&#160;deviation is only&#160;in&#160;effect&#160;if&#160;the&#160;TP_HIGH_RX_LOW_TX_PRIORITY&#160;feature&#160;is&#160;<br/>
&#160;<br/>
kTpOn.&#160;&#160;<br/>The&#160;normal&#160;operation&#160;assumes&#160;that&#160;a&#160;transmit&#160;is&#160;followed&#160;first&#160;by&#160;its&#160;confirmation&#160;<br/>interrupt&#160;and&#160;after&#160;that&#160;the next&#160;receive interrupt&#160;appears.&#160;<br/>With a&#160;tester&#160;reacting&#160;very&#160;fast&#160;and simultaneously&#160;a controller&#160;that&#160;has&#160;a&#160;higher&#160;priority&#160;<br/>for&#160;Rx&#160;interrupts&#160;than&#160;for&#160;Tx&#160;interrupts&#160;the&#160;Rx&#160;interrupt&#160;may&#160;be&#160;detected&#160;before&#160;the&#160;Tx&#160;&#160;<br/>confirmation&#160;interrupt:&#160;<br/>
&#160;&#160;Without&#160;the&#160;HighRx-LowTx&#160;feature&#160;the&#160;transmission&#160;stops&#160;at&#160;this&#160;point.&#160;<br/>
&#160;&#160;With&#160;the&#160;activation of&#160;the&#160;HighRx-LowTx&#160;feature&#160;the&#160;TP&#160;implementation&#160;tries to&#160;<br/>
clear&#160;this&#160;unexpected&#160;sequence&#160;and&#160;to proceed&#160;with the&#160;transmission.&#160;<br/>Nevertheless there are still&#160;some&#160;special&#160;situations&#160;left&#160;(see&#160;the&#160;description&#160;<br/>above)&#160;that&#160;can&#160;not&#160;be&#160;cleared&#160;by&#160;the&#160;TP&#160;and so&#160;the&#160;transmission&#160;might&#160;be&#160;<br/>stopped anyway.&#160;<br/>
<b>Conclusion</b>:&#160;<br/>The&#160;HighRx-LowTx&#160;feature is activated&#160;by&#160;default&#160;to&#160;get&#160;a&#160;minimum&#160;of&#160;transmissions&#160;<br/>being&#160;stopped.&#160;<br/>You&#160;can&#160;deactivate&#160;the&#160;feature&#160;e.g.&#160;if&#160;your&#160;configuration does&#160;not&#160;require&#160;the&#160;feature&#160;or&#160;if&#160;<br/>you&#160;prefer&#160;that&#160;the&#160;tester&#160;explicitly&#160;repeats&#160;requests&#160;after&#160;stopped&#160;transmissions.&#160;<br/>&#160;<br/>Please see&#160;the description&#160;below&#160;to&#160;get&#160;an&#160;idea&#160;in which special&#160;situations&#160;some&#160;<br/>malfunction&#160;is&#160;still&#160;possible.&#160;<br/>See&#160;also chapter<a href="TechnicalReference_TransportProtocolMultiConnections.html#34">&#160;2.5.2&#160;‘Limitations of&#160;Transport&#160;Protocol&#160;’</a>&#160;for&#160;further&#160;details.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
37&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=38></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-38_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-38_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3&#160;&#160;Settings&#160;for&#160;the&#160;MultiTP&#160;&amp;&#160;SingleTP&#160;(multi-based)&#160;</b><br/>
To&#160;&#160;use&#160;&#160;the&#160;&#160;MultiConnection&#160;&#160;or&#160;&#160;the&#160;&#160;SingleConnection&#160;&#160;(multi-based)&#160;&#160;TP&#160;&#160;with&#160;&#160;the&#160;&#160;GENy&#160;<br/>CANGen&#160;or&#160;the&#160;DBKOMGen&#160;tool the&#160;“Manufacture” attribute&#160;in&#160;the&#160;database&#160;has&#160;to&#160;be&#160;set.&#160;<br/>
Additionally&#160;&#160;a&#160;&#160;License&#160;&#160;File&#160;&#160;for&#160;&#160;GENy&#160;&#160;and&#160;&#160;CANGen&#160;&#160;tool&#160;&#160;is&#160;&#160;needed,&#160;&#160;which&#160;&#160;includes&#160;&#160;a&#160;<br/>clearing&#160;for the&#160;MultiConnection&#160;Tp.&#160;<br/>
<b>3.1&#160;</b><br/>
<b>General&#160;settings&#160;with&#160;CANgen&#160;/&#160;DBKOMgen&#160;/&#160;GENy&#160;</b><br/>
In&#160;the&#160;following&#160;descriptions examples&#160;from&#160;the&#160;CANGen&#160;/&#160;DBKOMGen&#160;generation&#160;tool&#160;<br/>GUI&#160;&#160;are&#160;used.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
Figure&#160;3-1&#160;General&#160;settings&#160;in&#160;Generation&#160;Tools&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
38&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=39></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-39_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-39_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3.1.1&#160;</b><br/>
<b>Timing&#160;&#160;</b><br/>
&#160;&#160;<br/>
&#160;<br/>
Figure&#160;3-2&#160;Timing&#160;settings&#160;in&#160;Generation&#160;Tools&#160;<br/>
<b>3.1.1.1&#160;</b><br/>
<b>Transmission timing&#160;</b><br/>
<b>Tx&#160;call&#160;cycle&#160;</b><br/>
Together&#160;&#160;with&#160;&#160;this&#160;&#160;period,&#160;&#160;the&#160;&#160;function&#160;&#160;TpTxTask()&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;called&#160;&#160;periodically&#160;&#160;by&#160;&#160;the&#160;<br/>application&#160;<br/>
<b>TxTimeoutFC&#160;</b><br/>
In&#160;&#160;the&#160;&#160;Timeout&#160;&#160;FC&#160;&#160;edit&#160;&#160;field,&#160;&#160;the&#160;&#160;FlowControl&#160;&#160;timeout&#160;&#160;value&#160;&#160;is&#160;&#160;specified.&#160;&#160;Within&#160;&#160;this&#160;&#160;time,&#160;<br/>the&#160;expected&#160;FC&#160;frame&#160;has to&#160;be&#160;received&#160;by&#160;the&#160;transmitting&#160;ECU.&#160;<br/>
<b>TxTransmitCF&#160;</b><br/>
The&#160;&#160;Transmit&#160;&#160;CF&#160;&#160;time&#160;&#160;is&#160;&#160;the&#160;&#160;interval&#160;&#160;for&#160;&#160;the&#160;&#160;transmission&#160;&#160;of&#160;&#160;ConsecutiveFrames.&#160;&#160;This&#160;<br/>value&#160;&#160;is&#160;&#160;used&#160;&#160;as&#160;&#160;a&#160;&#160;constant&#160;&#160;in&#160;&#160;ECUs&#160;&#160;that&#160;&#160;don’t&#160;&#160;use&#160;&#160;the&#160;&#160;STmin&#160;&#160;value&#160;&#160;from&#160;&#160;FlowControl&#160;<br/>frame.&#160;&#160;<br/>
If&#160;this&#160;time&#160;should&#160;be&#160;defined&#160;as&#160;a&#160;constant&#160;at&#160;compile&#160;time&#160;the&#160;configuration&#160;switch&#160;“Use&#160;<br/>STMin&#160;from&#160;flow&#160;control&#160;frame” should&#160;be&#160;set&#160;to&#160;Off.&#160;&#160;<br/>
If&#160;&#160;the&#160;&#160;time&#160;&#160;STMin&#160;&#160;from&#160;&#160;the&#160;&#160;FlowControl&#160;&#160;message&#160;&#160;should&#160;&#160;be&#160;&#160;calculated,&#160;&#160;the&#160;&#160;configuration&#160;<br/>
switch&#160;&#160;“Use&#160;&#160;STMin&#160;&#160;from&#160;&#160;flow&#160;&#160;control&#160;&#160;frame”&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;selected.&#160;&#160;Due&#160;&#160;to&#160;&#160;the&#160;&#160;problem&#160;&#160;to&#160;<br/>handle&#160;&#160;a&#160;&#160;non-linear&#160;&#160;buffer&#160;&#160;(e.g.&#160;&#160;ring-buffer&#160;&#160;mechanism)&#160;&#160;in&#160;&#160;the&#160;&#160;application&#160;&#160;(usage&#160;&#160;of&#160;<br/>ApplTpCopyToCAN&#160;or&#160;Vector&#160;Diagnostic&#160;Layer)&#160;the&#160;Transmit&#160;CF&#160;parameter&#160;set&#160;the&#160;fastest&#160;<br/>possible&#160;transmission.&#160;&#160;<br/>
Transmit CF set&#160;the&#160;lowest&#160;possible&#160;separation&#160;time.&#160;<br/>
Example:&#160;The&#160;Diagnostic&#160;Tester&#160;set&#160;the&#160;STmin&#160;value&#160;to&#160;zero.&#160;Which&#160;will&#160;mean&#160;to&#160;the&#160;ECU&#160;<br/>to&#160;transmit&#160;as&#160;fast&#160;as&#160;possible.&#160;If&#160;the&#160;application&#160;uses&#160;in&#160;this&#160;case&#160;a&#160;ring-buffer&#160;mechanism&#160;<br/>it&#160;has&#160;to&#160;fill&#160;the&#160;ring-buffer&#160;in&#160;the&#160;same&#160;fast&#160;way&#160;as&#160;the&#160;TP&#160;transmits&#160;the&#160;data.&#160;To&#160;prevent&#160;in&#160;<br/>such&#160;a&#160;case&#160;a&#160;buffer&#160;under-run&#160;it&#160;is&#160;possible&#160;to&#160;limit&#160;the&#160;TP,&#160;by&#160;setting&#160;the&#160;lowest&#160;possible&#160;<br/>separation&#160;&#160;time&#160;&#160;value,&#160;&#160;so&#160;&#160;that&#160;&#160;the&#160;&#160;calculated&#160;&#160;STmin&#160;&#160;cannot&#160;&#160;be&#160;&#160;smaller&#160;&#160;than&#160;&#160;the&#160;Transmit&#160;<br/>CF value.&#160;<br/>
<b>3.1.1.2&#160;</b><br/>
<b>Reception timing&#160;</b><br/>
<b>Rx&#160;call&#160;cycle&#160;</b><br/>
Together&#160;&#160;with&#160;&#160;this&#160;&#160;period,&#160;&#160;the&#160;&#160;function&#160;&#160;TpRxTask()&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;called&#160;&#160;periodically&#160;&#160;by&#160;&#160;the&#160;<br/>application&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
39&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-40_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-40_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>RxTimeoutCF&#160;</b><br/>
After&#160;the&#160;Timeout&#160;CF&#160;time&#160;expires,&#160;a&#160;time-out&#160;occurs&#160;with&#160;the&#160;transport&#160;layer&#160;between&#160;the&#160;<br/>receptions of&#160;two&#160;ConsecutiveFrames.&#160;<br/>
<b>3.1.1.3&#160;</b><br/>
<b>Common timing&#160;</b><br/>
<b>CAN message&#160;confirmation timeout&#160;</b><br/>
Maximum&#160;&#160;time&#160;&#160;between&#160;&#160;a&#160;&#160;transmission&#160;&#160;request&#160;&#160;and&#160;&#160;the&#160;&#160;confirmation&#160;&#160;interrupt,&#160;&#160;indicating&#160;<br/>that&#160;the&#160;frame&#160;is sent&#160;successfully&#160;(it is at&#160;least&#160;accepted&#160;by&#160;one&#160;net&#160;node).&#160;&#160;&#160;<br/>
&#160;<br/>
<b>3.1.2&#160;</b><br/>
<b>Flow&#160;Control&#160;</b><br/>
&#160;&#160;<br/>
&#160;<br/>
Figure&#160;3-3&#160;Flow&#160;control&#160;settings&#160;in&#160;Generation&#160;Tools&#160;<br/>
<b>3.1.2.1&#160;</b><br/>
<b>Transmission&#160;</b><br/>
<b>Use&#160;STMin&#160;from flow&#160;control&#160;frame&#160;</b><br/>
If&#160;&#160;the&#160;&#160;“Flow&#160;&#160;control”&#160;&#160;time&#160;&#160;STMin&#160;&#160;was&#160;&#160;defined&#160;&#160;as&#160;&#160;constant&#160;&#160;at&#160;&#160;compile&#160;&#160;time&#160;&#160;for&#160;&#160;the&#160;&#160;whole&#160;<br/>
system,&#160;&#160;it&#160;&#160;won’t&#160;&#160;be&#160;&#160;necessary&#160;&#160;to&#160;&#160;calculate&#160;&#160;it&#160;&#160;at&#160;&#160;runtime.&#160;&#160;Setting&#160;&#160;the&#160;&#160;configuration&#160;&#160;switch&#160;<br/>„Use&#160;STMin&#160;from&#160;FlowControl&#160;frame“ to&#160;Off&#160;can&#160;parameterize&#160;this.&#160;<br/>
If&#160;&#160;the&#160;&#160;time&#160;&#160;STMin&#160;&#160;from&#160;&#160;the&#160;&#160;FlowControl&#160;&#160;message&#160;&#160;should&#160;&#160;be&#160;&#160;calculated,&#160;&#160;the&#160;&#160;configuration&#160;<br/>
switch&#160;“Use&#160;STMin&#160;from&#160;FlowControl frame”&#160;has to&#160;be&#160;selected.<b>&#160;</b><br/>
<b>3.1.2.2&#160;</b><br/>
<b>Reception&#160;</b><br/>
<b>STMin&#160;</b><br/>
The&#160;&#160;STmin&#160;&#160;edit&#160;&#160;field&#160;&#160;contains&#160;&#160;the&#160;&#160;minimum&#160;&#160;separation&#160;&#160;time&#160;&#160;between&#160;&#160;two&#160;&#160;consecutive&#160;<br/>frames.&#160;The&#160;separation&#160;time&#160;will&#160;be&#160;at&#160;least&#160;as&#160;long&#160;as&#160;configured&#160;or&#160;longer.&#160;The&#160;value&#160;in&#160;<br/>this&#160;&#160;edit&#160;&#160;field&#160;&#160;will&#160;&#160;be&#160;&#160;transmitted&#160;&#160;to&#160;&#160;the&#160;&#160;sender&#160;&#160;ECU&#160;&#160;in&#160;&#160;the&#160;&#160;FlowControl&#160;&#160;frame&#160;&#160;from&#160;&#160;the&#160;<br/>current&#160;&#160;ECU.&#160;&#160;The&#160;&#160;STmin&#160;&#160;value&#160;&#160;can&#160;&#160;either&#160;&#160;be&#160;&#160;defined&#160;&#160;at&#160;&#160;compile&#160;&#160;time&#160;&#160;or&#160;&#160;changed&#160;&#160;at&#160;<br/>runtime&#160;(see&#160;a<a href="TechnicalReference_TransportProtocolMultiConnections.html#41">lso&#160;3.1.3&#160;</a>Extended&#160;API&#160;STmin).&#160;<br/>
<b>BlockSize&#160;requested&#160;</b><br/>
The&#160;BlockSize&#160;specifies&#160;the&#160;number&#160;of&#160;ConsecutiveFrames&#160;until&#160;a&#160;FlowControl&#160;is&#160;needed.&#160;<br/>The&#160;receiver&#160;defines&#160;the&#160;BlockSize.&#160;The&#160;sender&#160;always&#160;uses&#160;the&#160;BlockSize&#160;of&#160;the&#160;receiver.&#160;<br/>The&#160;BlockSize&#160;value&#160;can&#160;either be&#160;defined&#160;at&#160;compile&#160;time&#160;or&#160;changed&#160;at&#160;runtime&#160;(see&#160;also&#160;<br/><a href="TechnicalReference_TransportProtocolMultiConnections.html#41">3.1.3&#160;</a>Extended&#160;API&#160;BlockSize).&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
40&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-41_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-41_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3.1.3&#160;</b><br/>
<b>Misc&#160;</b><br/>
&#160;&#160;<br/>
&#160;<br/>
Figure&#160;3-4&#160;Misc.&#160;settings&#160;in&#160;Generation&#160;Tools&#160;<br/>
<b>Extended&#160;API&#160;(variable&#160;BlockSize)&#160;</b><br/>
API&#160;extension,&#160;which&#160;can&#160;adjust&#160;the&#160;BlockSize&#160;value.&#160;<br/>
If&#160;&#160;the&#160;&#160;feature&#160;&#160;is&#160;&#160;enabled&#160;&#160;the&#160;&#160;BlockSize&#160;&#160;can&#160;&#160;be&#160;&#160;set&#160;&#160;at&#160;&#160;run-time&#160;&#160;by&#160;&#160;using&#160;&#160;the&#160;&#160;functions&#160;<br/>TpRxSetBS()&#160;&#160;and&#160;TpRxGetBS().&#160;<br/>
Default value&#160;after initializations:&#160;&#160;“BlockSize&#160;requested”&#160;(Section&#160;‘Flow&#160;Control’)<b>&#160;</b><br/>
<b>Extended&#160;API(variable&#160;STmin)&#160;</b><br/>
API&#160;extension,&#160;which&#160;can&#160;adjust&#160;the&#160;STmin&#160;value.&#160;<br/>
If&#160;&#160;the&#160;&#160;feature&#160;&#160;is&#160;&#160;enabled&#160;&#160;the&#160;&#160;STmin&#160;&#160;value&#160;&#160;can&#160;&#160;be&#160;&#160;set&#160;&#160;at&#160;&#160;run-time&#160;&#160;by&#160;&#160;using&#160;&#160;the&#160;&#160;functions&#160;<br/>TpRxSetSTMIN()&#160;&#160;and&#160;TpRxGetSTMIN().&#160;<br/>
Default value&#160;after initializations:&#160;“STmin” (Section&#160;‘Flow&#160;Control’)<b>&#160;</b><br/>
<b>Use&#160;fast RAM&#160;</b><br/>
The&#160;&#160;RAM&#160;&#160;demand&#160;&#160;and&#160;&#160;run-time&#160;&#160;can&#160;&#160;be&#160;&#160;reduced&#160;&#160;on&#160;&#160;some&#160;&#160;implementations,&#160;&#160;if&#160;&#160;some&#160;<br/>frequently&#160;used&#160;variables of&#160;the&#160;Transport&#160;Protocol are&#160;put&#160;into&#160;the&#160;„near“&#160;memory.&#160;<br/>
If&#160;&#160;the&#160;&#160;feature&#160;&#160;is&#160;&#160;enabled&#160;&#160;(default)&#160;&#160;the&#160;&#160;less&#160;&#160;used&#160;&#160;variables&#160;&#160;are&#160;&#160;also&#160;&#160;set&#160;&#160;into&#160;&#160;the&#160;&#160;„near“-<br/>memory.&#160;The&#160;code&#160;is smaller and&#160;faster.&#160;&#160;<br/>
Otherwise&#160;&#160;less&#160;&#160;used&#160;&#160;variables&#160;&#160;are&#160;&#160;not&#160;&#160;set&#160;&#160;into&#160;&#160;the&#160;&#160;„near“-memory.&#160;The&#160;&#160;code&#160;&#160;is&#160;&#160;a&#160;&#160;little&#160;&#160;bit&#160;<br/>bigger and&#160;slower.<b>&#160;</b><br/>
<b>Use&#160;Gateway&#160;API&#160;</b><br/>
API&#160;extension,&#160;which&#160;was&#160;implemented&#160;for&#160;Gateway&#160;purpose,&#160;but&#160;it&#160;is&#160;also&#160;possible&#160;to&#160;use&#160;<br/>it in&#160;other&#160;fields&#160;of&#160;applications.&#160;<br/>
If&#160;&#160;the&#160;&#160;feature&#160;&#160;is&#160;&#160;enabled&#160;&#160;the&#160;&#160;API&#160;&#160;of&#160;&#160;‘ApplTpRxGetBuffer’&#160;&#160;and&#160;&#160;‘ApplTpRxCheckTA’&#160;&#160;is&#160;<br/>extended&#160;&#160;with&#160;&#160;the&#160;&#160;CanRxInfoStructPtr&#160;&#160;from&#160;&#160;the&#160;&#160;CAN&#160;&#160;Driver&#160;&#160;Precopy&#160;&#160;functions&#160;&#160;API&#160;&#160;(see&#160;<br/>/CANDrv/&#160;manual).&#160;&#160;<br/>
Within&#160;&#160;this&#160;&#160;CanRxInfoSturctPtr&#160;&#160;parameter&#160;&#160;the&#160;&#160;CAN&#160;&#160;ID,&#160;&#160;pointer&#160;&#160;to&#160;&#160;the&#160;&#160;CAN&#160;&#160;data,&#160;&#160;etc.&#160;&#160;is&#160;<br/>included.&#160;<br/>
<b>Assertions&#160;&#160;</b><br/>
To&#160;detect&#160;some&#160;incorrect&#160;internal&#160;conditions&#160;of&#160;the&#160;Transport&#160;Protocol&#160;during&#160;development,&#160;<br/>integration&#160;&#160;and&#160;&#160;software&#160;&#160;test,&#160;&#160;there&#160;&#160;are&#160;&#160;different&#160;&#160;categories&#160;&#160;of&#160;&#160;so&#160;&#160;called&#160;&#160;assertions&#160;<br/>configurable:&#160;&#160;<br/>
1.&#160;&#160;User interface&#160;(for example&#160;input&#160;parameters,&#160;reentrance&#160;if&#160;not&#160;allowed)&#160;&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
41&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-42_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-42_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
2.&#160;&#160;Generated&#160;data&#160;&#160;<br/>
3.&#160;&#160;Internal software errors (for example&#160;inconsistent&#160;internal states)&#160;&#160;<br/>
Each&#160;type&#160;of&#160;assertion&#160;can&#160;be&#160;configured&#160;independently.&#160;&#160;<br/>
These&#160;&#160;assertions&#160;&#160;will&#160;&#160;help&#160;&#160;in&#160;&#160;different&#160;&#160;development&#160;&#160;phases&#160;&#160;to&#160;&#160;deal&#160;&#160;with&#160;&#160;unexpected&#160;<br/>problems,&#160;which&#160;cannot&#160;be&#160;handled&#160;by&#160;the&#160;Transport-Protocol&#160;internally.&#160;In&#160;such&#160;case&#160;the&#160;<br/>following&#160;callback function&#160;will be&#160;called&#160;by&#160;the&#160;Transport-Protocol:&#160;&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpFatalError</b>( vuint8&#160;errorNumber );&#160;<br/>
&#160;<br/>
This&#160;&#160;callback&#160;&#160;function&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;provided&#160;&#160;by&#160;&#160;the&#160;&#160;Application.&#160;&#160;The&#160;&#160;function&#160;&#160;parameter&#160;<br/>errorNumber&#160;&#160;gives&#160;&#160;more&#160;&#160;detailed&#160;&#160;information&#160;&#160;about&#160;&#160;the&#160;&#160;kind&#160;&#160;of&#160;&#160;error,&#160;&#160;which&#160;&#160;is&#160;&#160;occurred&#160;<br/>(see&#160;a<a href="TechnicalReference_TransportProtocolMultiConnections.html#157">lso&#160;4.4.4.1&#160;ApplTpFatalError: Fatal Error&#160;</a>for the&#160;different&#160;error-codes).&#160;&#160;<br/>
Generally,&#160;&#160;the&#160;&#160;error&#160;&#160;number&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;checked&#160;&#160;to&#160;&#160;solve&#160;&#160;the&#160;&#160;underlying&#160;&#160;problem.&#160;&#160;The&#160;<br/>recovery&#160;strategy&#160;is&#160;application&#160;dependent,&#160;but&#160;mostly&#160;there&#160;is&#160;a&#160;complete&#160;reset&#160;necessary&#160;<br/>to&#160;set&#160;up&#160;the&#160;software correctly&#160;again.&#160;&#160;<br/>
<b>Caution&#160;<br/></b>This&#160;callback&#160;function&#160;must&#160;not&#160;return&#160;to&#160;the&#160;Transport-Protocol&#160;afterwards.&#160;<br/>
&#160;<br/>
<b>assert user&#160;</b><br/>
User assertion&#160;will be&#160;activated.&#160;&#160;<br/>
Should&#160;be&#160;used&#160;while&#160;development&#160;of&#160;Application&#160;software&#160;&#160;<br/>
<b>assert internal&#160;</b><br/>
Internal assertions will&#160;be&#160;activated.&#160;<br/>
Should&#160;be&#160;used&#160;for tests&#160;of&#160;software changes in&#160;the&#160;Transport-Protocol&#160;<br/>
(Vector internal)&#160;&#160;<br/>
<b>&#160;assert generated&#160;</b><br/>
Internal assertions will&#160;be&#160;activated.&#160;<br/>
Should&#160;be&#160;used&#160;if&#160;a&#160;new&#160;version&#160;of&#160;the&#160;Generation&#160;Tool is used&#160;&#160;<br/>
<b>runtime&#160;checks&#160;</b><br/>
Runtime&#160;checks will be&#160;activated.&#160;&#160;<br/>
In&#160;contrast&#160;to&#160;the&#160;assertions&#160;the&#160;‘runtime&#160;checks’&#160;can&#160;also&#160;be&#160;used&#160;after&#160;the&#160;development&#160;<br/>phase&#160;&#160;and&#160;&#160;should&#160;&#160;guarantee&#160;&#160;a&#160;&#160;more&#160;&#160;reliable&#160;&#160;run.&#160;&#160;Checks&#160;&#160;for&#160;&#160;parameter&#160;&#160;plausibility,&#160;<br/>overwriting&#160;of&#160;memory&#160;like&#160;beyond&#160;access&#160;of&#160;tables,&#160;etc..&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
42&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-43_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-43_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3.2&#160;</b><br/>
<b>General&#160;settings&#160;with&#160;Generation Tool&#160;GENy&#160;</b><br/>
General&#160;&#160;settings&#160;&#160;can&#160;&#160;be&#160;&#160;done&#160;&#160;under&#160;&#160;the&#160;&#160;TPMC&#160;&#160;tree&#160;&#160;element.&#160;&#160;Most&#160;&#160;important&#160;&#160;is&#160;&#160;the&#160;<br/>selection&#160;of&#160;TpClass&#160;in&#160;the&#160;upper&#160;right&#160;window.&#160;Some&#160;online&#160;help&#160;is&#160;provided&#160;for&#160;the&#160;most&#160;<br/>settings&#160;&#160;in&#160;&#160;the&#160;&#160;OnScreenHelp&#160;&#160;window.&#160;&#160;Section&#160;&#160;“Advanced&#160;&#160;Configuration”&#160;&#160;is&#160;&#160;providing&#160;<br/>special&#160;&#160;features&#160;&#160;like&#160;&#160;Gateway&#160;&#160;APIs&#160;&#160;or&#160;&#160;padding&#160;&#160;of&#160;&#160;TP&#160;&#160;frames.&#160;&#160;Some&#160;&#160;features&#160;&#160;might&#160;&#160;be&#160;<br/>greyed&#160;&#160;which&#160;&#160;means&#160;&#160;that&#160;&#160;this&#160;&#160;features&#160;&#160;are&#160;&#160;preconfigured&#160;&#160;based&#160;&#160;on&#160;&#160;OEM&#160;&#160;or&#160;&#160;other&#160;<br/>constraints.&#160;&#160;It&#160;&#160;is&#160;&#160;necessary&#160;&#160;to&#160;&#160;configure&#160;&#160;for&#160;&#160;each&#160;&#160;Tp&#160;&#160;class&#160;&#160;at&#160;&#160;least&#160;&#160;one&#160;&#160;“TP&#160;&#160;Connection&#160;<br/>Group”&#160;object.&#160;Some&#160;static&#160;configured&#160;TP&#160;classes&#160;like&#160;“Static&#160;Normal&#160;Multi TP”&#160;require&#160;one&#160;<br/>Connection&#160;&#160;Group&#160;&#160;object&#160;&#160;for&#160;&#160;each&#160;&#160;TP&#160;&#160;connection&#160;&#160;whereas&#160;&#160;dynamic&#160;&#160;TP&#160;&#160;classes&#160;&#160;have&#160;<br/>always&#160;only&#160;one&#160;object.&#160;A&#160;Connection&#160;Group&#160;object&#160;represents&#160;a&#160;set&#160;of&#160;call&#160;back&#160;functions&#160;&#160;<br/>for the&#160;application&#160;to&#160;notify&#160;successful transmission&#160;or reception.&#160;<br/>
&#160;<br/>
Figure&#160;3-5&#160;Main&#160;window&#160;of&#160;component&#160;TPMC&#160;within&#160;configuration&#160;tool&#160;GENy.&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
43&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-44_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-44_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3.2.1&#160;</b><br/>
<b>Configuration of&#160;Addressing&#160;Information&#160;</b><br/>
The&#160;&#160;addressing&#160;&#160;information&#160;&#160;is&#160;&#160;configured&#160;&#160;for&#160;&#160;each&#160;&#160;channel.&#160;&#160;The&#160;&#160;provided&#160;&#160;addressing&#160;<br/>elements&#160;like&#160;TpTxMessage&#160;(for&#160;NormalAddressing)&#160;depend&#160;on&#160;the&#160;selected&#160;TP&#160;class.&#160;It&#160;is&#160;<br/>required&#160;to&#160;assign&#160;a&#160;TpConnectionGroupObj&#160;for&#160;each&#160;Addressing&#160;information.&#160;In&#160;Dynamic&#160;<br/>Multiple&#160;&#160;Addressing&#160;&#160;Tp&#160;&#160;Classes&#160;&#160;any&#160;&#160;Addressing&#160;&#160;Information&#160;&#160;is&#160;&#160;assigned&#160;&#160;to&#160;&#160;only&#160;&#160;one&#160;&#160;TP&#160;<br/>Connection&#160;Group&#160;Object.&#160;<br/>
&#160;<br/>
&#160;<br/>
Figure&#160;3-6&#160;Main&#160;window&#160;of&#160;component&#160;TPMC&#160;within&#160;configuration&#160;tool&#160;GENy.&#160;&#160;<br/>
&#160;<br/>
<b>3.2.2&#160;</b><br/>
<b>Usage&#160;of&#160;Far RAM&#160;buffers&#160;</b><br/>
Due&#160;to&#160;reasons&#160;of&#160;RAM&#160;resource&#160;availability&#160;it&#160;may&#160;be&#160;necessary&#160;to&#160;locate&#160;the&#160;receive&#160;and&#160;<br/>transmit&#160;&#160;buffers&#160;&#160;handed&#160;&#160;to&#160;&#160;the&#160;&#160;TP&#160;&#160;in&#160;&#160;a&#160;&#160;far&#160;&#160;memory&#160;&#160;location.&#160;&#160;All&#160;&#160;message&#160;&#160;buffer&#160;&#160;related&#160;<br/>types and&#160;callbacks will then&#160;use&#160;far pointers.&#160;<br/>
To&#160;enable&#160;this option&#160;the&#160;“Use&#160;far RAM&#160;buffers”&#160;option&#160;within&#160;the&#160;“Advanced&#160;Configuration”&#160;<br/>tab&#160;must&#160;be&#160;enabled.&#160;<br/>
If&#160;that&#160;option&#160;does&#160;not&#160;suffice&#160;for&#160;your&#160;integration&#160;the&#160;“Memory&#160;Model&#160;Override”&#160;option&#160;can&#160;<br/>be&#160;&#160;used&#160;&#160;alternatively&#160;&#160;supporting&#160;&#160;the&#160;&#160;usage&#160;&#160;of&#160;&#160;a&#160;&#160;special&#160;&#160;qualification&#160;&#160;string&#160;&#160;that&#160;&#160;can&#160;&#160;be&#160;<br/>entered&#160;as&#160;plain&#160;text&#160;(e.g.:<a href="mailto:e.g.@global">&#160;@page&#160;</a>@far).&#160;&#160;<br/>
&#160;<br/>
<b>3.2.3&#160;</b><br/>
<b>Non&#160;standard handling of&#160;Flow&#160;Control&#160;frames&#160;</b><br/>
<b>3.2.3.1&#160;</b><br/>
<b>Reserved STmin&#160;Handling&#160;</b><br/>
According&#160;to&#160;ISO&#160;15765-2&#160;the&#160;STmin&#160;values&#160;0x80-0xF0&#160;and&#160;0xFA-0xFF&#160;are reserved.&#160;&#160;<br/>
If&#160;&#160;a&#160;&#160;received&#160;&#160;FC.CTS&#160;&#160;frame&#160;&#160;nevertheless&#160;&#160;uses&#160;&#160;one&#160;&#160;of&#160;&#160;these&#160;&#160;reserved&#160;&#160;values,&#160;&#160;it&#160;&#160;shall&#160;&#160;be&#160;<br/>interpreted&#160;from&#160;the&#160;TP&#160;as&#160;the&#160;maximum&#160;STmin&#160;time&#160;(0x7F)&#160;which&#160;is defined.&#160;<br/>
The&#160;TP&#160;supports&#160;two&#160;additional&#160;possibilities&#160;to&#160;handle&#160;reserved&#160;STmin&#160;values:&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;the&#160;switch&#160;‘TP_ENABLE_IGNORE_FC_RES_STMIN’&#160;is defined,&#160;then&#160;a&#160;FC&#160;frame&#160;<br/>
with&#160;a&#160;reserved&#160;STmin&#160;value&#160;is silently&#160;ignored.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;the&#160;switch&#160;‘TP_ENABLE_CANCEL_FC_RES_STMIN is defined,&#160;then&#160;a&#160;FC&#160;frame&#160;<br/>
with&#160;a&#160;reserved&#160;STmin&#160;value&#160;will&#160;lead&#160;to&#160;the&#160;cancellation&#160;of&#160;the&#160;Tx&#160;connection.&#160;<br/>
Note&#160;that&#160;each&#160;switch&#160;has only&#160;an&#160;effect&#160;if&#160;the&#160;STmin&#160;is evaluated&#160;at&#160;all.&#160;For cases where&#160;<br/>STmin&#160;might&#160;not&#160;be&#160;evaluated,&#160;please&#160;refer to<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">&#160;3.2.3.4&#160;</a>and<a href="TechnicalReference_TransportProtocolMultiConnections.html#45">&#160;3.2.3.5.</a>&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
44&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-45_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3.2.3.2&#160;</b><br/>
<b>Ignore&#160;Flow&#160;Control&#160;Overflow&#160;</b><br/>
According&#160;&#160;to&#160;&#160;ISO&#160;&#160;15765-2&#160;&#160;a&#160;&#160;received&#160;&#160;FC.OVFLW&#160;&#160;(0x32)&#160;&#160;will&#160;&#160;abort&#160;&#160;the&#160;&#160;ongoing&#160;<br/>transmission&#160;due&#160;to&#160;the&#160;lack of&#160;reception&#160;buffer at&#160;the&#160;receiver side.&#160;<br/>
If&#160;&#160;the&#160;&#160;switch&#160;&#160;‘TP_ENABLE_IGNORE_FC_OVFL’&#160;&#160;is&#160;&#160;defined&#160;&#160;then&#160;&#160;a&#160;&#160;FC.OVFLW&#160;&#160;frame&#160;&#160;is&#160;<br/>silently&#160;ignored&#160;instead.&#160;<br/>
&#160;<br/>
<b>3.2.3.3&#160;</b><br/>
<b>Do not ignore&#160;unexpected Flow&#160;Control&#160;frames&#160;</b><br/>
According&#160;to&#160;ISO&#160;15765-2&#160;any&#160;unexpected&#160;FC frame&#160;shall&#160;be&#160;ignored.&#160;&#160;<br/>
If&#160;the&#160;switch&#160;TP_USE_UNEXPECTED_FC_CANCELATION&#160;is&#160;set&#160;to&#160;kTp_On,&#160;this&#160;behavior&#160;<br/>is changed.&#160;Then&#160;every&#160;unexpected&#160;FC&#160;frame&#160;will cancel the&#160;current&#160;transmission.&#160;<br/>
&#160;<br/>
<b>3.2.3.4&#160;</b><br/>
<b>Use&#160;STmin&#160;of&#160;FC&#160;</b><br/>
According&#160;&#160;to&#160;&#160;ISO&#160;&#160;15765-2,&#160;&#160;the&#160;&#160;STmin&#160;&#160;from&#160;an&#160;&#160;FC.CTS&#160;&#160;shall&#160;be&#160;&#160;used&#160;as&#160;&#160;separation&#160;time&#160;<br/>between&#160;two&#160;consecutive&#160;frames.&#160;&#160;<br/>
If&#160;the&#160;switch&#160;TP_USE_STMIN_OF_FC&#160;&#160;is&#160;set&#160;&#160;to&#160;kTp_Off,&#160;&#160;the&#160;STmin&#160;of&#160;the&#160;FC&#160;is&#160;ignored.&#160;<br/>Instead,&#160;&#160;the&#160;&#160;configured&#160;&#160;N_Cs&#160;&#160;timeout&#160;&#160;(TxTransmitCF&#160;&#160;parameter,&#160;&#160;see<a href="TechnicalReference_TransportProtocolMultiConnections.html#39">&#160;&#160;3.1.1.1)&#160;&#160;</a>is&#160;&#160;used&#160;&#160;as&#160;<br/>STmin.&#160;<br/>
&#160;<br/>
<b>3.2.3.5&#160;</b><br/>
<b>Analyze&#160;first FC&#160;only&#160;</b><br/>
According&#160;to&#160;ISO&#160;15765-2,&#160;the&#160;contents&#160;of&#160;each&#160;expected&#160;and&#160;received&#160;FC.CTS&#160;shall&#160;be&#160;<br/>evaluated&#160;by&#160;a&#160;transmitter in&#160;order to&#160;adjust&#160;its BS&#160;and&#160;STmin&#160;values.&#160;<br/>
If&#160;the&#160;switch&#160;TP_USE_ONLY_FIRST_FC&#160;is&#160;set&#160;to&#160;kTp_On,&#160;only&#160;the&#160;BS&#160;and&#160;the&#160;STmin&#160;of&#160;<br/>the&#160;&#160;first&#160;&#160;received&#160;&#160;FC.CTS&#160;&#160;are&#160;&#160;evaluated.&#160;&#160;These&#160;&#160;values&#160;&#160;are&#160;&#160;then&#160;&#160;used&#160;&#160;for&#160;&#160;the&#160;&#160;complete&#160;<br/>transmission.&#160;Further&#160;received&#160;FC.CTS&#160;are&#160;only&#160;used&#160;for&#160;synchronization&#160;and&#160;not&#160;to&#160;adjust&#160;<br/>BS&#160;and&#160;STmin.&#160;<br/>
&#160;<br/>
<b>3.3&#160;</b><br/>
<b>Additional&#160;settings&#160;via&#160;user-configuration&#160;file&#160;</b><br/>
<b>3.3.1&#160;</b><br/>
<b>Dynamic&#160;Timing&#160;API&#160;</b><br/>
Using&#160;this feature the&#160;application&#160;can&#160;dynamically&#160;change&#160;connection&#160;specific&#160;timing&#160;<br/>values for:&#160;<br/>
<b>&gt;&#160;&#160;</b>CAN confirmation&#160;timeout&#160;(N_Ar,&#160;N_As)&#160;<br/>
<b>&gt;&#160;&#160;</b>Consecutive&#160;Frame&#160;timeout&#160;(N_Cr)&#160;<br/>
<b>&gt;&#160;&#160;</b>Flow&#160;Control timeout&#160;(N_Bs).&#160;<br/>
The&#160;dynamic channel timing&#160;feature can&#160;be&#160;enabled&#160;via&#160;a&#160;user configuration&#160;file.&#160;&#160;If&#160;the&#160;<br/>pre-processor switch&#160;“TP_ENABLE_DYN_CHANNEL_TIMING”&#160;is included&#160;in&#160;this way&#160;then&#160;<br/>the&#160;TP&#160;takes&#160;the&#160;timing&#160;values&#160;from the&#160;following&#160;application&#160;provided&#160;variables:&#160;<br/>
tTpEngineTimer tpRxConfirmationTimeout&#160;[kTpRxChannelCount];&#160;<br/>
tTpEngineTimer tpTxConfirmationTimeout&#160;[kTpTxChannelCount];&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
45&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-46_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-46_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-46_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-46_4.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-46_5.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
tTpEngineTimer tpRxTimeoutCF&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[kTpRxChannelCount];&#160;<br/>
tTpEngineTimer tpTxTimeoutFC&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[kTpTxChannelCount];&#160;<br/>&#160;<br/>tTpEngineTimer&#160;&#160;is&#160;&#160;usually&#160;&#160;of&#160;&#160;type&#160;&#160;canuint16,&#160;&#160;for&#160;&#160;8-bit&#160;&#160;CPUs&#160;&#160;it&#160;&#160;might&#160;&#160;also&#160;&#160;be&#160;&#160;defined&#160;&#160;as&#160;<br/>canuint8.&#160;<br/>
These&#160;&#160;variables&#160;&#160;are&#160;&#160;initialized&#160;&#160;internally&#160;&#160;from&#160;&#160;the&#160;&#160;TP&#160;&#160;with&#160;&#160;the&#160;&#160;constant&#160;&#160;values&#160;&#160;that&#160;&#160;are&#160;<br/>configured&#160;&#160;in&#160;&#160;the&#160;&#160;generation&#160;&#160;tool.&#160;&#160;So&#160;&#160;all&#160;&#160;connection&#160;&#160;specific&#160;&#160;timing&#160;&#160;are&#160;&#160;equal&#160;&#160;after&#160;&#160;TP&#160;<br/>initialization.&#160;&#160;<br/>
Please&#160;note&#160;that&#160;the&#160;TP&#160;expects&#160;these&#160;variables,&#160;containing&#160;the&#160;connection&#160;<br/>specific timing&#160;values,&#160;to&#160;be&#160;supplied&#160;by&#160;the&#160;application.&#160;<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
For the&#160;further dynamic adaptation&#160;and&#160;differentiation&#160;of&#160;these&#160;connection&#160;specific values&#160;<br/>the&#160;following&#160;API&#160;functions are&#160;available&#160;in&#160;addition:&#160;<br/>
<b>&gt;&#160;&#160;</b>TpRxSetTimeoutConfirmation&#160;<a href="TechnicalReference_TransportProtocolMultiConnections.html#91">(see&#160;4.2.2.25&#160;</a>)&#160;<br/>
<b>&gt;&#160;&#160;</b>TpTxSetTimeoutConfirmation&#160;<a href="TechnicalReference_TransportProtocolMultiConnections.html#118">(see&#160;4.2.3.26)</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>TpRxSetTimeoutCF&#160;<a href="TechnicalReference_TransportProtocolMultiConnections.html#92">( see&#160;4.2.2.26&#160;</a>)&#160;<br/>
<b>&gt;&#160;&#160;</b>TpTxSetTimeoutFC&#160;<a href="TechnicalReference_TransportProtocolMultiConnections.html#119">(see&#160;4.2.3.27)</a>&#160;<br/>
With&#160;these&#160;functions&#160;the&#160;belonging&#160;timeout&#160;values of&#160;the&#160;TP&#160;can&#160;be&#160;changed&#160;dynamically&#160;<br/>during&#160;runtime.&#160;&#160;<br/>
&#160;<br/>
<b>3.4&#160;</b><br/>
<b>TP&#160;classes:&#160;SingleTP&#160;(multi-based)&#160;</b><br/>
These&#160;TP&#160;classes are based&#160;on&#160;the&#160;MultiTP&#160;core&#160;but&#160;running&#160;only&#160;with&#160;one&#160;connection&#160;and&#160;<br/>are optimized&#160;to&#160;consume&#160;a&#160;minimum&#160;of&#160;resources.&#160;<br/>
<b>3.4.1&#160;</b><br/>
<b>Database&#160;Attributes&#160;</b><br/>
Following&#160;Database&#160;attributes are&#160;needed:&#160;<br/>
&#160;&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
Figure&#160;3-7&#160;Database&#160;Attributes&#160;for&#160;Single/Static&#160;TP&#160;classes&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
46&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-47_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/>
<b>DiagRequest / DiagResponse</b>:&#160;&#160;Used&#160;for&#160;diagnostic request&#160;messages to&#160;make&#160;special&#160;<br/>
pre-settings&#160;for the&#160;Vector diagnosis’s layers.&#160;&#160;<br/>(Only&#160;available&#160;for some&#160;car-manufactures)&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>TpTxIndex</b>:&#160;&#160;&#160;&#160;<br/>
&#160;&#160;&#160;&#160;&#160;&#160;Used&#160;for&#160;application&#160;TP&#160;messages.&#160;<br/>
TP&#160;connections&#160;with&#160;FlowControl:&#160;bi-directional transmissions&#160;according&#160;to&#160;ISO&#160;15765&#160;<br/>standard&#160;<br/>
TP-connections without&#160;FlowControl:&#160;unidirectional transmissions nonconformance&#160;to&#160;the&#160;<br/>ISO&#160;15765&#160;standard&#160;<br/>
&#160;<br/>
<b>conventions&#160;to read a&#160;connection out of the&#160;database<br/></b>bidirectional&#160;with&#160;FC&#160;(standard)&#160;The&#160;TX-Node&#160;and&#160;the&#160;RX-Node&#160;includes each&#160;a&#160;TX-TP-message&#160;<br/>
with&#160;the&#160;same&#160;TpTxIndex value&#160;{Broadcast&#160;not&#160;possible}.<br/>
bidirectional&#160;without&#160;FC<br/>
not&#160;supported<br/>
unidirectional&#160;with&#160;FC<br/>
not&#160;supported<br/>
unidirectional&#160;without&#160;FC<br/>
The&#160;RX-Node&#160;do&#160;not&#160;include&#160;a&#160;TX-TP-message&#160;with&#160;a&#160;same&#160;<br/>
(not&#160;supported&#160;in&#160;SingleTP&#160;<br/>
TpTxIndex as the&#160;TX-TP-msg.&#160;of&#160;the&#160;TX-Node&#160;{Broadcast&#160;is&#160;<br/>
classes)<br/>
possible&#160;- TX-msg.&#160;can&#160;have&#160;more&#160;than&#160;one&#160;receiver}.<br/>
&#160;<br/>
Table&#160;3-1&#160;&#160;&#160;&#160;Usage&#160;of&#160;TpTxIndex&#160;database&#160;attribute&#160;<br/>
<b>&#160;</b><br/>
<b>GenMsgDelayTime:&#160;</b><br/>
If&#160;the&#160;database&#160;attribute&#160;‘GenMsgDelayTime’&#160;has a&#160;value&#160;unequal to&#160;zero,&#160;then&#160;the&#160;TP&#160;<br/>observes this time&#160;between&#160;two&#160;transmissions&#160;as a&#160;minimum&#160;time&#160;distance.&#160;<br/>
&#160;<br/>
<b>3.4.2&#160;</b><br/>
<b>TP&#160;class&#160;SingleTP&#160;(multi-based):&#160;Normal&#160;Addressing&#160;&#160;</b><br/>
No&#160;special settings needed&#160;<br/>
<b>3.4.3&#160;</b><br/>
<b>TP&#160;class&#160;SingleTP&#160;(multi-based):&#160;Extended&#160;Addressing&#160;&#160;</b><br/>
No&#160;special settings needed&#160;<br/>
&#160;<br/>
<b>3.4.4&#160;</b><br/>
<b>TP&#160;class&#160;SingleTP&#160;(multi-based):Normal&#160;Fixed&#160;Addressing&#160;&#160;</b><br/>
<b>3.4.4.1&#160;</b><br/>
<b>Database&#160;Attributes&#160;</b><br/>
Refer to&#160;chapter&#160;3.6.6.1&#160;Database&#160;Attributes&#160;<br/>
&#160;<br/>
<b>3.5&#160;</b><br/>
<b>TP&#160;classes&#160;Static&#160;MultiTP&#160;</b><br/>
For each&#160;TP-communication&#160;between&#160;two&#160;ECUs static defined&#160;connections&#160;are available.&#160;&#160;<br/>
<b>3.5.1&#160;</b><br/>
<b>Database&#160;Attributes&#160;</b><br/>
Refer to&#160;chapter&#160;3.4.1&#160;Database&#160;Attributes&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
47&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-48_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-48_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-48_3.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3.5.2&#160;</b><br/>
<b>TP&#160;class&#160;specific&#160;settings&#160;</b><br/>
&#160;<br/>
&#160;<br/>
Figure&#160;3-8&#160;Additional&#160;TP&#160;settings&#160;(Static&#160;MultiTP)&#160;in&#160;Generation&#160;Tool&#160;<br/>
<b>Connection specific&#160;timing parameters&#160;</b><br/>
If&#160;&#160;‘Connection&#160;&#160;specific&#160;&#160;timing&#160;&#160;parameters’&#160;&#160;are&#160;&#160;activated&#160;&#160;the&#160;&#160;timing&#160;&#160;parameters&#160;&#160;of&#160;&#160;each&#160;<br/>connection&#160;can&#160;override&#160;the&#160;global timing&#160;values&#160;for this connection.&#160;<br/>
<b>TpPreCopyCheck&#160;</b><br/>
Just&#160;enter a&#160;function&#160;name&#160;to&#160;use&#160;this hook&#160;function.&#160;<br/>
&#160;<br/>
<b>3.5.3&#160;</b><br/>
<b>Connection specific&#160;timing parameters&#160;</b><br/>
&#160;&#160;<br/>
&#160;<br/>
Figure&#160;3-9&#160;Connection&#160;specific&#160;timing&#160;parameters&#160;<br/>
&#160;<br/>
The&#160;following&#160;parameters can&#160;be&#160;configured&#160;individually&#160;for each&#160;connection:&#160;<br/>
<b>Timings&#160;</b><br/>
<b>&gt;&#160;&#160;</b>TxTimeoutFC&#160;<br/>
<b>&gt;&#160;&#160;</b>TxTimeoutCF&#160;<br/>
<b>&gt;&#160;&#160;</b>RxTransmitCF&#160;<br/>
<b>FlowControl&#160;</b><br/>
<b>&gt;&#160;&#160;</b>STMin&#160;<br/>
<b>&gt;&#160;&#160;</b>Requested&#160;BlockSize&#160;<br/>
For detailed&#160;descriptions refer chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#39">r&#160;3.1.1&#160;Timing&#160;</a>and&#160;the&#160;following&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
48&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=49></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-49_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-49_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3.5.4&#160;</b><br/>
<b>Functions&#160;</b><br/>
&#160;&#160;<br/>
&#160;<br/>
Figure&#160;3-10&#160;Hook-Functions&#160;(Static&#160;MultiTP)&#160;<br/>
Just&#160;enter a&#160;suitable&#160;function&#160;name&#160;to&#160;use&#160;the&#160;hook&#160;function&#160;in&#160;your&#160;application.&#160;&#160;<br/>
For a&#160;detailed&#160;description&#160;of&#160;each&#160;function&#160;refer chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#137">r&#160;4.4.</a>&#160;<br/>
&#160;<br/>
<b>3.6&#160;</b><br/>
<b>TP&#160;classes&#160;Dynamic&#160;MultiTP&#160;</b><br/>
In&#160;opposite&#160;to&#160;the&#160;static&#160;MultiTP&#160;there&#160;are&#160;no&#160;fix&#160;connections&#160;available.&#160;All&#160;connections&#160;are&#160;<br/>built-on&#160;during&#160;runtime&#160;and&#160;released&#160;after&#160;the&#160;transmission&#160;is&#160;complete.&#160;So&#160;the&#160;&#160;resources&#160;<br/>used&#160;per connection&#160;can&#160;be&#160;reused&#160;by&#160;other&#160;applications.&#160;<br/>
&#160;<br/>
<b>3.6.1&#160;</b><br/>
<b>Properties&#160;</b><br/>
<b>Tx&#160;channel&#160;count&#160;</b><br/>
Maximum&#160;possible&#160;number&#160;of&#160;parallel used&#160;TpChannel(s)&#160;for transmissions.&#160;<br/>
<b>Rx&#160;channel&#160;count&#160;</b><br/>
Maximum&#160;possible&#160;number&#160;of&#160;parallel used&#160;TpChannel(s)&#160;for receptions.&#160;<br/>
<b>Use&#160;Tx&#160;channels&#160;without&#160;FC&#160;</b><br/>
Enable&#160;the&#160;feature to&#160;use&#160;the&#160;non-ISO&#160;implementation&#160;‘without&#160;FC’&#160;for transmission.&#160;<br/>
<b>Use&#160;Rx&#160;channels&#160;without&#160;FC&#160;</b><br/>
Enable&#160;the&#160;feature to&#160;use&#160;the&#160;non-ISO&#160;implementation&#160;‘without&#160;FC’&#160;for reception.&#160;&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
49&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-50_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-50_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-50_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-50_4.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3.6.2&#160;</b><br/>
<b>Hook&#160;Functions&#160;</b><br/>
In&#160;&#160;opposite&#160;&#160;to&#160;&#160;the&#160;&#160;static&#160;&#160;MultiTP,&#160;&#160;where&#160;&#160;all&#160;&#160;hook&#160;&#160;functions&#160;&#160;are&#160;&#160;available&#160;&#160;once&#160;&#160;for&#160;&#160;each&#160;<br/>statically&#160;configured&#160;connection,&#160;here&#160;this&#160;set&#160;&#160;of&#160;hook&#160;functions&#160;is&#160;available&#160;&#160;only&#160;once&#160;for&#160;<br/>all&#160;&#160;connections.&#160;&#160;&#160;&#160;This&#160;&#160;means&#160;&#160;that&#160;&#160;all&#160;&#160;messages&#160;&#160;have&#160;&#160;to&#160;&#160;be&#160;&#160;dispatched&#160;&#160;to&#160;&#160;&#160;&#160;the&#160;&#160;belonging&#160;<br/>destination&#160;by&#160;the&#160;application&#160;for each&#160;connection.&#160;<br/>
&#160;<br/>
These&#160;hook&#160;functions&#160;we&#160;recommend&#160;to&#160;use.&#160;<br/>
&#160;<br/>
Figure&#160;3-11&#160;Mandatory&#160;functions&#160;for&#160;the&#160;usage&#160;of&#160;the&#160;CANdesc&#160;diagnostic&#160;component&#160;<br/>
Just&#160;enter a&#160;suitable&#160;function&#160;name&#160;to&#160;use&#160;the&#160;hook&#160;function&#160;in&#160;your&#160;application.&#160;&#160;<br/>
For a&#160;detailed&#160;description&#160;of&#160;each&#160;function&#160;refer to&#160;chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#137">r&#160;4.4.</a>&#160;<br/>
&#160;<br/>
These&#160;hook&#160;functions&#160;are optional.&#160;<br/>
&#160;<br/>
Figure&#160;3-12&#160;Optional&#160;functions&#160;(example&#160;for&#160;the&#160;usage&#160;of&#160;the&#160;CANdesc&#160;diagnostic&#160;component)&#160;&#160;<br/>
<b>Be careful&#160;<br/></b>while using&#160;a&#160;Vector&#160;Diagnostic&#160;Layer&#160;it&#160;is&#160;necessary&#160;to hand&#160;over&#160;only&#160;the&#160;function&#160;calls&#160;<br/>
&#160;<br/>
to&#160;the&#160;Diagnostic&#160;Layer,&#160;which belong&#160;to&#160;the&#160;diagnostic&#160;connection(s).&#160;An&#160;application&#160;<br/>example is present,&#160;see&#160;chapter<a href="TechnicalReference_TransportProtocolMultiConnections.html#173">&#160;8.5.1.</a>&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>3.6.3&#160;</b><br/>
<b>Dynamic&#160;Objects&#160;</b><br/>
The&#160;MultiConnection&#160;Tp&#160;uses&#160;the&#160;“dynamic&#160;TxID”&#160;functionality&#160;(Dynamic&#160;TxID&#160;&#160;On)&#160;of&#160;the&#160;CAN-<br/>Driver.&#160;However,&#160;you&#160;can&#160;specify&#160;additional dynamic objects&#160;for your application.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
50&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=51></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-51_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-51_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-51_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-51_4.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;<br/>
<b>Important&#160;<br/></b>If&#160;you&#160;want&#160;to add&#160;dynamic&#160;objects&#160;for&#160;your&#160;application you&#160;have just&#160;to enter&#160;your&#160;count&#160;<br/>
&#160;<br/>
of&#160;dynamic&#160;objects.&#160;The&#160;Generation&#160;Tool&#160;adds&#160;the&#160;usage of&#160;dynamic&#160;objects&#160;for&#160;the&#160;<br/>MultiConnection&#160;Tp automatically.&#160;<br/>
&#160;<br/>
<b>3.6.4&#160;</b><br/>
<b>TP&#160;class&#160;Dynamic&#160;MultiTP:&#160;Normal&#160;Addressing&#160;&#160;</b><br/>
<b>3.6.4.1&#160;</b><br/>
<b>CANdriver settings&#160;</b><br/>
&#160;<br/>
<b>Important&#160;<br/></b>Actually&#160;the&#160;Generation&#160;Tool&#160;will&#160;not&#160;setup&#160;the&#160;reception&#160;messages automatically.&#160;The&#160;<br/>
&#160;<br/>
user&#160;itself&#160;has&#160;to&#160;insert&#160;for&#160;each&#160;message,&#160;which should be&#160;processed&#160;by&#160;the&#160;TP&#160;(or&#160;for&#160;<br/>a range&#160;of&#160;messages)&#160;a ‘TpPrecopy’-function.&#160;Please refer&#160;the&#160;CAN-driver&#160;manual&#160;<br/>/CANdrv/&#160;how&#160;to insert&#160;a&#160;Precopy-function.&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>3.6.5&#160;</b><br/>
<b>TP&#160;class&#160;Dynamic&#160;MultiTP:&#160;Extended&#160;Addressing&#160;&#160;</b><br/>
<b>3.6.5.1&#160;</b><br/>
<b>TP&#160;class&#160;specific&#160;settings&#160;</b><br/>
&#160;&#160;<br/>
&#160;<br/>
Figure&#160;3-13&#160;Misc&#160;(Extended&#160;Addressing)&#160;<br/>
<b>Own&#160;ECU&#160;number&#160;</b><br/>
It&#160;will be&#160;read&#160;out&#160;from&#160;the&#160;database&#160;attribute&#160;‘TpOwnSystemEcuNumber’.&#160;<br/>
<b>Lowest functional&#160;address&#160;</b><br/>
The&#160;&#160;value&#160;&#160;should&#160;&#160;define&#160;&#160;the&#160;&#160;lowest&#160;&#160;value&#160;&#160;of&#160;&#160;an&#160;&#160;additional&#160;&#160;range&#160;&#160;of&#160;&#160;receivable&#160;<br/>TargetAddresses.&#160;<br/>
Not&#160;supported&#160;–&#160;use&#160;instead&#160;the&#160;hook&#160;function&#160;ApplTpCheckTA()&#160;<br/>
<b>Highest functional&#160;address&#160;</b><br/>
The&#160;&#160;value&#160;&#160;should&#160;&#160;define&#160;&#160;the&#160;&#160;highest&#160;&#160;value&#160;&#160;of&#160;&#160;an&#160;&#160;additional&#160;&#160;range&#160;&#160;of&#160;&#160;receivable&#160;<br/>TargetAddresses.&#160;<br/>
Not&#160;supported&#160;–&#160;use&#160;instead&#160;the&#160;hook&#160;function&#160;ApplTpCheckTA()<b>&#160;</b><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
51&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=52></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-52_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-52_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-52_3.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3.6.5.2&#160;</b><br/>
<b>Database&#160;Attributes&#160;</b><br/>
&#160;<br/>
<b>Name&#160;</b><br/>
<b>Default&#160;</b><br/>
<b>No TP&#160;used&#160;&#160;Normal&#160;</b><br/>
<b>Extended&#160;<br/>(example)&#160;</b><br/>
TpNodeBaseAddress&#160;<br/>
FFFF&#160;<br/>
Default&#160;<br/>
Default&#160;<br/>
0x600&#160;<br/>
TpOwnSystemEcuNumber&#160;<br/>
FF&#160;<br/>
Default&#160;<br/>
Default&#160;<br/>
0x01&#160;<br/>
TpNodeMesageCount&#160;<br/>
FF&#160;<br/>
Default&#160;<br/>
Default&#160;<br/>
0xff&#160;<br/>
Table&#160;3-2&#160;&#160;&#160;&#160;Data&#160;Base&#160;Attributes<b>&#160;</b><br/>
<b>TpNodeBaseAddress</b>&#160;<br/>The&#160;not&#160;valid&#160;value&#160;FFFF indicates,&#160;that&#160;there&#160;is no&#160;base&#160;address&#160;necessary.&#160;<br/>&#160;<br/><b>TpOwnSystemEcuNumber</b>&#160;<br/>This value&#160;provides the&#160;own&#160;ECU&#160;Number,&#160;necessary&#160;for setting&#160;up&#160;the&#160;transmit identifier.&#160;<br/>&#160;<br/><b>TpNodeMessageCount</b>&#160;<br/>This value&#160;determines&#160;how&#160;many&#160;messages are assigned&#160;to&#160;the&#160;‘range’&#160;together with&#160;the&#160;<br/>base&#160;address.&#160;This is&#160;necessary&#160;for the&#160;TP&#160;to&#160;calculate&#160;to&#160;which&#160;base&#160;the&#160;received&#160;CAN&#160;ID&#160;<br/>is assigned.&#160;<br/>The&#160;values&#160;for&#160;extended&#160;addressing&#160;are just&#160;an&#160;example:&#160;<br/>The&#160;CAN&#160;ID&#160;for this&#160;node&#160;is&#160;0x600&#160;+&#160;0x01&#160;=&#160;0x601.&#160;<br/>
<b>3.6.5.3&#160;</b><br/>
<b>Multiple&#160;Base&#160;Addresses&#160;</b><br/>
For&#160;each&#160;connection&#160;a&#160;dedicated&#160;base&#160;address&#160;including&#160;an&#160;address&#160;offset&#160;and&#160;a&#160;message&#160;&#160;<br/>count&#160;can&#160;be&#160;specified.&#160;&#160;&#160;<br/>
<b>3.6.6&#160;</b><br/>
<b>TP&#160;class&#160;Dynamic&#160;MultiTP:&#160;Normal&#160;Fixed&#160;Addressing&#160;</b><br/>
<b>3.6.6.1&#160;</b><br/>
<b>Database&#160;Attributes&#160;</b><br/>
&#160;<br/>
&#160; &#160;&#160;<br/>
&#160;<br/>
Figure&#160;3-14&#160;Database&#160;attributes&#160;for&#160;‘Normal&#160;Fixed&#160;Addressing’&#160;&#160;<br/>
<b>TpOwnSystemEcuNumber&#160;</b><br/>
Each&#160;&#160;ECU&#160;&#160;is&#160;&#160;represented&#160;&#160;in&#160;&#160;the&#160;network&#160;&#160;by&#160;&#160;an&#160;&#160;address&#160;&#160;/&#160;&#160;EcuNumber.&#160;&#160;If&#160;&#160;the&#160;&#160;EcuNumber&#160;<br/>0xff&#160;is used&#160;the&#160;TP&#160;activates the&#160;‘Multiple&#160;EcuNumber’&#160;feature (refe<a href="TechnicalReference_TransportProtocolMultiConnections.html#168">r&#160;7.4.1&#160;Virtual&#160;ECU’s).</a>&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
52&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-53_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-53_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-53_3.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>TpNodeBaseAddress&#160;</b><br/>
This&#160;attribute&#160;includes&#160;the&#160;upper 13&#160;bits (like&#160;priority,&#160;PGN) of&#160;the&#160;CAN-ID.&#160;&#160;<br/>
<b>3.6.7&#160;</b><br/>
<b>TP&#160;class&#160;Dynamic&#160;MultiTP:&#160;Mixed 29-bit&#160;Addressing&#160;</b><br/>
Currently&#160;open&#160;–&#160;support is only&#160;for generation&#160;tool GENy&#160;requested&#160;&#160;<br/>
<b>3.6.8&#160;</b><br/>
<b>TP&#160;class&#160;Dynamic&#160;MultiTP:&#160;Multiple&#160;Addressing&#160;&#160;</b><br/>
In&#160;this&#160;TP&#160;class it&#160;is possible&#160;to&#160;change&#160;the&#160;addressing&#160;mode&#160;in&#160;run-time.&#160;<br/>
<b>3.6.8.1&#160;</b><br/>
<b>Addressing mode&#160;</b><br/>
&#160;&#160;<br/>
&#160;<br/>
Figure&#160;3-15&#160;Addressing&#160;mode&#160;(Multiple&#160;Addressing)&#160;<br/>
Only&#160;the&#160;checked&#160;addressing&#160;modes will be&#160;supported.&#160;<br/>
<b>3.6.8.2&#160;</b><br/>
<b>CAN&#160;Driver settings&#160;</b><br/>
To&#160;&#160;distinguish&#160;&#160;the&#160;&#160;addressing&#160;&#160;mode&#160;&#160;while&#160;&#160;the&#160;&#160;reception&#160;&#160;different&#160;&#160;Precopy-functions&#160;&#160;will&#160;<br/>exist&#160;&#160;for&#160;&#160;each&#160;&#160;mode.&#160;&#160;It&#160;&#160;is&#160;&#160;possible&#160;&#160;to&#160;&#160;insert&#160;&#160;the&#160;&#160;Precopy-function&#160;&#160;for&#160;&#160;a&#160;&#160;message&#160;&#160;or&#160;&#160;for&#160;&#160;a&#160;<br/>range&#160;of&#160;messages (CAN-Driver Ranges).&#160;<br/>
<b>&gt;&#160;&#160;NormalAddressing</b>:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TpPrecopyNormal&lt;DESTINATION&gt;&#160;<br/>
<b>&gt;&#160;&#160;NormalFixedAddressing</b>:&#160;&#160;TpPrecopyNormalFixed&lt;DESTINATION&gt;&#160;<br/>
<b>&gt;&#160;&#160;ExtendedAddressing</b>:&#160;&#160;&#160;&#160;&#160;&#160;&#160;TpPrecopyExtended&lt;DESTINATION&gt;&#160;<br/>
<b>&gt;&#160;&#160;Mixed29Addressing</b>:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TpPrecopyMixed29&lt;DESTINATION&gt;&#160;<br/>
<b>&gt;&#160;&#160;Mixed11Addressing</b>:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TpPrecopyMixed11&lt;DESTINATION&gt;&#160;<br/>
&#160;<br/>
<b>Caution&#160;<br/></b>Actually&#160;the&#160;Generation&#160;Tool&#160;will&#160;not&#160;setup&#160;the&#160;reception&#160;messages automatically.&#160;<br/>
&#160;<br/>
&#160;<br/>&lt;DESTINATION&gt;&#160;is replaced&#160;by&#160;on&#160;of&#160;the&#160;following&#160;strings:&#160;<br/>
<b>&gt;&#160;&#160;</b>Appl&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>DiagFunc&#160;<br/>
<b>&gt;&#160;&#160;</b>DiagPhys&#160;<br/>
&#160;<br/>These&#160;&#160;destinations&#160;&#160;identify&#160;&#160;the&#160;&#160;purpose&#160;&#160;of&#160;&#160;a&#160;&#160;given&#160;&#160;connection.&#160;&#160;DiagFunc&#160;&#160;will&#160;&#160;identify&#160;&#160;a&#160;<br/>functional&#160;&#160;Diagnostic&#160;&#160;message&#160;&#160;(1:n).&#160;&#160;DiagPhys&#160;&#160;is&#160;&#160;representing&#160;&#160;the&#160;&#160;standard&#160;&#160;physical&#160;<br/>diagnostic&#160;&#160;message&#160;&#160;(1:1)&#160;&#160;and&#160;&#160;Appl&#160;&#160;a&#160;&#160;standard&#160;&#160;TPMC&#160;&#160;connection&#160;&#160;used&#160;&#160;for&#160;&#160;application&#160;<br/>purpose&#160;(1:1).&#160;<br/>
E.g.:&#160;NormalFixedAddressing&#160;range&#160;18DA0500&#160;with&#160;mask&#160;0xFF&#160;which&#160;is&#160;specified&#160;by&#160;the&#160;<br/>ISO&#160;standard as&#160;physical range&#160;would&#160;be&#160;configured&#160;in&#160;the&#160;CAN&#160;Driver as:&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
53&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=54></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-54_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-54_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
TpPrecopyNormalFixedDiagPhys&#160;<br/>
&#160;<br/>
Using&#160;a&#160;dispatcher in&#160;combination&#160;with&#160;two&#160;macro&#160;functions&#160;it&#160;is possible&#160;to&#160;distinguish&#160;<br/>inside&#160;the&#160;TPMC callback&#160;function&#160;set&#160;between&#160;a&#160;diagnostic&#160;or applicational request&#160;<br/>message&#160;and&#160;direct&#160;it&#160;to&#160;the&#160;correct&#160;component&#160;like&#160;CANdesc.&#160;&#160;<br/>&#160;<br/>
TpRxGetAddressingFormat(tpChannel)&#160; &#160; &#160; &#160; &#160;can&#160;be&#160;used&#160;to&#160;check against&#160;&#160;<br/>
#define kTpNormalAddressing&#160;<br/>#define kTpExtendedAddressing&#160;<br/>#define kTpNormalFixedAddressing&#160;<br/>#define kTpMixed29Addressing&#160;<br/>#define kTpMixed11Addressing&#160;<br/>
TpRxGetAssignedDestination( tpChannel)&#160; &#160; &#160;can&#160;be&#160;used&#160;to&#160;check&#160;against&#160;<br/>
#define kTpRequestAppl&#160;<br/>#define kTpRequestDiagFunctional&#160;<br/>#define kTpRequestDiagPhysical&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Figure&#160;3-16&#160;Dedicated&#160;call&#160;of&#160;Precopy&#160;functions&#160;in&#160;TPMC&#160;by&#160;the&#160;driver.&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
54&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=55></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_4.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_5.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_6.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_7.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_8.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_9.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_10.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_11.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_12.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_13.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_14.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_15.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_16.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-55_17.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3.7&#160;</b><br/>
<b>TP&#160;class&#160;Dispatched&#160;MultiTP&#160;</b><br/>
With&#160;the&#160;release&#160;version&#160;3.00.00&#160;of&#160;TPMC&#160;the&#160;“Dispatched”&#160;MultiTP&#160;class&#160;was&#160;introduced&#160;<br/>to&#160;disburden&#160;the&#160;application&#160;from&#160;the&#160;dispatching&#160;job.&#160;<br/>
Using&#160;&#160;the&#160;&#160;“Dynamic&#160;&#160;MultiTP”&#160;&#160;classes,&#160;&#160;which&#160;&#160;support&#160;&#160;only&#160;&#160;one&#160;&#160;single&#160;&#160;set&#160;&#160;of&#160;&#160;callback&#160;<br/>functions&#160;&#160;for&#160;&#160;all&#160;&#160;connections&#160;&#160;together,&#160;&#160;the&#160;&#160;dispatching&#160;&#160;of&#160;&#160;the&#160;&#160;actual&#160;&#160;destination&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>performed&#160;by&#160;the&#160;application.&#160;&#160;<br/>
Using&#160;&#160;the&#160;&#160;“Dispatched&#160;&#160;MultiTP”&#160;&#160;classes&#160;&#160;all&#160;&#160;of&#160;&#160;the&#160;&#160;dispatching&#160;&#160;work&#160;&#160;is&#160;&#160;done&#160;&#160;within&#160;&#160;the&#160;<br/>TPMC.&#160;<br/>
“Dispatched&#160;MultiTP”&#160;is&#160;located&#160;between&#160;static&#160;and&#160;dynamic&#160;TP&#160;classes.&#160;As&#160;well&#160;as&#160;Static&#160;<br/>TP&#160;&#160;it&#160;&#160;supports&#160;&#160;connection&#160;&#160;specific&#160;&#160;sets&#160;&#160;of&#160;&#160;callback&#160;&#160;functions&#160;&#160;and&#160;&#160;dispatches&#160;&#160;all&#160;<br/>connections,&#160;&#160;regarding&#160;&#160;the&#160;Address&#160;&#160;Information&#160;&#160;(AI),&#160;&#160;to&#160;&#160;these&#160;&#160;callback&#160;&#160;functions.&#160;&#160;Just&#160;&#160;as&#160;<br/>Dynamic&#160;TP&#160;resources&#160;are shared&#160;among&#160;the&#160;connections.&#160;<br/>
&#160;<br/>
Diag&#160;<br/>
Appl_1&#160;<br/>
Appl_n&#160;<br/>&#160;<br/>
All&#160;connection&#160;specific&#160;attributes&#160;like timeouts,&#160;<br/>max. tpChannels, callback&#160;function set,&#160;etc. are&#160;<br/>
&#160; &#160; &#160;Dispatched&#160;&#160;&#160;&#160;&#160;&#160;&#160;TPMC&#160;<br/>
kept internally&#160;in&#160;the&#160;TPMC.&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
The&#160;configured&#160;address&#160;information&#160;(AI)&#160;is&#160;&#160;<br/>linked&#160;(via&#160;a&#160;TPMC&#160;internal&#160;Precopy&#160;function)&#160;<br/>
AI_0&#160;<br/>
AI_1&#160;<br/>
AI_2&#160;<br/>
directly&#160;to the destination&#160;application.&#160;<br/>
Can&#160;Driver&#160;<br/>
CAN&#160;2&#160;<br/>
CAN&#160;1&#160;<br/>
Figure&#160;3-17&#160;Dedicated&#160;call&#160;of&#160;application&#160;callback&#160;functions&#160;in&#160;TPMC&#160;by&#160;the&#160;internal&#160;dispatcher.&#160;<br/>
&#160;<br/>
<b>Info</b>&#160;<br/>Please note&#160;that&#160;all&#160;existing&#160;applications are&#160;unaffected&#160;unless&#160;the&#160;new&#160;class is actually&#160;<br/>
&#160;<br/>
selected&#160;in&#160;the&#160;generation tool.&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
55&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=56></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-56_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>3.7.1&#160;</b><br/>
<b>&#160;“Dynamic&#160;MultiTP” versus&#160;“Dispatched&#160;MultiTP”&#160;–&#160;a&#160;short&#160;analogy&#160;</b><br/>
<b>3.7.1.1&#160;</b><br/>
<b>Solution based on “Dynamic&#160;MultiTP”:&#160;</b><br/>
Here&#160;&#160;all&#160;&#160;dynamic&#160;&#160;TpChannels&#160;&#160;are&#160;&#160;provided&#160;&#160;as&#160;&#160;a&#160;&#160;global&#160;&#160;resource&#160;&#160;and&#160;&#160;shared&#160;&#160;by&#160;&#160;all&#160;<br/>connections.&#160;&#160;So,&#160;&#160;if&#160;&#160;no&#160;&#160;Rx&#160;&#160;channel&#160;&#160;is&#160;&#160;currently&#160;&#160;available&#160;&#160;then&#160;&#160;the&#160;&#160;incoming&#160;&#160;message&#160;&#160;is&#160;<br/>simply&#160;&#160;discarded&#160;&#160;by&#160;&#160;the&#160;&#160;TPMC,&#160;&#160;no&#160;&#160;reception&#160;&#160;will&#160;&#160;occur&#160;&#160;and&#160;&#160;the&#160;&#160;application&#160;&#160;will&#160;&#160;not&#160;&#160;be&#160;<br/>notified.&#160;&#160;Otherwise&#160;&#160;the&#160;&#160;primal&#160;&#160;callback&#160;&#160;function&#160;&#160;to&#160;&#160;map&#160;&#160;an&#160;&#160;incoming&#160;&#160;request&#160;&#160;to&#160;&#160;a&#160;<br/>connection,&#160;&#160;the&#160;&#160;‘ApplTpRxGetBuffer’&#160;&#160;function,&#160;&#160;is&#160;&#160;called.&#160;&#160;The&#160;&#160;addressing&#160;&#160;data&#160;&#160;statically&#160;<br/>configured&#160;in&#160;GENy&#160;is&#160;not&#160;present&#160;for&#160;the&#160;dispatching&#160;application.&#160;There&#160;is&#160;no&#160;consistency&#160;<br/>provided&#160;by&#160;the&#160;TPMC.&#160;<br/>
To&#160;&#160;perform&#160;&#160;this&#160;&#160;mapping&#160;&#160;the&#160;&#160;addressing&#160;&#160;information&#160;&#160;statically&#160;&#160;configured&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>compared&#160;&#160;to&#160;&#160;the&#160;&#160;currently&#160;&#160;received&#160;&#160;CAN&#160;&#160;message.&#160;&#160;The&#160;&#160;scope&#160;&#160;of&#160;&#160;the&#160;&#160;addressing&#160;<br/>information&#160;to&#160;be&#160;compared&#160;can&#160;be&#160;different&#160;and&#160;depends&#160;on&#160;the&#160;used&#160;addressing&#160;type.&#160;<br/>
If&#160;a&#160;valid&#160;connection&#160;is&#160;found&#160;within&#160;the&#160;‘ApplTpRxGetBuffer’&#160;function&#160;then&#160;a&#160;valid&#160;pointer to&#160;<br/>the&#160;&#160;application&#160;&#160;buffer&#160;&#160;is&#160;&#160;handed&#160;&#160;to&#160;&#160;the&#160;&#160;TPMC,&#160;&#160;the&#160;&#160;FC&#160;&#160;status&#160;&#160;can&#160;&#160;be&#160;&#160;set&#160;&#160;and&#160;&#160;the&#160;&#160;FC&#160;<br/>addressing&#160;&#160;information&#160;&#160;must&#160;&#160;be&#160;&#160;set&#160;&#160;for&#160;&#160;usage&#160;&#160;by&#160;&#160;the&#160;&#160;TPMC.&#160;&#160;The&#160;&#160;identified&#160;&#160;reception&#160;&#160;is&#160;<br/>marked&#160;&#160;while&#160;&#160;using&#160;&#160;the&#160;&#160;‘TpRxSetConnectionNumber’&#160;API&#160;&#160;function&#160;&#160;with&#160;&#160;a&#160;&#160;unique&#160;&#160;number&#160;<br/>defined&#160;&#160;by&#160;&#160;the&#160;&#160;application.&#160;&#160;To&#160;&#160;distinguish&#160;&#160;the&#160;&#160;connections&#160;&#160;in&#160;&#160;later&#160;&#160;callbacks&#160;&#160;(e.g.&#160;<br/>ApplTpRxIndication(tpChannel)),&#160;the&#160;API&#160;TpRxGetConnectionNumber(tpChannel)&#160;must&#160;be&#160;<br/>used&#160;to&#160;get&#160;an&#160;application&#160;relevant&#160;handle.&#160;The&#160;tpChannel&#160;handle&#160;can&#160;and&#160;will&#160;be&#160;different&#160;<br/>for each&#160;reception.&#160;<br/>
&#160;<br/>
Receive&#160;Example:&#160;(see&#160;also chapt<a href="TechnicalReference_TransportProtocolMultiConnections.html#173">er&#160;8.5)</a>&#160;<br/>
&#160;&#160;/* get CAN-Id */&#160;<br/>&#160;&#160;requestId = TpRxGetChannelID(channel);&#160;<br/>&#160;&#160;if(requestId == MY_RECEIVE_ID) {&#160;<br/>&#160; &#160;&#160;/* store connection number */&#160;<br/>&#160; &#160;&#160;TpRxSetConnectionNumber(channel, kMyConnectionNo);&#160;<br/>&#160; &#160;&#160;/* set CAN-Id for response */&#160;<br/>&#160; &#160;&#160;TpRxSetTransmitID(channel,&#160;MY_TRANSMIT_ID);&#160;<br/>&#160; &#160;&#160;pBuf =&#160;myTpGetRxBuffer(channel, dataLength);&#160;<br/>&#160; &#160;&#160;/* handle FC status properly */&#160;<br/>&#160; &#160;&#160;if(pBuf == V_NULL) {&#160;<br/>&#160; &#160; &#160;&#160;TpRxSetFCStatus(channel, kTpFCStatusOverflow);&#160;<br/>&#160; &#160;&#160;}&#160;<br/>&#160; &#160;&#160;else&#160;{&#160;<br/>&#160; &#160; &#160;&#160;TpRxSetFCStatus(channel, kTpFCClearToSend);&#160;<br/>&#160; &#160;&#160;}&#160;<br/>&#160;&#160;}&#160;<br/>&#160;<br/>
For&#160;&#160;the&#160;&#160;transmission&#160;&#160;a&#160;&#160;Tx&#160;&#160;channel&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;allocated,&#160;&#160;a&#160;&#160;connection&#160;&#160;number&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>assigned&#160;and&#160;the&#160;connection&#160;parameters&#160;have&#160;to&#160;be&#160;set&#160;according&#160;to&#160;the&#160;addressing&#160;type&#160;<br/>before&#160;the&#160;transmission&#160;can&#160;be&#160;started.&#160;<br/>
&#160;<br/>
Transmit&#160;Example:&#160;(see&#160;also chapt<a href="TechnicalReference_TransportProtocolMultiConnections.html#173">er&#160;8.5)</a>&#160;<br/>
&#160;&#160;/* acquire a tx channel */&#160;<br/>
vuint8&#160;channel&#160;=&#160;TpTxGetFreeChannel(kMyConnection0);&#160;<br/>if(channel !=&#160;kTpNoChannel&#160;) {&#160;<br/>&#160;&#160;/* set CAN channel */&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
56&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=57></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-57_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-57_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-57_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-57_4.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;&#160;TpTxSetCanChannel(channel, kMyCanNo);&#160;<br/>&#160;&#160;/* set CAN identifiers */&#160;<br/>&#160;&#160;TpTxSetChannelID(channel,&#160;myTxCANId,&#160;myRxCANId);&#160;/*&#160;precalculated&#160;CAN Ids&#160;*/&#160;<br/>&#160;&#160;TpTxSetTargetAddress(channel, target_address);&#160;&#160;&#160;&#160;/*&#160;extended addressing&#160;&#160;&#160;*/&#160;<br/>&#160;&#160;/* trigger the transmission */&#160;<br/>&#160;&#160;TpTransmit(channel, data, length);&#160;<br/>}&#160;<br/>
&#160;<br/>
For&#160;all&#160;this&#160;topics&#160;several&#160;API&#160;functions&#160;must&#160;be&#160;used&#160;in&#160;a&#160;correct&#160;manner&#160;what&#160;may&#160;result&#160;<br/>in&#160;a&#160;pretty&#160;complex&#160;dispatcher to&#160;be&#160;handled&#160;by&#160;the&#160;application.&#160;<br/>
&#160;<br/>
<b>3.7.1.2&#160;</b><br/>
<b>Solution based on “Dispatched&#160;MultiTP”&#160;</b><br/>
Each&#160;&#160;connection&#160;&#160;group&#160;&#160;has&#160;&#160;a&#160;&#160;configurable&#160;&#160;number&#160;&#160;of&#160;&#160;TpChannels&#160;&#160;reserved&#160;&#160;for&#160;&#160;its&#160;&#160;own.&#160;<br/>This&#160;offers&#160;an&#160;improved&#160;availability&#160;for&#160;concurrent&#160;receptions&#160;with&#160;no&#160;interference&#160;to&#160;other&#160;<br/>TpChannel resources&#160;availability.&#160;<br/>
All&#160;Tp&#160;callbacks&#160;are&#160;dispatched&#160;internally&#160;in&#160;the&#160;TPMC.&#160;In&#160;addition&#160;to&#160;the&#160;passing&#160;of&#160;a&#160;raw&#160;<br/>tpChannel&#160;a&#160;connection&#160;handle&#160;‘addrInfoHandle’&#160;is&#160;handed&#160;to&#160;the&#160;application.&#160;Behind&#160;this&#160;<br/>‘addrInfoHandle’&#160;&#160;all&#160;&#160;address&#160;&#160;information&#160;&#160;is&#160;&#160;available&#160;&#160;based&#160;&#160;on&#160;&#160;the&#160;&#160;static&#160;&#160;configuration&#160;<br/>information.&#160;&#160;Only&#160;&#160;dynamic&#160;&#160;runtime&#160;&#160;address&#160;&#160;information&#160;&#160;(e.g.&#160;&#160;target&#160;&#160;address&#160;&#160;in&#160;&#160;case&#160;&#160;of&#160;<br/>Extended-&#160;or NormalFixed-&#160;addressing) has&#160;to&#160;be&#160;handled&#160;extra.&#160;<br/>
&#160;<br/>
<b>Info</b>&#160;<br/>Please&#160;&#160;note&#160;&#160;that&#160;&#160;all&#160;&#160;application&#160;&#160;callback&#160;&#160;functions&#160;&#160;do&#160;&#160;not&#160;&#160;change&#160;&#160;their&#160;&#160;API.&#160;<br/>
&#160;<br/>
Additional&#160;&#160;API&#160;&#160;functions&#160;&#160;are&#160;&#160;provided&#160;&#160;to&#160;&#160;get&#160;&#160;the&#160;&#160;‘addressInfoHandle’&#160;&#160;from&#160;&#160;the&#160;<br/>corresponding&#160;tpChannel :&#160;<br/>
&#160;TpRxGetAddressInfoHandle(tpChannel):&#160;within&#160;reception&#160;callbacks&#160;<br/>
&#160;TpTxGetAddressInfoHandle(tpChannel):&#160;within&#160;transmission&#160;callbacks&#160;<br/>
&#160;<br/>
A&#160;connection&#160;specific&#160;precopy&#160;function&#160;is&#160;introduced&#160;which&#160;is&#160;called&#160;when&#160;the&#160;dispatching&#160;<br/>is&#160;already&#160;completed&#160;and&#160;resulted&#160;in&#160;exactly&#160;the&#160;call&#160;of&#160;this&#160;connection&#160;specific&#160;function.&#160;To&#160;<br/>identify&#160;&#160;the&#160;&#160;connection&#160;&#160;later&#160;&#160;on&#160;&#160;just&#160;&#160;the&#160;&#160;‘addressInfoHandle’&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;stored&#160;&#160;by&#160;&#160;the&#160;<br/>application.&#160;<br/>
The&#160;&#160;handles&#160;&#160;are&#160;&#160;provided&#160;&#160;in&#160;&#160;the&#160;&#160;form&#160;&#160;“kTp&lt;Addressing&#160;&#160;Info&#160;&#160;Name&gt;”&#160;&#160;in&#160;&#160;the&#160;&#160;generated&#160;<br/>code.&#160;&#160;So&#160;&#160;the&#160;&#160;application&#160;&#160;can&#160;&#160;easily&#160;&#160;differentiate&#160;&#160;within&#160;&#160;the&#160;&#160;callback&#160;&#160;functions&#160;&#160;which&#160;<br/>connection&#160;&#160;is&#160;&#160;present&#160;&#160;just&#160;&#160;by&#160;&#160;checking&#160;&#160;the&#160;&#160;‘addressInfoHandle’&#160;&#160;using&#160;&#160;the&#160;&#160;API&#160;<br/>‘TpRxGetAddressInfoHandle()’.&#160;&#160;Please&#160;&#160;note&#160;&#160;that&#160;&#160;the&#160;&#160;differentiation&#160;&#160;in&#160;&#160;the&#160;&#160;callback&#160;<br/>functions&#160;is&#160;only&#160;necessary&#160;if&#160;more&#160;than&#160;one&#160;AI&#160;&#160;is&#160;configured&#160;for&#160;one&#160;connection&#160;or&#160;if&#160;the&#160;<br/>same&#160;&#160;callback&#160;&#160;functions&#160;&#160;are&#160;&#160;configured&#160;&#160;for&#160;&#160;more&#160;&#160;than&#160;&#160;one&#160;&#160;connection.&#160;&#160;Otherwise&#160;&#160;the&#160;<br/>corresponding&#160;callback&#160;function&#160;is&#160;dedicated&#160;unambiguously&#160;to&#160;one&#160;connection.&#160;&#160;<br/>
Of&#160;&#160;course&#160;&#160;also&#160;&#160;here&#160;&#160;free&#160;&#160;TpChannels&#160;&#160;must&#160;&#160;be&#160;&#160;available&#160;&#160;(per&#160;&#160;connection&#160;&#160;group)&#160;&#160;or&#160;&#160;the&#160;<br/>reception&#160;(transmission) will fail.&#160;<br/>
&#160;<br/>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
57&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=58></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-58_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-58_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-58_3.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
Example:&#160;&#160;<br/>The&#160;following&#160;example&#160;shows a&#160;“Dispatched&#160;Multiple&#160;Addressing&#160;Multi TP” configuration&#160;<br/>containing&#160;3&#160;connections (TpConnection000/001/002).&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>One&#160;AI&#160;is configured&#160;per connection&#160;and&#160;each&#160;connection&#160;uses a&#160;different&#160;addressing&#160;type&#160;<br/>(Normal-,&#160;Extended-,&#160;NormalFixed-&#160;addressing).&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
58&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=59></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-59_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-59_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
Each&#160;connection&#160;has an&#160;appropriate&#160;<br/>connection&#160;specific set&#160;of&#160;callback&#160;<br/>functions beneath&#160;some&#160;other&#160;<br/>connection&#160;specific&#160;attributes.&#160;<br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
In&#160;the&#160;generated&#160;code&#160;the&#160;following&#160;constants&#160;are available&#160;for usage&#160;by&#160;the&#160;application.&#160;<br/>
The&#160;connections&#160;groups:&#160;<br/>
#define&#160;kTpGroupTpConnection000 &#160; &#160; &#160; &#160; &#160; &#160; &#160;0&#160;<br/>#define&#160;kTpGroupTpConnection001 &#160; &#160; &#160; &#160; &#160; &#160; &#160;1&#160;<br/>#define&#160;kTpGroupTpConnection002 &#160; &#160; &#160; &#160; &#160; &#160; &#160;2&#160;<br/>
&#160;<br/>
The&#160;connection&#160;handles:&#160;<br/>
#define&#160;kTpConn0_AI1 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0&#160;<br/>#define&#160;kTpConn1_AI2 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 1&#160;<br/>#define&#160;kTpConn2_AI3 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 2&#160;<br/>
&#160;<br/>The&#160;connection&#160;specific transmit macros:&#160;<br/>
#define&#160;TpTransmit_Conn0_AI1( data ,length) &#160;&#160; &#160; &#160; &#160;&#160;\&#160;<br/>
TpTransmitNormal(&#160; &#160; &#160;kTpConn0_AI1,&#160;data, length)&#160;<br/>
#define&#160;TpTransmit_Conn1_AI2(&#160;TA&#160;,data ,length)&#160; &#160; &#160;&#160;\&#160;&#160;<br/>
TpTransmitExtended(&#160; &#160;kTpConn1_AI2,&#160;TA, data, length)&#160;<br/>
#define&#160;TpTransmit_Conn2_AI3( TA ,data ,length) &#160; &#160; &#160;\&#160;<br/>
TpTransmitNormalFixed(kTpConn2_AI3, TA, data, length)&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
59&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=60></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-60_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-60_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-60_3.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;<br/>Now&#160;the&#160;application&#160;can&#160;easily&#160;differentiate&#160;within&#160;the&#160;connection&#160;specific callback&#160;<br/>functions and&#160;decide&#160;how&#160;to&#160;proceed:&#160;<br/>&#160;<br/>
if(TpRxGetAddressInfoHandle(tpChan) == kTpConn1_AI2) {&#160;&#160;<br/>&#160;&#160;...&#160;&#160;<br/>&#160;<br/>
TpTransmit_Conn1_AI2( TA ,data ,length);&#160;<br/>
&#160;&#160;...&#160;<br/>}&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>3.7.2&#160;</b><br/>
<b>Dispatched&#160;MultiTP&#160;API&#160;</b><br/>
&#160;<br/>
<b>Caution&#160;<br/></b>To&#160;avoid collisions&#160;it&#160;is&#160;prohibited&#160;to use&#160;API-functions&#160;from&#160;the&#160;application&#160;site that&#160;are&#160;<br/>
&#160;<br/>
used internally&#160;by&#160;the&#160;TPMC&#160;dispatcher.&#160;&#160;<br/>This&#160;means&#160;that&#160;all&#160;API&#160;functions&#160;marked&#160;as&#160;“done internally&#160;by&#160;TP”&#160;in&#160;the&#160;tables below&#160;<br/>are&#160;neither&#160;necessary&#160;nor&#160;available anymore!&#160;<br/>
&#160;&#160;<br/>
<b>3.7.2.1&#160;</b><br/>
<b>Reception side&#160;&#160;</b><br/>
&#160;<br/>
<b>Dynamic MultiTP&#160;class&#160;&#160;</b><br/>
<b>Dispatched&#160;MultiTP&#160;class&#160;</b><br/>
<b>&#160;</b><br/>
<b>Since version&#160;3.00.00&#160;</b><br/>
&#160;TpRxSetConnectionNumber&#160;<br/>
&#160;done internally by TP&#160;<br/>
&#160;TpRxGetConnectionNumber&#160;<br/>
&#160;done internally by TP&#160;<br/>
&#160;TpRxGetAddressingFormat&#160;<br/>
&#160;done internally by TP&#160;<br/>
&#160;TpRxGetAssignedDestination&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;TpRxResetChannel&#160;<br/>
&#160;available for application usage&#160;<br/>
&#160;TpRxSetTransmitID&#160;<br/>&#160;TpRxGetStatus&#160;<br/>&#160;TpRxSetBS&#160;<br/>&#160;TpRxGetBS&#160;<br/>&#160;TpRxSetSTMIN&#160;<br/>&#160;TpRxGetSTMIN&#160;<br/>&#160;TpRxGetChannelID&#160;<br/>&#160;TpRxGetCanChannel&#160;<br/>&#160;TpRxGetSourceAddress&#160;<br/>&#160;TpRxGetReceivedTargetAddress&#160;<br/>&#160;TpRxGetEcuNumber&#160;<br/>&#160;TpRxSetBufferOverrun&#160;<br/>&#160;TpRxGetAddressExtension&#160;<br/>&#160;TpRxGetCanbuffer&#160;<br/>&#160;TpRxSetWaitCorrectSN&#160;<br/>&#160;TpRxSetTimeoutConfirmation&#160;<br/>&#160;TpRxSetTimeoutCF&#160;<br/>&#160;TpRxSetFCStatus&#160;<br/>&#160;TpRxGetFCStatus&#160;<br/>&#160;TpRxSetClearToSend&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;&#160;New&#160;API&#160;functions&#160;for&#160;Dispatched&#160;classes:&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
60&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=61></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-61_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-61_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
Please&#160;find&#160;a&#160;more&#160;detailed&#160;description&#160;in&#160;chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#63">r&#160;4.</a>&#160;<br/>&#160;<br/>
&#160;TpGetConnectionGroup(AI_handle)&#160;<br/>
&#160;Get the connection group &#160;&#160;<br/>&#160;(kTpGroup&lt;ConnectionName&gt;)&#160;<br/>
&#160;TpGetAddressingType (AI_handle)&#160;<br/>
&#160;Get the addressing type info (only for multiple&#160;&#160;<br/>&#160;addressing class):&#160;<br/>&#160;&#160;kTpNormalAddressing,&#160;&#160;<br/>&#160;&#160;kTpExtendedAddressing,&#160;&#160;<br/>&#160;&#160;kTpNormalFixedAddressing,&#160;<br/>&#160;&#160;kTpMixed11Addressing,&#160;&#160;<br/>&#160;&#160;kTpMixed29Addressing&#160;<br/>
&#160;TpGetCanChannel(AI_handle)&#160;<br/>
&#160;Get the pertaining CAN channel (only for multiple&#160;<br/>&#160;CAN channels)&#160;<br/>
&#160;TpGetRxId( &#160; &#160; &#160; &#160; &#160;AI_handle)&#160;<br/>
&#160;Get the Rx CAN-Identifier (only for normal&#160;&#160;<br/>&#160;addressing)&#160;<br/>
&#160;TpGetTxId( &#160; &#160; &#160; &#160; &#160;AI_handle)&#160;<br/>
&#160;Get the Tx CAN-Identifier (only for normal&#160;&#160;<br/>&#160;addressing)&#160;<br/>
&#160;TpGetBaseAddress( &#160; AI_handle)&#160;<br/>
&#160;Get the base address (only for extended &#160;&#160;<br/>&#160;addressing)&#160;<br/>
&#160;TpGetAddressOffset( AI_handle)&#160;<br/>
&#160;Get the address offset pertaining to a base&#160;&#160;<br/>&#160;address (only for extended addressing)&#160;<br/>
&#160;TpGetPriority( &#160; &#160; &#160;AI_handle)&#160;<br/>
&#160;Get the priority info from a&#160;29-bit CAN&#160;&#160;<br/>&#160;identifier (only for NormalFixed or Mixed29&#160; &#160;&#160;<br/>&#160;addressing)&#160;<br/>
&#160;TpGetPGN( &#160; &#160; &#160; &#160; &#160; AI_handle)&#160;<br/>
&#160;Get the parameter group identification from a&#160;&#160;<br/>&#160;29-bit CAN identifier (only for NormalFixed or&#160;&#160;<br/>&#160;Mixed29&#160;&#160;addressing)&#160;<br/>
&#160;TpGetEcuNumber( &#160; &#160; AI_handle)&#160;<br/>
&#160;Get the ECU address (only for NormalFixed or&#160;&#160;<br/>&#160;Mixed29&#160;&#160;addressing)&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>3.7.2.2&#160;</b><br/>
<b>Transmission side&#160;</b><br/>
&#160;<br/>
<b>Info</b>&#160;<br/>Please note&#160;that&#160;the&#160;TpTransmit&#160;function&#160;is&#160;the&#160;only&#160;API&#160;that&#160;has&#160;to&#160;be&#160;adapted&#160;in&#160;the&#160;<br/>
&#160;<br/>
application code.&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>Dynamic MultiTP&#160;class&#160;&#160;</b><br/>
<b>Dispatched&#160;MultiTP&#160;class&#160;</b><br/>
<b>&#160;</b><br/>
<b>Since version&#160;3.00.00&#160;</b><br/>
TpTxSetChannelID&#160;<br/>
done internally by TP&#160;<br/>
TpTxSetCanChannel&#160;<br/>
done internally by TP&#160;<br/>
TpTxSetTargetAddress&#160;<br/>
done internally by TP&#160;<br/>
TpTxSetEcuNumber&#160;<br/>
done internally by TP&#160;<br/>
TpTxSetBaseAddress&#160;<br/>
done internally by&#160;TP&#160;<br/>
TpTxGetFreeChannel&#160;<br/>
done internally by TP&#160;<br/>
TpTxSetAddressingFormat&#160;<br/>
done internally by TP&#160;<br/>
TpTxGetConnectionNumber&#160;<br/>
done internally by TP&#160;<br/>
TpTxGetConnectionStatus&#160;<br/>
done internally by TP&#160;<br/>
TpTxSetAddressExtension&#160;<br/>
done internally by TP&#160;<br/>
TpTxSetResponse&#160;<br/>
done internally by TP&#160;<br/>
TpTxLockChannel&#160;<br/>
done internally by TP&#160;&#160;<br/>
TpTxUnlockChannel&#160;<br/>
(see note&#160;1.)&#160;below)&#160;<br/>
TpTransmit&#160;<br/>
Either you can use the generated connection&#160;<br/>specific macros:&#160;<br/>TpTransmit_&lt;ConnectionName&gt;(data,len), &#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
61&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=62></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-62_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-62_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
TpTransmit_&lt;ConnectionName&gt;(TA,data,len),&#160;&#160;<br/>TpTransmit_&lt;ConnectionName&gt;(AE,data,len),&#160;&#160;<br/>TpTransmit_&lt;ConnectionName&gt;(TA,AE,data,len),&#160;<br/>&#160;<br/>or directly the referenced functions:&#160;&#160;<br/>TpTransmitNormal &#160; &#160; (AI, data, len),&#160;<br/>TpTransmitExtended &#160; (AI, TA, data, len),&#160;<br/>TpTransmitNormalFixed(AI, TA, data, len),&#160;<br/>TpTransmitMixed11 &#160; &#160;(AI, AE, data, len),&#160;<br/>TpTransmitMixed29 &#160; &#160;(AI, TA, AE, data, len).&#160;<br/>&#160;<br/>Please refer to the API description in&#160;<br/><a href="TechnicalReference_TransportProtocolMultiConnections.html#63">chapter&#160;4.</a>&#160;<br/>
&#160;<br/>
&#160;<br/>
TpTxGetDataBuffer&#160;<br/>
available for application usage&#160;<br/>
TpTxGetDataIndex&#160;<br/>TpTxResetChannel&#160;<br/>TpTxGetSTminInFrame&#160;<br/>TpTxPrepareSendImmediate&#160;<br/>TpTxSendImmediate&#160;<br/>TpRxSetStrictFlowControl&#160;<br/>
1.)&#160;Note: The&#160;Locking&#160;and&#160;Unlocking&#160;of&#160;tpChannels&#160;is&#160;no&#160;longer&#160;necessary.&#160;Due&#160;to&#160;the&#160;possibility&#160;to&#160;configure&#160;<br/>a connection&#160;with&#160;a&#160;dedicated&#160;exclusive tpChannel&#160;the&#160;tpChannel&#160;resource is&#160;‘locked’&#160;implicitly.&#160;<br/>
&#160;<br/>
&#160;&#160;New&#160;API&#160;functions&#160;for&#160;Dispatched&#160;classes:&#160;<br/>
Please&#160;find&#160;a&#160;more&#160;detailed&#160;description&#160;in&#160;chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#63">r&#160;4.</a>&#160;<br/>&#160;<br/>
&#160;TpTransmitNormal( &#160; &#160; &#160; AI_handle,data,len)&#160;&#160;Instead of using the addressing type&#160;<br/>
specific transmit functions we recommend&#160;<br/>
&#160;TpTransmitExtended( &#160; &#160; AI_handle,data,len)&#160;&#160;to use the connection specific macros&#160;<br/>
&#160;TpTransmitNormalFixed(&#160;AI_handle,data,len)&#160;&#160;which are generated.&#160;<br/>
&#160;TpTransmitMixed11( &#160; &#160;&#160;AI_handle,data,len&#160;<br/>&#160;TpTransmitMixed29( &#160; &#160;&#160;AI_handle,data,len&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
62&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=63></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-63_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4&#160;&#160;API&#160;</b><br/>
<b>4.1&#160;</b><br/>
<b>Use&#160;of ISO15765-Transport Protocol&#160;</b><br/>
Please&#160;use&#160;the&#160;services&#160;of&#160;the&#160;ISO15765&#160;Transport&#160;Protocol&#160;in&#160;your&#160;application&#160;according&#160;<br/>to&#160;the&#160;instructions in&#160;this manual.&#160;<br/>
Please&#160;&#160;include&#160;&#160;the&#160;&#160;tpmc.h&#160;&#160;definition&#160;&#160;file&#160;&#160;in&#160;&#160;all&#160;&#160;modules&#160;&#160;requiring&#160;&#160;Transport&#160;&#160;Protocol&#160;<br/>Services.&#160;&#160;All&#160;&#160;available&#160;&#160;services,&#160;&#160;the&#160;&#160;types&#160;&#160;for&#160;&#160;the&#160;&#160;interface,&#160;&#160;and&#160;&#160;symbolic&#160;&#160;constants&#160;&#160;are&#160;<br/>defined&#160;in&#160;this&#160;file.&#160;&#160;<br/>
After&#160;a&#160;power&#160;on&#160;reset&#160;and&#160;before&#160;any&#160;other&#160;call&#160;of&#160;the&#160;Transport&#160;Protocol&#160;the&#160;function&#160;void&#160;<br/>TpInitPowerOn(void)&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;called.&#160;&#160;The&#160;&#160;main&#160;&#160;program&#160;&#160;of&#160;&#160;the&#160;&#160;Transport&#160;&#160;Protocol&#160;<br/>TpTxTask()&#160;and&#160;TpRxTask()<b>&#160;</b>has to&#160;be&#160;called&#160;periodically&#160;by&#160;the&#160;application.&#160;&#160;<br/>
All&#160;other&#160;services&#160;&#160;of&#160;the&#160;Transport&#160;Protocol&#160;are&#160;called&#160;on&#160;those&#160;points&#160;&#160;in&#160;&#160;your&#160;application&#160;<br/>where&#160;services&#160;are required.&#160;<br/>
&#160;<br/>
<b>4.2&#160;</b><br/>
<b>Functions&#160;of&#160;the&#160;Transport&#160;Protocol&#160;</b><br/>
Field&#160;description&#160;of&#160;the&#160;following&#160;tables&#160;<br/>
<b>Name&#160;of&#160;the&#160;function&#160;&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
Function prototype for SingleConnectionTP&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
Function prototype for MultipleConnectionTP&#160;<br/>
<b>Parameter&#160;</b><br/>
Name&#160;of&#160;the&#160;parameter&#160;<br/>
Description&#160;of&#160;the&#160;parameter&#160;<br/>
<b>Return&#160;code&#160;<br/></b>name&#160;&#160;<br/>
Meaning&#160;of&#160;the&#160;return code&#160;<br/>
<b>Availability&#160;</b><br/>
The&#160;API&#160;is&#160;included&#160;in&#160;all&#160;versions, except&#160;a restriction&#160;is&#160;given&#160;here&#160;<br/>
<b>Description&#160;</b><br/>
Explanation of&#160;the functionality&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
Required&#160;preconditions&#160;before the&#160;function can&#160;be&#160;used.&#160;&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
If&#160;a&#160;state change&#160;was&#160;done,&#160;it&#160;will&#160;be described&#160;here&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
The&#160;restrictions&#160;from&#160;where&#160;the function&#160;can be&#160;used&#160;are described here.&#160;&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
63&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=64></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-64_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
Some additional&#160;notes&#160;<br/>
<b>Examples&#160;</b><br/>
A&#160;short code&#160;example is&#160;given&#160;<br/>
&#160;<br/>
<b>4.2.1&#160;</b><br/>
<b>Administrative&#160;Functions&#160;</b><br/>
<b>4.2.1.1&#160;</b><br/>
<b>TpInitPowerOn:&#160;Initialization&#160;</b><br/>
<b>TpInitPowerOn&#160;&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>&#160;<br/>
void&#160;<b>TpInitPowerOn</b>&#160;&#160;( void )&#160;<br/>
MultipeConnectionTP&#160;<br/>&#160;<br/>
void&#160;<b>TpInitPowerOn</b>&#160;&#160;( void )&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restrictions&#160;&#160;<br/>
<b>Description&#160;</b><br/>
Power On Initialization&#160;of&#160;the&#160;TP.&#160;This&#160;function&#160;has&#160;to&#160;be called&#160;before all&#160;other functions&#160;of&#160;the&#160;Transport&#160;<br/>Protocol&#160;once after Power&#160;On.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
Global&#160;interrupts&#160;are&#160;disabled&#160;and&#160;CAN-driver&#160;with function&#160;CanInitPowerOn()&#160;and&#160;are initialized&#160;<br/>correctly.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
The&#160;Transport Layer&#160;is&#160;ready&#160;for reception&#160;after calling&#160;TpInitPowerOn().&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Background-loop&#160;level&#160;with&#160;global&#160;disabled&#160;interrupts&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
Call&#160;the&#160;TpInitPowerOn()&#160;before the&#160;application&#160;wants&#160;to&#160;reserve own dynamic&#160;transmission&#160;objects.&#160;<br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
64&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=65></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-65_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.1.2&#160;</b><br/>
<b>TpInit:&#160;Re-initialization&#160;</b><br/>
<b>TpInit&#160;&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>&#160;<br/>
void&#160;<b>TpInit</b>&#160;&#160;( void )&#160;<br/>
MultipeConnectionTP&#160;<br/>&#160;<br/>
void&#160;<b>TpInit</b>&#160;( void )&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restrictions&#160;&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;Transport Layer&#160;is&#160;re-initialized&#160;after calling&#160;TpInit()<b>.</b>&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
TpInitPowerOn()<b>&#160;</b>was&#160;called&#160;before. No&#160;TP&#160;functionality&#160;is&#160;used at&#160;this&#160;time.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
The&#160;Transport Layer&#160;is&#160;re-initialized&#160;after calling&#160;TpInit().&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Background-loop&#160;level&#160;with&#160;global&#160;disabled&#160;interrupts&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-&#160;<br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>&#160;<br/>
&#160;<br/>
<b>4.2.1.3&#160;</b><br/>
<b>TpTask:&#160;&#160;Observing timing conditions&#160;</b><br/>
<b>TpTask&#160;&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpTask</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpTask</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
65&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=66></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-66_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restrictions&#160;&#160;<br/>
<b>Description&#160;</b><br/>
Function calls&#160;both&#160;TpRxTask&#160;and&#160;TpTxTask&#160;in correct&#160;order.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
TpInitPowerOn()<b>&#160;</b>was&#160;called&#160;before.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Cyclic&#160;task&#160;base.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-&#160;<br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
<b>4.2.1.4&#160;</b><br/>
<b>TpCanChannelInit:&#160;CAN&#160;channel&#160;specifiic&#160;re-initialization&#160;</b><br/>
<b>TpCanChannelInit&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpCanChannelInit</b>(canuint8&#160;<br/>canChannel)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpCanChannelInit</b>(canuint8&#160;<br/>canChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>canChannel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.41&#160;<br/>
<b>Description&#160;</b><br/>
Any&#160;reception /&#160;transmission on&#160;this&#160;CAN channel&#160;will&#160;be&#160;stopped. If&#160;a&#160;connection&#160;was&#160;running the&#160;<br/>application&#160;will&#160;be&#160;informed&#160;by&#160;calling the function&#160;ApplTpXxErrorIndication().&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
TpInitPowerOn()&#160;was&#160;called before. No&#160;TP&#160;functionality&#160;is&#160;used&#160;at this&#160;time.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
66&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=67></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-67_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
All&#160;running&#160;TP&#160;channels&#160;on&#160;this&#160;CAN channel&#160;are&#160;re-initialized.&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Background-loop&#160;level&#160;with&#160;global&#160;disabled&#160;interrupts&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-&#160;<br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.1.5&#160;</b><br/>
<b>TpRxTask:&#160;time&#160;base&#160;for reception timeouts&#160;</b><br/>
<b>TpRxTask&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxTask</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxTask</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restrictions&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;function&#160;TpRxTask()&#160;has&#160;to&#160;be&#160;called periodically&#160;(cycle time&#160;TTpRxCallCycle)&#160;by&#160;the application.&#160;This&#160;<br/>function&#160;performs&#160;all&#160;Rx-Tasks&#160;of&#160;the&#160;Transport Layer&#160;and monitors&#160;the timings.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Background-loop&#160;level&#160;or OSEK-osTask&#160;with&#160;low priority.&#160;<br/>
<b>Important&#160;note:&#160;</b>This&#160;function&#160;<b>must not</b>&#160;be called&#160;in&#160;interrupt context!&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-&#160;<br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
67&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=68></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-68_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.1.6&#160;</b><br/>
<b>TpTxTask:&#160;time&#160;base&#160;for timeouts/transmission&#160;</b><br/>
<b>TpTxTask&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxTask</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxTask</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restrictions&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;function&#160;TpTxTask()&#160;has&#160;to&#160;be&#160;called periodically&#160;(cycle&#160;time&#160;TTpTxCallCycle)&#160;by&#160;the application.&#160;This&#160;<br/>function&#160;performs&#160;all&#160;Tx-Tasks&#160;of&#160;the&#160;Transport Layer and&#160;monitors&#160;the&#160;timings.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Background-loop&#160;level&#160;or OSEK-OSTask&#160;with low&#160;priority.&#160;<br/>
<b>Important&#160;note:&#160;</b>This&#160;function&#160;<b>must not</b>&#160;be called&#160;in&#160;interrupt context!&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-&#160;<br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
68&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=69></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-69_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.1.7&#160;</b><br/>
<b>TpRxStateTask:&#160;optional&#160;transmission retry&#160;</b><br/>
<b>TpRxStateTask&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxStateTask</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxStateTask</b>(vuint8&#160;tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.35&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;function&#160;TpRxStateTask()&#160;can&#160;be&#160;called&#160;optionally&#160;by&#160;the&#160;application.&#160;This&#160;function&#160;performs&#160;the link&#160;<br/>from&#160;the&#160;Transport Layer&#160;to&#160;the CAN-Driver.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
R&#160;<br/>
&#160;<br/>
<b>4.2.1.8&#160;</b><br/>
<b>TpRxAllStateTask: optional&#160;transmission&#160;retry&#160;</b><br/>
<b>TpRxAllStateTask&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxAllStateTask</b>&#160;(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxAllStateTask</b>&#160;(void)&#160;<br/>
<b>Parameter&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
69&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=70></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-70_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.35&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;function&#160;TpRxAllStateTask()&#160;can&#160;be&#160;called&#160;optionally&#160;by&#160;the&#160;application.&#160;This&#160;function&#160;performs&#160;the&#160;<br/>link&#160;from&#160;the&#160;Transport Layer to the CAN-Driver for all&#160;running&#160;Rx-connections.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.2.1.9&#160;</b><br/>
<b>TpTxStateTask: optional&#160;transmission&#160;retry&#160;</b><br/>
<b>TpTxStateTask&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxStateTask</b>&#160;(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxStateTask</b>&#160;(vuint8 tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.35&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;function&#160;TpTxStateTask()&#160;can&#160;be&#160;called&#160;optionally&#160;by&#160;the&#160;application.&#160;This&#160;function&#160;performs&#160;the link&#160;<br/>from&#160;the&#160;Transport Layer&#160;to&#160;the CAN-Driver.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn&#160;().&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
70&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=71></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-71_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>It&#160;is&#160;prohibited to&#160;call&#160;TpTxStateTask ()&#160;nested.&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
<b>4.2.1.10&#160;&#160;TpTxAllStateTask:&#160;optional&#160;transmission retry&#160;</b><br/>
<b>TpTxAllStateTask&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxAllStateTask</b>&#160;(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxAllStateTask</b>&#160;(void)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.35&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;function&#160;TpTxAllStateTask()&#160;can&#160;be&#160;called&#160;optionally&#160;by&#160;the&#160;application.&#160;This&#160;function&#160;performs&#160;the&#160;<br/>link&#160;from&#160;the&#160;Transport Layer to the CAN-Driver for all&#160;running&#160;Tx-connections.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn&#160;().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
71&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=72></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-72_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.2&#160;</b><br/>
<b>Receive&#160;Functions&#160;</b><br/>
<b>4.2.2.1&#160;</b><br/>
<b>TpRxSetConnectionNumber:&#160;Assign a&#160;Connection-Number to a&#160;channel&#160;</b><br/>
<b>TpRxSetConnectionNumber&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxSetConnectionNumber</b>(vuint8&#160;tpChannel,&#160;&#160;<br/>void connection)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
Underlying&#160;tpChannel&#160;used&#160;for&#160;this&#160;connection.&#160;<br/>
connection&#160;<br/>
Connection&#160;number&#160;that&#160;shall&#160;be&#160;assigned&#160;to&#160;this&#160;tpChannel.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>void&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;assigns&#160;an&#160;application specific&#160;connection-number&#160;to&#160;this&#160;tpChannel.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Use this&#160;function&#160;only&#160;inside the&#160;callback&#160;function&#160;<b>ApplTpRxGetBuffer()</b>&#160;!&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.2.2.2&#160;</b><br/>
<b>TpRxGetConnectionNumber:&#160;Get the&#160;Corresponding Connection-Number&#160;</b><br/>
<b>TpRxGetConnectionNumber&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
vuint8&#160;<b>TpRxGetConnectionNumber</b>(vuint8&#160;tpChannel)&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
72&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=73></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-73_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;connection-number, which&#160;is&#160;assigned to&#160;this&#160;tpChannel.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
This&#160;tpChannel&#160;is&#160;not reset&#160;and a&#160;connection-number&#160;was&#160;previously&#160;assigned&#160;to it&#160;by&#160;the&#160;application.&#160;<br/>
(See&#160;TpRxSetConnectionNumber())&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
A&#160;correct&#160;value&#160;will&#160;only&#160;be&#160;returned, if&#160;a&#160;connection&#160;number&#160;was&#160;set&#160;previously&#160;in&#160;the&#160;callback&#160;function&#160;<br/>ApplTpRxGetBuffer()&#160;with&#160;TpRxSetConnectionNumber().<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
<b>4.2.2.3&#160;</b><br/>
<b>TpRxGetAddressingFormat:&#160;&#160;Get the&#160;current&#160;addressing type&#160;&#160;</b><br/>
<b>TpRxGetAddressingFormat&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
canbittype&#160;<b>TpRxGetAddressingFormat</b>(canuint8&#160;<br/>tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
Underlying&#160;TP&#160;channel&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
One of the following constants (canbittype:3):&#160;<br/>#define kTpNormalAddressing &#160; &#160; &#160;&#160;&#160;<br/>#define kTpExtendedAddressing &#160; &#160;&#160;&#160;<br/>#define kTpNormalFixedAddressing &#160;&#160;<br/>#define kTpMixed29Addressing &#160; &#160; &#160;&#160;<br/>#define kTpMixed11Addressing &#160; &#160; &#160;&#160;<br/>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
73&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=74></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-74_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for Multiple&#160;Addressing&#160;TP&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;macro is&#160;used&#160;to&#160;retrieve the&#160;required&#160;addressing&#160;information&#160;in&#160;a multiple&#160;addressing&#160;environment. &#160;<br/>Using&#160;a dispatcher&#160;in combination&#160;with&#160;the&#160;macro function&#160;it&#160;is&#160;possible&#160;to&#160;distinguish inside&#160;the&#160;TPMC&#160;<br/>callback&#160;function&#160;set&#160;between&#160;the different addressing&#160;types&#160;and&#160;handle additional&#160;pertaining&#160;information.&#160;&#160;&#160;<br/>
&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
A&#160;TP&#160;Channel&#160;is&#160;successful&#160;allocated.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.4&#160;</b><br/>
<b>TpRxGetAssignedDestination:&#160;&#160;Get the&#160;currently&#160;assigned destination&#160;&#160;</b><br/>
<b>TpRxGetAssignedDestination&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
canbittype&#160;<b>TpRxGetAssignedDestination</b>(canuint8&#160;<br/>tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
Underlying&#160;tp&#160;channel&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
One&#160;of&#160;the&#160;following&#160;constants&#160;(canbittype:3):&#160;<br/>#define kTpRequestAppl &#160; &#160; &#160; &#160; &#160; &#160;// Application&#160;<br/>#define kTpRequestDiagFunctional &#160;// Functional Diag.&#160;<br/>
#define kTpRequestDiagPhysical &#160; &#160;// Physical Diag.&#160;<br/>
is&#160;delivered to&#160;differentiate&#160;between&#160;application,&#160;functional&#160;or physical&#160;diagnostic&#160;<br/>requests.&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for Multiple&#160;Addressing&#160;TP&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
74&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=75></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-75_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;macro is&#160;used&#160;to&#160;retrieve the&#160;required&#160;destination&#160;information&#160;in&#160;a multiple&#160;addressing&#160;environment. &#160;<br/>Using&#160;a dispatcher&#160;in combination&#160;with&#160;the&#160;macro function&#160;it&#160;is&#160;possible&#160;to&#160;distinguish inside&#160;the&#160;TPMC&#160;<br/>callback&#160;function&#160;set&#160;between&#160;the different destinations&#160;and&#160;handle the correct dispatching&#160;of&#160;the message&#160;<br/>to&#160;the pertaining destination.&#160;&#160;&#160;<br/>
&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
A&#160;tpChannel&#160;is&#160;successful&#160;allocated.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.5&#160;</b><br/>
<b>TpRxResetChannel:&#160;Free&#160;Rx-TpChannel&#160;</b><br/>
<b>TpRxResetChannel&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpRxResetChannel</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpRxResetChannel</b>(canuint8&#160;<br/>tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restriction&#160;<br/>
<b>Description&#160;</b><br/>
Each time a&#160;transport-frame&#160;was&#160;received&#160;the&#160;used channel&#160;is&#160;blocked.&#160;To receive&#160;another&#160;transport-frame&#160;<br/>on&#160;this&#160;channel&#160;the application&#160;has&#160;to&#160;free&#160;this&#160;channel.&#160;<br/>
This&#160;is, in case&#160;of&#160;an&#160;erroneous&#160;reception,&#160;not&#160;required for the&#160;TpRxErrorIndication()&#160;callback.&#160;<br/>
The&#160;function&#160;is&#160;called&#160;within&#160;or after the&#160;Rx-Indication&#160;-&#160;callback.&#160;&#160;<br/>
If&#160;the application&#160;calls&#160;the reset-function&#160;then the application&#160;itself&#160;is&#160;also responsible&#160;to&#160;handle&#160;the&#160;reset&#160;<br/>values&#160;inside the application in&#160;further processing steps.&#160;&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
75&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=76></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-76_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Background-loop&#160;level&#160;or OSEK-OSTask&#160;with lower or&#160;same priority&#160;as&#160;TpTasks.&#160;&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.6&#160;</b><br/>
<b>TpRxGetStatus: Rx-Channel&#160;Status&#160;</b><br/>
<b>TpRxGetStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetStatus</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetStatus</b>(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
kTpChannelInUse&#160;=&#160;0x01&#160;<br/>kTpChannelNotInUse&#160;=0x00&#160;<br/>
<b>Availability&#160;</b><br/>
No restriction&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;actual&#160;status&#160;of&#160;the Rx-Channel.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please note&#160;</b><br/>
The&#160;returned status&#160;can&#160;have more than&#160;two&#160;values!&#160;&#160;<br/>The&#160;InUse-Flag&#160;is&#160;always&#160;coded&#160;in&#160;the&#160;lowest bit (0x01)<b>&#160;</b><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
76&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=77></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-77_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Examples&#160;</b><br/>
Because&#160;it&#160;is&#160;a&#160;status-field there are&#160;two&#160;possibilities&#160;for checking&#160;if&#160;the channel&#160;is&#160;InUse:&#160;<br/>&#160;<br/>if ( TpRxGetStatus(user_channel)&#160;!= kTpChannelNotInUse )&#160;<br/>{&#160;<br/>...&#160;<br/>or:&#160;<br/>
if ( TpRxGetStatus(user_channel) &amp; kTpChannelInUse )&#160;<br/>{&#160;<br/>
...&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.7&#160;</b><br/>
<b>TpRxSetBS:&#160;Setting&#160;up BlockSize&#160;on Reception Side&#160;&#160;</b><br/>
<b>TpRxSetBS&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxSetBS</b>(vuint8&#160;newBlockSize)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxSetBS</b>(vuint8&#160;channel, vuint8&#160;<br/>newBlockSize)&#160;<br/>
<b>Parameter&#160;<br/></b>newBlockSize&#160;<br/>
-&#160;<br/>
channel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Extended&#160;API-BS&#160;must be&#160;activated&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;BlockSize-Value&#160;within&#160;the FlowControl&#160;can&#160;be&#160;adjusted&#160;by&#160;this&#160;function.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
77&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=78></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-78_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.2.8&#160;</b><br/>
<b>TpRxGetBS:&#160;Get BlockSize&#160;on Reception&#160;Side&#160;&#160;</b><br/>
<b>TpRxGetBS&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetBS</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetBS</b>(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Extended&#160;API-BS&#160;must be&#160;activated&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;BlockSize-Value&#160;within&#160;the FlowControl&#160;can&#160;be&#160;read&#160;by&#160;this&#160;function.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.2.2.9&#160;</b><br/>
<b>TpRxSetSTMIN:&#160;Setting up STMin time&#160;on&#160;Reception Side&#160;&#160;</b><br/>
<b>TpRxSetSTMIN&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxSetSTMIN</b>(vuint8&#160;newSTMinSize)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxSetSTMIN</b>(vuint8&#160;channel, vuint8&#160;<br/>newSTMinSize)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
78&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=79></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-79_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
newSTMinSize&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Extended&#160;API-STMIN must be activated&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;STmin-Value&#160;within&#160;the&#160;FlowControl&#160;can&#160;be&#160;adjusted&#160;by&#160;this&#160;function.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.10&#160;&#160;TpRxGetSTMIN:&#160;Get&#160;STMin time&#160;on Reception Side&#160;&#160;</b><br/>
<b>TpRxGetSTMIN&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetSTMIN</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetSTMIN</b>(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Extended&#160;API-STMIN must be activated&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;STmin-Value&#160;within&#160;the&#160;FlowControl&#160;can&#160;be&#160;read&#160;by&#160;this&#160;function.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
79&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=80></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-80_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.11&#160;&#160;TpRxGetChannelID:&#160;Get Received CAN-Id&#160;</b><br/>
<b>TpRxGetChannelID&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint16&#160;<b>TpRxGetChannelID</b>(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
CAN-ID&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;class: Normal&#160;Addressing.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;CAN-Identifier,&#160;of&#160;the&#160;last&#160;transport-frame&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
80&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=81></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-81_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.2.12&#160;&#160;TpRxGetChannelExtID:&#160;Get Received Extended&#160;CAN-Id&#160;</b><br/>
<b>TpRxGetChannelExtID&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint32&#160;<b>TpRxGetChannelExtID</b>(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
<b>Return code&#160;<br/></b>&#160;<br/>
Extended&#160;CAN-ID&#160;<br/>
<b>Availability&#160;</b><br/>
For&#160;&#160;<br/>
-&#160;Dynamic&#160;TP&#160;class&#160;Normal&#160;Addressing&#160;and&#160;&#160;<br/>
-&#160;Dispatched&#160;Normal&#160;Multi&#160;TP&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;extended&#160;CAN-Identifier, of&#160;the last&#160;transport-frame&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.13&#160;&#160;TpRxGetCanChannel:&#160;Get physical&#160;CAN channel&#160;</b><br/>
<b>TpRxGetCanChannel&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetCanChannel</b>(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
81&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=82></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-82_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;multiple&#160;CAN-channel&#160; systems&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;(physical)&#160;CAN-channel,&#160;through&#160;which&#160;the&#160;last transport-frame has&#160;been&#160;received.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.14&#160;&#160;TpRxGetSourceAddress:&#160;Get received Source&#160;Address&#160;</b><br/>
<b>TpRxGetSourceAddress&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetSourceAddress</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetSourceAddress</b>(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes: Extended-&#160;and&#160;Normal&#160;Fixed&#160;Addressing&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;destination&#160;address,&#160;which&#160;has&#160;been&#160;received&#160;in&#160;the&#160;last&#160;transport-frame.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn()&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
82&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=83></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-83_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.2.2.15&#160;&#160;TpRxGetReceivedTargetAddress:&#160;Get received Target&#160;Address&#160;</b><br/>
<b>TpRxGetReceivedTargetAddress&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
vuint8&#160;<b>TpRxGetReceivedTargetAddress</b>(void)&#160;<br/>
&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetReceivedTargetAddress</b>(vuint8&#160;<br/>channel)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>TargetAddress&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for&#160;TP&#160;classes: Extended-, Normal&#160;Fixed-, and Mixed&#160;addressing&#160;with&#160;the&#160;extended&#160;gateway&#160;API&#160;<br/>enabled.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;destination&#160;address,&#160;which&#160;has&#160;been&#160;received&#160;in&#160;the&#160;last&#160;transport-frame.&#160;Normally&#160;<br/>it is&#160;only&#160;used&#160;for gateway&#160;applications.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
83&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=84></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-84_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.2.16&#160;&#160;TpRxGetEcuNumber: Get ECU Number&#160;</b><br/>
<b>TpRxGetEcuNumber&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetEcuNumber</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetEcuNumber</b>(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Multiple&#160;EcuNumber&#160;feature must be activated&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;ECU Number,&#160;which has&#160;been received in the last transport-frame.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.2.2.17&#160;&#160;TpRxGetParameterGroupIdentification:&#160;Get Identification of&#160;PGN&#160;</b><br/>
<b>TpRxGetParameterGroupIdentification&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpRxGetParameterGroupIdentification</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<br/><b>TpRxGetParameterGroupIdentification</b>(vuint8&#160;<br/>channel)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
84&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=85></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-85_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-85_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
<b>Caution&#160;<br/></b>Currently&#160;not&#160;available.&#160;<br/>
&#160;<br/>
Only&#160;for dynamic&#160;TP&#160;class: Normal&#160;Fixed&#160;Addressing&#160;with&#160;extended&#160;API&#160;<br/>
&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;Identification&#160;of&#160;the&#160;Parameter&#160;Group,&#160;which has&#160;been&#160;received&#160;in the&#160;last&#160;<br/>transport-frame.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>&#160;<br/>
<b>4.2.2.18&#160;&#160;TpRxSetBufferOverrun:&#160;&#160;&#160;Enable&#160;partial&#160;acceptance&#160;</b><br/>
<b>TpRxSetBufferOverrun&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpRxSetBufferOverrun</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<br/><b>TpRxSetBufferOverrun</b>(canuint8 tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.41.00.&#160;The&#160;buffer overrun&#160;feature must be enabled&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
85&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=86></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-86_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Description&#160;</b><br/>
A&#160;reception&#160;can be&#160;received&#160;without copying&#160;the&#160;received&#160;data.&#160;This&#160;could&#160;be&#160;useful&#160;if&#160;the reception buffer is&#160;<br/>too&#160;small, but the request&#160;must be received to reject it&#160;by&#160;a special&#160;response.&#160;The&#160;data&#160;of&#160;a&#160;Single-&#160;or&#160;<br/>FirstFrame are copied,&#160;but&#160;no&#160;data&#160;are copied&#160;for ConsecutiveFrames. Due&#160;to&#160;this&#160;a&#160;buffer must be provided&#160;<br/>with&#160;at&#160;least the&#160;maximum&#160;length of&#160;Single-&#160;or FirstFrame.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
Only&#160;useful&#160;if&#160;a&#160;FF&#160;has&#160;been received&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Within function&#160;ApplTpRxGetBuffer()&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.2.2.19&#160;&#160;TpRxSetTransmitID:&#160;&#160;&#160;Set transmission CAN-Id&#160;</b><br/>
<b>TpRxSetTransmitID&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpRxSetTransmitID</b>&#160;<br/>(canuint8&#160;tpChannel, canuint16&#160;transmitID)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
transmitID&#160;<br/>
CAN-ID&#160;&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;TP-class&#160;‘Dynamic&#160;NormalAddressing&#160;MultiTP’&#160;<br/>
<b>Description&#160;</b><br/>
While receiving&#160;a multiple frame request the&#160;TP&#160;needs&#160;the&#160;CAN-ID for the&#160;transmission&#160;of&#160;the FlowControl&#160;<br/>message.&#160;Additionally&#160;the&#160;Diagnostic/TP&#160;will&#160;need it to&#160;calculate&#160;the&#160;response transmission&#160;<br/>(TpTxSetResponse()), why&#160;it&#160;is&#160;necessary&#160;to set&#160;it each time&#160;ApplTpRxGetBuffer()&#160;gets&#160;called.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
Response can be calculated automatically&#160;by&#160;the&#160;Function&#160;TpTxSetResponse().&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
86&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=87></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-87_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Within function&#160;ApplTpRxGetBuffer()&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
<b>4.2.2.20&#160;&#160;TpRxSetTransmitExtID:&#160;&#160;&#160;Set transmission&#160;Extended CAN-Id&#160;</b><br/>
<b>TpRxSetTransmitExtID&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpRxSetTransmitExtID</b>&#160;<br/>(canuint8&#160;tpChannel, canuint32&#160;transmitID)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
transmitID&#160;<br/>
Extended&#160;CAN-ID&#160;(29&#160;bits)&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;TP-class&#160;‘Dynamic&#160;NormalAddressing&#160;MultiTP’&#160;and&#160;<br/>
&#160; &#160;&#160;&#160; &#160;&#160;TP-class&#160;‘Dispatched&#160;NormalAddressing MultiTP’&#160;<br/>
<b>Description&#160;</b><br/>
While receiving&#160;a multiple frame request the&#160;TP&#160;needs&#160;the&#160;CAN-ID for the&#160;transmission&#160;of&#160;the FlowControl&#160;<br/>message.&#160;Additionally&#160;the&#160;Diagnostic/TP&#160;will&#160;need it to&#160;calculate&#160;the&#160;response transmission&#160;<br/>(TpTxSetResponse()), why&#160;it&#160;is&#160;necessary&#160;to set&#160;it each time&#160;ApplTpRxGetBuffer()&#160;gets&#160;called.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
Response can be&#160;calculated automatically&#160;by&#160;the&#160;Function&#160;TpTxSetResponse().&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Within function&#160;ApplTpRxGetBuffer()&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
87&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=88></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-88_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.2.21&#160;&#160;TpRxGetChannelIDType:&#160;&#160;&#160;Get the&#160;type&#160;of&#160;the&#160;received CAN-Id&#160;</b><br/>
<b>TpRxGetChannelIDType&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
canuint8 TP_API_CALL_TYPE&#160;<b>TpRxGetChannelIDType</b>&#160;<br/>(canuint8&#160;tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;&#160;<br/>
Either&#160;kTpCanIdTypeStd&#160;(11-Bit)&#160;or kTpCanIdTypeExt&#160;(29-Bit).&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;TP-class&#160;‘Dynamic&#160;NormalAddressing&#160;MultiTP’.&#160;<br/>
<b>Description&#160;</b><br/>
If&#160;mixed&#160;CAN-IDs, as&#160;well&#160;11-Bit&#160;identifiers&#160;as&#160;also&#160;29-Bit&#160;identifiers&#160;are used during&#160;runtime then this&#160;API&#160;<br/>can&#160;be&#160;used&#160;to get&#160;the type&#160;of&#160;the identifier.&#160;&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
Response can be calculated automatically&#160;by&#160;the&#160;Function&#160;TpTxSetResponse().&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Within function&#160;ApplTpRxGetBuffer()&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.22&#160;&#160;TpRxGetAddressExtension: &#160;Get&#160;address&#160;extension&#160;information&#160;</b><br/>
<b>TpRxGetAddressExtension&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
canuint8 TP_API_CALL_TYPE&#160;<br/><b>TpRxGetAddressExtension</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
canuint8 TP_API_CALL_TYPE&#160;<br/><b>TpRxGetAddressExtension</b>(canuint8&#160;tpChannel)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
88&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=89></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-89_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
For mixed&#160;29-bit ID and 11-bit ID addressing&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;address&#160;extension information&#160;from&#160;the first byte.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
Running&#160;reception. Valid after callback&#160;function&#160;ApplTpRxGetBuffer().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.23&#160;&#160;TpRxGetCanBuffer:&#160;&#160;Get CAN buffer&#160;pointer&#160;</b><br/>
<b>TpRxGetCanBuffer&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
CanChipDataPtrTP_API_CALL_TYPE&#160;<br/><b>TpRxGetCanBuffer</b>(void);&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
CanChipDataPtr&#160;TP_API_CALL_TYPE&#160;<br/><b>TpRxGetCanbuffer</b>(canuint8&#160;tpChannel);&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
<b>Return code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.41.00&#160;<br/>
<b>Description&#160;</b><br/>
Returns&#160;a&#160;pointer to the&#160;first payload&#160;byte of&#160;the last received&#160;CAN frame in the&#160;hardware data&#160;buffer&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
89&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=90></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-90_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
Reception&#160;must be&#160;in progress&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>4.2.2.24&#160;&#160;TpRxSetWaitCorrectSN:&#160;&#160;Force&#160;to&#160;wait for a&#160;correct sequence&#160;number&#160;</b><br/>
<b>TpRxSetWaitCorrectSN&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpRxSetWaitCorrectSN</b>&#160;<br/>(tpBool wait);&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpRxSetWaitCorrectSN</b>&#160;<br/>(canuint8&#160;tpChannel, tpBool wait);&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;&#160;<br/>
-&#160;<br/>
wait&#160;<br/>
kTpTrue, kTpFalse&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.73.00.&#160;&#160;<br/>
Only&#160;for Dynamic&#160;TP.&#160;<br/>
The&#160;following&#160;constant must be&#160;defined via&#160;a user-config file:&#160;&#160;<br/>
&#160; &#160;#define TP_ENABLE_DYN_AWAIT_CORRECT_SN&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;behaviour&#160;of&#160;the&#160;TPMC&#160;component&#160;in case of&#160;a&#160;wrong&#160;or missing&#160;sequence number&#160;can&#160;be&#160;changed:&#160;<br/>
By&#160;default (wait&#160;=&#160;kTpFalse) the&#160;TPMC behaviour&#160;is&#160;like described&#160;in ISO&#160;15765-2.&#160;&#160;<br/>By&#160;setting&#160;the&#160;‘wait’&#160;parameter&#160;to&#160;&#160;‘kTpTrue’&#160; the behaviour&#160;can&#160;be changed &#160;in the&#160;way&#160;that&#160;TPMC&#160;does&#160;not&#160;<br/>re-init&#160;the&#160;connection,&#160;but&#160;ignores&#160;the current&#160;frame and&#160;continues&#160;waiting&#160; for the correct sequence number.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
90&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=91></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-91_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Within function&#160;ApplTpRxGetBuffer().&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.25&#160;&#160;TpRxSetTimeoutConfirmation:&#160;&#160;Set CAN confirmation timeout&#160;</b><br/>
<b>TpRxSetTimeoutConfirmation&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<br/><i><b>TpRxSetTimeoutConfirmation</b></i>(canuint8&#160;tpChannel,&#160;<br/>tTpEngineTimer time);&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;&#160;<br/>
-&#160;<br/>
time&#160;<br/>
In&#160;timer ticks.&#160;The&#160;TpTask&#160;cycle&#160;time is&#160;equivalent&#160;to&#160;one&#160;timer tick.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.73.00.&#160;&#160;<br/>
Only&#160;for Dynamic&#160;Multi&#160;TP.&#160;<br/>
The&#160;following&#160;constant must be&#160;defined via&#160;a user-config file:&#160;&#160;<br/>
&#160; &#160;#define TP_ENABLE_DYN_CHANNEL_TIMING.&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;CAN message confirmation timeout&#160;&#160;value (N_Ar)&#160;can&#160;be&#160;changed&#160;dynamical.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
A&#160;tpChannel&#160;is&#160;successful&#160;allocated.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Within function&#160;ApplTpRxGetBuffer().&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
91&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=92></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-92_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;<br/>
<b>4.2.2.26&#160;&#160;TpRxSetTimeoutCF:&#160;&#160;Set Consecutive&#160;Frame&#160;confirmation timeout&#160;</b><br/>
<b>TpRxSetTimeoutCF&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<i><b>TpRxSetTimeoutCF</b></i>(canuint8&#160;<br/>tpChannel, tTpEngineTimer time);&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;&#160;<br/>
-&#160;<br/>
time&#160;<br/>
In&#160;timer ticks.&#160;The&#160;TpTask&#160;cycle&#160;time is&#160;equivalent&#160;to&#160;one&#160;timer tick.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.73.00.&#160;&#160;<br/>
Only&#160;for Dynamic&#160;Multi&#160;TP.&#160;<br/>
The&#160;following&#160;constant must be&#160;defined via&#160;a user-config file:&#160;&#160;<br/>
&#160; &#160;#define TP_ENABLE_DYN_CHANNEL_TIMING.&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;CF&#160;timeout&#160;&#160;value (N_Cr)&#160;can&#160;be&#160;changed&#160;dynamical.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
A&#160;tpChannel&#160;is&#160;successful&#160;allocated.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Within function&#160;ApplTpRxGetBuffer().&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>&#160;<br/>
<b>4.2.2.27&#160;&#160;TpRxSetFCStatus:&#160;&#160;set up Flow&#160;Control&#160;on reception&#160;side&#160;</b><br/>
<b>TpRxSetFCStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void TpRxSetFCStatus(canuint8 FCStatus)&#160;<br/>
MultipeConnectionTP&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
92&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=93></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-93_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;<br/>
void TpRxSetFCStatus(canuint8 tpChannel,&#160;<br/>canuint8&#160;FCStatus)&#160;<br/>
<b>Parameter&#160;<br/></b>FCStatus&#160;<br/>
KTpFCClearToSend&#160;<br/>
kTpFCStatusWait&#160;<br/>
kTpFCSupressFrame&#160;<br/>
kTpFCStatusOverflow&#160;<br/>
tpChannel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
None&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;with at&#160;least&#160;one&#160;of&#160;the following&#160;switches&#160;defined:&#160;<br/>#define TP_ENABLE_FC_WAIT&#160;<br/>
#define TP_ENABLE_FC_SUPRESS&#160;<br/>#define TP_ENABLE_FC_OVERFLOW&#160;<br/>
Each of&#160;these defines&#160;corresponds&#160;to&#160;the&#160;belonging&#160;status.&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;Flow&#160;Control&#160;content&#160;and&#160;also the further behaviour can&#160;be&#160;adjusted by&#160;this&#160;function.&#160;&#160;<br/>
By&#160;default the FC status&#160;is&#160;set&#160;to&#160;‘kTpFCClearToSend’.&#160;<br/>In&#160;case of&#160;‘kTpFCStatusWait’&#160;WaitFrames&#160;are sent until&#160;an&#160;explicit clear&#160;to send is&#160;initiated&#160;with the&#160;<br/>corresponding&#160;API function&#160;‘TpRxSetClearToSend()’.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;only&#160;be&#160;used&#160;within&#160;the application&#160;callback&#160;‘ApplTpRxGetBuffer()’.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;<br/></b>&#160;<br/>
<b>4.2.2.28&#160;&#160;TpRxGetFCStatus:&#160;&#160;get the&#160;Flow&#160;Control&#160;setup on reception&#160;side&#160;</b><br/>
<b>TpRxGetFCStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
canuint8 TpRxGetFCStatus(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
canuint8&#160;TpRxGetFCStatus(canuint8&#160;tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
93&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=94></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-94_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
One&#160;of&#160;the&#160;possible status&#160;constants:&#160;&#160;<br/>
o&#160;&#160;kTpFCClearToSend,&#160;&#160;<br/>o&#160;&#160;kTpFCStatusWait,&#160;<br/>o&#160;&#160;kTpFCSupressFrame,&#160;<br/>o&#160;&#160;kTpFCStatusOverflow&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;with at&#160;least&#160;one&#160;of&#160;the following&#160;switches&#160;defined:&#160;<br/>#define TP_ENABLE_FC_WAIT&#160;<br/>
#define TP_ENABLE_FC_SUPRESS&#160;<br/>
#define TP_ENABLE_FC_OVERFLOW&#160;<br/>
Each of&#160;these defines&#160;corresponds&#160;to&#160;the&#160;belonging&#160;status.&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;Flow&#160;Control&#160;content&#160;and&#160;also the further&#160;behaviour of&#160;the&#160;TP&#160;component&#160;depends&#160;on&#160;the&#160;FC&#160;status.&#160;&#160;<br/>
With&#160;this&#160;function the effective FC status&#160;can&#160;be&#160;questioned.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
<b>&#160;</b><br/>
<b>4.2.2.29&#160;&#160;TpRxSetClearToSend:&#160;&#160;proceed&#160;with the&#160;transmission after FC&#160;wait frames&#160;</b><br/>
<b>TpRxSetClearToSend&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void TpRxSetClearToSend(canuint8 *pBuffer)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TpRxSetClearToSend(canuint8 tpChannel,&#160;<br/>canuint8&#160;*pBuffer)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
None&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
94&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=95></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-95_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;with the following&#160;switch&#160;defined:&#160;<br/>#define TP_ENABLE_FC_WAIT&#160;<br/>
<b>Description&#160;</b><br/>
When&#160;a&#160;request that&#160;was&#160;delayed previously&#160;by&#160;sending&#160;WaitFrames&#160;is&#160;now&#160;ready&#160;for&#160;reception,&#160;then the&#160;<br/>reception can&#160;be&#160;started&#160;with this&#160;function.&#160;&#160;<br/>
The&#160;already&#160;received&#160;data is&#160;handed&#160;to the application&#160;buffer passed&#160;as&#160;parameter&#160;and&#160;the&#160;transmission&#160;of&#160;<br/>a FC(CTS)&#160;is&#160;initiated.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>An activation&#160;of&#160;the&#160;WaitFames&#160;with a&#160;previous&#160;call&#160;of&#160;‘TpRxSetFCStatus(kTpFCStatusWait)’&#160;must have&#160;be&#160;<br/>done&#160;and must still&#160;be active (the&#160;effective FC&#160;status&#160;delivered&#160;by&#160;TpRxGetFCStatus()&#160;is&#160;&#160;<br/>‘kTpFCStatusWait’.), otherwise this&#160;function has&#160;no&#160;effect.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
<b>&#160;</b><br/>
<b>4.2.2.30&#160;&#160;TpRxWithoutFC:&#160;&#160;suppress&#160;FC frame&#160;usage&#160;at the&#160;Rx&#160;side&#160;</b><br/>
<b>TpRxWithoutFC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
&#160;<br/>
MultipeConnectionTP&#160;<br/>
void TP_API_CALL_TYPE TpRxWithoutFC(canuint8 tpChannel)&#160;<br/>
&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
None&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for dynamic&#160;Tp classes&#160;and&#160;with&#160;the&#160;following switch&#160;set&#160;to&#160;kTpOn:&#160;<br/>#define TP_USE_RX_CHANNEL_WITHOUT_FC&#160;&#160;kTpOn&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
95&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=96></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-96_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Description&#160;</b><br/>
If&#160;the usage of&#160;Flow&#160;Control&#160;frames&#160;on&#160;the Rx&#160;side shall&#160;be&#160;avoided&#160;then the enabling&#160;of&#160;this&#160;feature can&#160;be&#160;<br/>used&#160;to&#160;suppress&#160;all&#160;further&#160;FC&#160;frames&#160;within&#160;a distinct reception.&#160;<br/>
In&#160;this&#160;case the suppression of&#160;FC&#160;frames&#160;must be disabled&#160;for each&#160;new&#160;reception&#160;by&#160;calling&#160;this&#160;API&#160;<br/>function&#160;for the&#160;belonging&#160;tpChannel&#160;within the&#160;&#160;ApplTpRxGetBuffer()&#160;callback&#160;function.&#160;&#160;<br/>
For the&#160;reception&#160;of&#160;Single&#160;Frames&#160;this&#160;aspect&#160;is&#160;irrelevant.&#160;&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Use this&#160;function&#160;only&#160;inside the&#160;callback&#160;function&#160;<b>ApplTpRxGetBuffer()</b>&#160;!&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>&#160;<br/>
<b>4.2.2.31&#160;&#160;TpRxSetPGN:&#160;Set Parameter&#160;Group Number&#160;</b><br/>
<b>TpRxSetPGN&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxSetPGN</b>(vuint8&#160;pgn)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxSetPGN</b>(vuint8&#160;tpChannel, vuint8 pgn)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
pgn&#160;<br/>
Parameter&#160;Group Number&#160;to be&#160;used&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;class&#160;Normal&#160;Fixed&#160;or Mixed-29&#160;addressing.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;the&#160;Parameter&#160;Group Number&#160;(bit no.&#160;16&#160;-&#160;23)&#160;within&#160;an&#160;extended&#160;29 bit CAN-Identifer to&#160;<br/>be&#160;used for the&#160;re-transmission&#160;of&#160;Flow Control&#160;frames&#160;for the&#160;current reception&#160;channel&#160;in case&#160;of&#160;a&#160;multi&#160;<br/>frame reception.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
96&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=97></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-97_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.2.32&#160;&#160;TpRxSetPriorityBits:&#160;Set Priority,&#160;Data&#160;Page&#160;and Reserved bits&#160;</b><br/>
<b>TpRxSetPriorityBits&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxSetPriorityBits</b>(vuint8 prio,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 res,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;vuint8&#160;dataPage)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpRxSetPriorityBits</b>(vuint8 tpChannel,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 prio,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 res,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 dataPage)&#160;<br/>
<b>Parameter&#160;</b><br/>
tpChannel&#160;<br/>
-&#160;<br/>
prio&#160;<br/>
Priority&#160;bits&#160;to be used (3&#160;bits&#160;from&#160;bit position&#160;26-28)&#160;&#160;<br/>
res&#160;<br/>
Reserved bit to be&#160;used&#160;(1&#160;bit&#160;on&#160;bit&#160;position&#160;25)&#160;&#160;<br/>
dataPage&#160;<br/>
Data&#160;Page bit to be used&#160;(1&#160;bit&#160;on&#160;bit&#160;position&#160;24)&#160;&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;class&#160;Normal&#160;Fixed&#160;or Mixed-29&#160;addressing.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;beside&#160;the Priority&#160;Bits&#160;(bit no.&#160;26,27,28)&#160;also the bits&#160;for the&#160;‘Reserved’&#160;bit position&#160;(no.&#160;<br/>25)&#160;and the ‘Data&#160;Page’&#160;bit&#160;position&#160;(no.&#160;24)&#160;&#160;within&#160;an&#160;extended&#160;29 bit CAN-Identifer to be used for the&#160;<br/>retransmission of&#160;Flow&#160;Control&#160;frames&#160;for the&#160;current reception&#160;channel&#160;in case&#160;of&#160;a&#160;multi&#160;frame reception.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
97&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=98></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-98_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
<b>4.2.3&#160;</b><br/>
<b>Transmit Functions&#160;</b><br/>
<b>4.2.3.1&#160;</b><br/>
<b>TpTxGetFreeChannel:&#160;Assign Channel&#160;to Connection&#160;</b><br/>
<b>TpTxGetFreeChannel&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpTxGetFreeChannel</b>(vuint8&#160;connection)&#160;<br/>
<b>Parameter&#160;<br/></b>connection&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;a free&#160;channel&#160;handle, if&#160;possible.&#160;If&#160;no&#160;channel&#160;was&#160;free&#160;the&#160;return&#160;value&#160;will&#160;be&#160;<br/>kTpNoChannel.&#160;The&#160;Transport Layer&#160;assigns&#160;the&#160;connection-number&#160;to&#160;the channel.&#160;<br/>
The&#160;application&#160;has&#160;got&#160;the&#160;possibility&#160;to&#160;get the&#160;connection-number&#160;by&#160;using&#160;the&#160;function&#160;<br/>TpTxGetConnectionNumber(channel)<b>.</b>&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Within function&#160;ApplTpRxGetBuffer().&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
The&#160;connection-numbers&#160;starting&#160;at&#160;<b>0xf0&#160;</b>are reserved for internal&#160;usage.<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
98&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=99></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-99_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.3.2&#160;</b><br/>
<b>TpTxGetConnectionNumber:&#160;Get the&#160;assigned&#160;Connection-Number&#160;</b><br/>
<b>TpTxGetConnectionNumber&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpTxGetConnectionNumber</b>(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;connection-number&#160;which is&#160;assigned&#160;to&#160;this&#160;channel.&#160;&#160;<br/>
The&#160;application&#160;has&#160;got&#160;the&#160;possibility&#160;to&#160;assign&#160;the&#160;connection-number&#160;by&#160;using&#160;the&#160;function&#160;<br/>TpTxGetFreeChannel(connectionNumber)<b>.</b>&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.2.3.3&#160;</b><br/>
<b>TpTxGetConnectionStatus:&#160;Get the&#160;Connection Status&#160;</b><br/>
<b>TpTxGetConnectionStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpTxGetConnectionStatus</b>(vuint8&#160;<br/>connection)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
99&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=100></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-100_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Parameter&#160;<br/></b>connection&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for&#160;dynamic&#160;TP&#160;classes.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;corresponding&#160;channel-number if&#160;it exits. If&#160;no&#160;channel&#160;is&#160;assigned to&#160;this&#160;<br/>connection&#160;the&#160;return&#160;value&#160;is&#160;kTpNoChannel.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.3.4&#160;</b><br/>
<b>TpTxGetTargetAddress: &#160;Get the&#160;target address&#160;used for transmission&#160;&#160;</b><br/>
<b>TpTxGetTargetAddress&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpTxGetTargetAddress(canuint8 tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
Target address.&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes&#160;and NormalFixed-, Extended-&#160;or&#160;Mixed-&#160;Addressing type.&#160;<br/>
One&#160;of&#160;the following switches&#160;must be defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_FIXED_ADDRESSING&#160;<br/>
#define&#160;TP_TYPE_MULTI_DISPATCHED_EXTENDED_ADDRESSING&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_MIXED_29_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;API function&#160;enables&#160;the&#160;application&#160;to&#160;appoint confirmations&#160;to&#160;previously&#160;issued transmissions.&#160;<br/>Without&#160;this&#160;API&#160;the&#160;appointment of&#160;confirmations&#160;with&#160;parallel&#160;transmissions&#160;and&#160;Normal&#160;Fixed, Mixed&#160;or&#160;<br/>Extended&#160;addressing&#160;is&#160;not&#160;possible&#160;with&#160;“Dispatched&#160;Multi&#160;TP”.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
100&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=101></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-101_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
Typically&#160;used&#160;in&#160;the&#160;application callback&#160;functions.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.3.5&#160;</b><br/>
<b>TpTxGetDataBuffer:&#160;Get the&#160;assigned Data Buffer&#160;</b><br/>
<b>TpTxGetDataBuffer&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpTxGetDataBuffer</b>&#160;(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpTxGetDataBuffer</b>&#160;(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;pointer&#160;to the buffer which is&#160;assigned&#160;to&#160;this&#160;channel.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
101&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=102></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-102_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;<br/>
<b>4.2.3.6&#160;</b><br/>
<b>TpTxGetDataIndex:&#160;Get the&#160;assigned Data&#160;Index&#160;</b><br/>
<b>TpTxGetDataIndex&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpTxGetDataIndex</b>&#160;(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpTxGetDataIndex</b>&#160;(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
No restrictions&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;current offset&#160;into&#160;the&#160;buffer which&#160;is&#160;assigned&#160;to this&#160;channel.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
<b>4.2.3.7&#160;</b><br/>
<b>TpTxSetChannelID:&#160;Set the&#160;CAN Transmit Id&#160;</b><br/>
<b>TpTxSetChannelID&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetChannelID</b>(vuint8&#160;channel,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;vuint16&#160;transmitID,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;vuint16&#160;receiveID)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
102&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=103></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-103_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
transmitID&#160;<br/>
&#160;<br/>
receivedID&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;class: Normal&#160;Addressing&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;the&#160;transmit CAN-Identifier for the&#160;next call&#160;of&#160;TpTransmit().&#160;Also the&#160;receive CAN-<br/>Identifier (must be unique)&#160;to the&#160;corresponding FlowControl&#160;is&#160;set.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
<b>4.2.3.8&#160;</b><br/>
<b>TpTxSetChannelExtID:&#160;Set the&#160;CAN Transmit &#160;Extended&#160;Id&#160;</b><br/>
<b>TpTxSetChannelExtID&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetChannelExtID</b>(vuint8&#160;channel,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint32&#160;transmitID,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint32&#160;receiveID)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
transmitID&#160;<br/>
&#160;<br/>
receivedID&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
103&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=104></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-104_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Availability&#160;</b><br/>
For&#160;&#160;<br/>
-&#160;Dynamic&#160;TP&#160;class&#160;Normal&#160;Addressing&#160;and&#160;&#160;<br/>
-&#160;Dispatched&#160;Normal&#160;Multi&#160;TP&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;the&#160;transmit extended&#160;CAN-Identifier&#160;(29&#160;bits)&#160;for the&#160;next call&#160;of&#160;TpTransmit().&#160;Also&#160;<br/>the&#160;receive extended CAN-Identifier (must be unique)&#160;to the&#160;corresponding FlowControl&#160;is&#160;set.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.2.3.9&#160;</b><br/>
<b>TpTxSetCanChannel: Set physical&#160;CAN Channel&#160;</b><br/>
<b>TpTxSetCanChannel&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetCanChannel</b>( vuint8 canChannel)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetCanChannel</b>(vuint8&#160;channel,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8&#160;canChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
canChannel&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for multiple CAN-channel&#160;systems&#160;and dynamic&#160;TP&#160;class.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;the&#160;(physical)&#160;CAN-channel&#160;for the&#160;next call&#160;of&#160;TpTransmit().&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
104&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=105></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-105_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.2.3.10&#160;&#160;TpTxSetTargetAddress: Set Target&#160;Address&#160;</b><br/>
<b>TpTxSetTargetAddress&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetTargetAddress</b>(vuint8&#160;targetaddress)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetTargetAddress</b>(vuint8&#160;channel,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;vuint8 targetaddress)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
targetaddress&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes: Extended-&#160;and&#160;Normal&#160;Fixed&#160;Addressing&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;the&#160;destination&#160;address&#160;for the&#160;next&#160;call&#160;of&#160;TpTransmit().&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
105&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=106></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-106_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.3.11&#160;&#160;TpTxSetEcuNumber:&#160;Set ECU Number&#160;</b><br/>
<b>TpTxSetEcuNumber&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetEcuNumber</b>(vuint8&#160;ecuNr)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetEcuNumber</b>(vuint8&#160;channel,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;vuint8&#160;ecuNr)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
ecuNr&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes: Extended-&#160;and&#160;Normal&#160;Fixed&#160;Addressing&#160;<br/>‘Multiple EcuNumber’&#160;feature must be activated&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;the&#160;ECU&#160;Number&#160;for the&#160;next call&#160;of&#160;TpTransmit().&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
<b>4.2.3.12&#160;&#160;TpTxSetBaseAddress:&#160;Set Base&#160;Address&#160;</b><br/>
<b>TpTxSetEcuNumber&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetBaseAddress</b>(vuint8&#160;channel,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;vuint8&#160;baseAddress)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
106&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=107></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-107_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
baseAddress&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes: Extended&#160;&#160;Addressing&#160;<br/>‘Multiple EcuNumber’&#160;feature must be activated.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;the&#160;base&#160;address&#160;for the&#160;next call&#160;of&#160;TpTransmit().&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.2.3.13&#160;&#160;TpTxSetParameterGroupIdentification:&#160;Set&#160;Identification of&#160;PGN&#160;</b><br/>
<b>TpTxSetParameterGroupIdentification&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetParameterGroupIdentification</b>(vuint8&#160;<br/>channel,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;vuint8&#160;<br/>identification)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
identification&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
107&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=108></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-108_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-108_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-108_3.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Availability&#160;</b><br/>
<b>Caution&#160;<br/></b>Currently&#160;not&#160;available.&#160;<br/>
&#160;<br/>
Only&#160;for dynamic&#160;TP&#160;class: Normal&#160;Fixed&#160;Addressing&#160;with&#160;extended&#160;API&#160;<br/>
&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;the&#160;Identification&#160;of&#160;the ParameterGroup for the&#160;next call&#160;of&#160;<b>TpTransmit().</b>&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
<b>4.2.3.14&#160;&#160;TpTxSetPriority:&#160;Set&#160;Priority&#160;of the&#160;CAN-Frame&#160;</b><br/>
<b>TpTxSetPriority&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetPriority</b>(vuint8&#160;channel,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8&#160;priority)&#160;<br/>
<b>Parameter&#160;<br/></b>Channel&#160;<br/>
-&#160;<br/>
priority&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
<b>Caution&#160;<br/></b>Currently&#160;not&#160;available.&#160;<br/>
&#160;<br/>
Only&#160;for dynamic&#160;TP&#160;class: Normal&#160;Fixed&#160;Addressing&#160;with&#160;extended&#160;API&#160;<br/>
&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;the&#160;Priority&#160;of&#160;the&#160;CAN-Frame&#160;for the&#160;next call&#160;of&#160;TpTransmit().&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
108&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=109></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-109_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.3.15&#160;&#160;TpTxSetResponse:&#160;Assemble&#160;a&#160;Response&#160;</b><br/>
<b>TpTxSetResponse&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetResponse</b>(vuint8&#160;rxChannel,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8&#160;txChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>rxChannel&#160;<br/>
-&#160;<br/>
txChanel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;assembles&#160;a&#160;Response&#160;based&#160;on&#160;a&#160;received&#160;transport-frame&#160;for the&#160;next call&#160;of&#160;<br/>TpTransmit().&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
109&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=110></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-110_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.3.16&#160;&#160;TpTransmit:&#160;Send a&#160;Message&#160;</b><br/>
<b>TpTransmit&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpTransmit</b>(vuint8* data,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;vuint16&#160;count)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>TpTransmit</b>&#160;(vuint8&#160;&#160;tpChannel,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8* data,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint16&#160;count)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
&#160;<br/>
Data&#160;<br/>
Pointer&#160;to&#160;the&#160;data buffer&#160;that&#160;shall&#160;be&#160;transmitted.&#160;<br/>
count&#160;<br/>
Number&#160;of&#160;bytes&#160;to be&#160;transmitted.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
kTpSuccess: No&#160;transmission in progress&#160;(ready&#160;to&#160;send)&#160;<br/>kTpBusy:&#160; &#160;&#160;Transmission&#160;in&#160;progress&#160;<br/>kTpFailed: &#160;If&#160;the data&#160;length is&#160;zero or&#160;the&#160;tpChannel&#160;is&#160;not allocated.&#160;<br/>
<b>Availability&#160;</b><br/>
No restrictions&#160;<br/>
<b>Description&#160;</b><br/>
Send a&#160;message.&#160;&#160;<br/>The&#160;Transport Layer&#160;decides&#160;which transmission&#160;protocol&#160;(SingleFrame with&#160;up&#160;to&#160;6/7&#160;data&#160;bytes&#160;depending&#160;<br/>on&#160;the addressing type)&#160;is&#160;used&#160;by&#160;checking&#160;the&#160;given&#160;count.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
After a transmission&#160;the&#160;channel&#160;is&#160;released,&#160;except the channel&#160;is&#160;explicitly&#160;locked.&#160;&#160;<br/>
Since&#160;version&#160;2.35&#160;the transmission&#160;request&#160;will&#160;be&#160;only&#160;queued&#160;within the&#160;context&#160;of&#160;TpTransmit.&#160;The&#160;<br/>transmission&#160;to&#160;the&#160;bus&#160;starts&#160;within the&#160;TpTxStateTask&#160;(TpTxTask)&#160;calls.&#160;<br/>
<b>kTpFailed</b>: In&#160;previous&#160;versions&#160;(2.34.xx&#160;and&#160;earlier)&#160;it is&#160;possible&#160;that&#160;TpTransmit returns&#160;‘kTpFailed’,&#160;<br/>because the&#160;CANdriver (CanTransmit returns&#160;failed)&#160;is&#160;busy.&#160;Starting&#160;with&#160;version&#160;2.35.00&#160;only&#160;dynamic&#160;TP-<br/>classes&#160;return this&#160;value&#160;in&#160;case of&#160;wrong attributes/parameters.&#160;<br/>
<b>kTpBusy</b>:&#160;A&#160;transmission&#160;is&#160;already&#160;running or&#160;GenMsgDelayTime is&#160;not kept.&#160;&#160;<br/>
<b>kTpSuccess</b>: Successful&#160;queued message that&#160;will&#160;be&#160;transmitted&#160;with the next task&#160;cycle.<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
110&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=111></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-111_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.3.17&#160;&#160;TpTxLockChannel:&#160;&#160;Lock&#160;Channel&#160;&#160;</b><br/>
<b>TpTxLockChannel&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxLockChannel</b>(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes.&#160;<br/>
<b>Description&#160;</b><br/>
If&#160;a&#160;channel&#160;is&#160;locked, it&#160;will&#160;not&#160;be&#160;released after a transmission.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.3.18&#160;&#160;TpTxUnlockChannel: &#160;Unlock&#160;TX&#160;Channel&#160;</b><br/>
<b>TpTxUnlockChannel&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxUnlockChannel</b>(vuint8&#160;channel)&#160;<br/>
<b>Parameter&#160;<br/></b>channel&#160;<br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
111&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=112></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-112_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes.&#160;<br/>
<b>Description&#160;</b><br/>
Unlock&#160;the lock&#160;of&#160;the channel.&#160;The&#160;channel&#160;will&#160;be&#160;released&#160;with&#160;the&#160;next call&#160;of&#160;TpTxResetChannel()&#160;or&#160;<br/>TpTransmit().&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.3.19&#160;&#160;TpTxResetChannel:&#160;Free&#160;TX-Channel&#160;</b><br/>
<b>TpTxResetChannel&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpTxResetChannel</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpTxResetChannel</b>(canuint8&#160;<br/>tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
No rectrictions&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;channel&#160;will&#160;be&#160;released by&#160;the&#160;Transport Layer.&#160;At&#160;the&#160;next call&#160;of&#160;TpTxGetFreeChannel()&#160;it can&#160;be&#160;<br/>assigned to&#160;another&#160;connection.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
112&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=113></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-113_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Background-loop&#160;level&#160;or OSEK-OSTask&#160;with lower priority&#160;as&#160;TpTasks.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
The&#160;tpChannel&#160;will&#160;be&#160;released&#160;in&#160;any&#160;case&#160;and&#160;immediately.&#160;&#160;<br/>
If&#160;a&#160;transmission&#160;is&#160;in&#160;progress&#160;the application&#160;will&#160;be&#160;informed&#160;by&#160;calling&#160;the&#160;function&#160;<br/>ApplTpTxErrorIndication().<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.3.20&#160;&#160;TpTxSetAddressExtension:&#160;&#160;Set&#160;Address&#160;Extension&#160;information&#160;</b><br/>
<b>TpTxSetAddressExtension&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<br/><b>TpTxSetAddressExtension</b>(canuint8&#160;<br/>addressExtension);&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<br/><b>TpTxSetAddressExtension</b>(canuint8&#160;tpChannel,&#160;<br/>canuint8&#160;addressExtension);&#160;<br/>
<b>Parameter&#160;<br/></b>adressExtension&#160;<br/>
-&#160;<br/>
tpChannel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
For mixed&#160;29-bit ID and mixed&#160;11-bit ID&#160;addressing&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;used to&#160;set&#160;the&#160;address&#160;extension&#160;information.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
This&#160;function&#160;must be called in&#160;advance of&#160;calling&#160;TpTransmit().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
113&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=114></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-114_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.2.3.21&#160;&#160;TpTxGetSTminInFrame:&#160;&#160;&#160;Get&#160;STmin&#160;from&#160;FC frame&#160;</b><br/>
<b>TpTxGetSTminInFrame&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
canuint8 TP_API_CALL_TYPE&#160;<br/><b>TpTxGetSTminInFrame</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
canuint8 TP_API_CALL_TYPE&#160;<br/><b>TpTxGetSTminInFrame</b>(canuint8&#160;tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
STmin value&#160;<br/>
<b>Availability&#160;</b><br/>
The&#160;STmin value&#160;must be taken&#160;out of&#160;the&#160;received FC frames&#160;(TP_USE_STMIN_OF_FC == kTpOn)&#160;and&#160;<br/>the&#160;fast transmission&#160;feature&#160;(TP_USE_FAST_TX_TRANSMISSION == kTpOn)&#160;must be activated.&#160;&#160;<br/>
<b>Description&#160;</b><br/>
Function is&#160;returning&#160;the&#160;STmin value of&#160;the&#160;last FC frame.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
This&#160;function&#160;must be called in&#160;advance of&#160;calling&#160;TpTransmit().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
114&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=115></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-115_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.2.3.22&#160;&#160;TpTxPrepareSendImmediate:&#160;&#160;&#160;Prepare&#160;CF transmission by&#160;application&#160;</b><br/>
<b>TpTxPrepareSendImmediate&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
TP_EXTERNAL_INLINE canuint8&#160;TP_API_CALL_TYPE&#160;<br/><b>TpTxPrepareSendImmediate</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
TP_EXTERNAL_INLINE canuint8 TP_API_CALL_TYPE&#160;<br/><b>TpTxPrepareSendImmediate</b>(canuint8&#160;tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
kTpSuccess,&#160;kTpFailed&#160;<br/>
<b>Availability&#160;</b><br/>
The&#160;fast transmission&#160;feature&#160;(TP_USE_FAST_TX_TRANSMISSION)&#160;must be set&#160;to&#160;kTpOn.&#160;<br/>
<b>Description&#160;</b><br/>
If&#160;the&#160;TP&#160;is&#160;not&#160;in&#160;the&#160;state&#160;for preparing&#160;a&#160;new&#160;CF-Frame (i.e.&#160;it is&#160;waiting for a FC)&#160;the function&#160;will&#160;return a&#160;<br/>‘kTpFailed’. Otherwise&#160;if&#160;the preparation&#160;is&#160;successful&#160;it&#160;will&#160;return&#160;a&#160;‘kTpSuccess’.&#160;&#160;<br/>
<b>Note</b>: &#160;&#160;In&#160;the&#160;case of&#160;‘kTpSuccess’&#160;the application&#160;is&#160;responsible for the transmission&#160;of&#160;the&#160;next&#160;<br/>ConsecutiveFrame.&#160;If&#160;the application&#160;does&#160;not&#160;call&#160;TpTxSendImmediate()&#160;the&#160;TP&#160;stays&#160;blocked.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
The&#160;call&#160;of&#160;this&#160;function&#160;is&#160;only&#160;allowed&#160;in&#160;the&#160;context&#160;of&#160;the&#160;TpTxCanMessageTransmitted()&#160;/&#160;ApplTpTxFC()&#160;<br/>Hook-function.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.3.23&#160;&#160;TpTxSendImmediate: &#160; Start CF transmission by&#160;application&#160;</b><br/>
<b>TpTxSendImmediate&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
TP_EXTERNAL_INLINE void TP_API_CALL_TYPE&#160;<br/><b>TpTxSendImmediate</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
115&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=116></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-116_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;<br/>
TP_EXTERNAL_INLINE void TP_API_CALL_TYPE&#160;<br/><b>TpTxSendImmediate</b>(canuint8&#160;tpChannel)&#160;<br/>
<b>Parameter&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
The&#160;fast transmission&#160;feature&#160;(TP_USE_FAST_TX_TRANSMISSION)&#160;must be set&#160;to&#160;kTpOn.&#160;<br/>
<b>Description&#160;</b><br/>
Prepares&#160;the&#160;ConsecutiveFrame and&#160;calls&#160;the&#160;TpTxStateTask()&#160;to&#160;transmit the frame.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.3.24&#160;&#160;TpTxSetAddressingFormat:&#160;&#160;Store&#160;the&#160;current&#160;addressing type&#160;&#160;</b><br/>
<b>TpTxSetAddressingFormat&#160;</b><br/>
<b>Prototype&#160;</b><br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<br/><b>TpTxSetAddressingFormat</b>(canuint8&#160;tpChannel,&#160;<br/>SupportInfoStruct supportInfo)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
-&#160;<br/>
supportInfo&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Multiple&#160;Addressing&#160;TP&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
116&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=117></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-117_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;used to&#160;prepare the required addressing information&#160;in a&#160;multiple addressing&#160;environment&#160;<br/>and&#160;internally&#160;to&#160;assign&#160;a&#160;given&#160;connection to&#160;the&#160;right&#160;component.&#160;&#160;<br/>#define kTpNormalAddressing &#160; &#160; &#160;&#160;&#160;<br/>#define kTpExtendedAddressing &#160; &#160;&#160;&#160;<br/>#define kTpNormalFixedAddressing &#160;&#160;<br/>#define kTpMixed29Addressing &#160; &#160; &#160;&#160;<br/>#define kTpMixed11Addressing &#160; &#160; &#160;&#160;<br/>
#define kTpRequestAppl &#160; &#160; &#160; &#160; &#160; &#160;// Application connection&#160;<br/>#define kTpRequestDiagFunctional &#160;// Functional Diag connect.&#160;<br/>#define kTpRequestDiagPhysical &#160; &#160;// Physical Diag connection&#160;<br/>SupportInfoStruct supportInfo;&#160;<br/>supportInfo.addressingFormat &#160; &#160; = kTpNormalAddressing;&#160;<br/>
supportInfo.assignedDestination &#160;= kTpRequestDiagPhysical;&#160;<br/>
TpTxSetAddressingFormat(DiagPhysChannel, supportInfo);&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
A&#160;tpChannel&#160;is&#160;successful&#160;allocated.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.3.25&#160;&#160;TpTxSetStrictFlowControl:&#160;&#160;Enable/Disable&#160;ISO&#160;conformant&#160;FC handling&#160;</b><br/>
<b>TpTxSetStrictFlowControl&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpTxSetStrictFlowControl</b>&#160;<br/>(tpBool strict)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<b>TpRxSetStrictFlowControl</b>&#160;<br/>(canuint8&#160;tpChannel, tpBool strict)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;&#160;<br/>
-&#160;<br/>
strict&#160;<br/>
kTpTrue, kTpFalse&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
117&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=118></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-118_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.73.00.&#160;&#160;<br/>
Only&#160;for Dynamic&#160;TP.&#160;<br/>
The&#160;following&#160;constant must be&#160;defined via&#160;a user-config file:&#160;&#160;<br/>
&#160; &#160;#define TP_ENABLE_FC_MSG_FLOW_DYN_CHECK.&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;behaviour&#160;of&#160;the&#160;TPMC&#160;component&#160;in case of&#160;a&#160;missing&#160;FC&#160;frame can&#160;be&#160;changed:&#160;<br/>
By&#160;default (strict =&#160;kTpTrue)&#160;the&#160;TPMC behaviour&#160;is&#160;like described&#160;in ISO&#160;15765-2.&#160;&#160;<br/>By&#160;setting&#160;the&#160;‘strict’&#160;parameter&#160;to&#160;&#160;‘kTpFalse’&#160; the&#160;behaviour&#160;can be&#160;changed&#160;in&#160;the&#160;way&#160;&#160;that&#160;TPMC&#160;does&#160;<br/>not re-init&#160;the&#160;connection,&#160;but&#160;ignores&#160;the&#160;current frame in&#160;case of&#160;a&#160;missing&#160;FC.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
A&#160;tpChannel&#160;is&#160;successful&#160;allocated.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Call&#160;before&#160;TpTransmit()&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
<b>4.2.3.26&#160;&#160;TpTxSetTimeoutConfirmation:&#160;&#160;Set the&#160;CAN confirmation timeout&#160;</b><br/>
<b>TpTxSetTimeoutConfirmation&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<br/><i><b>TpTxSetTimeoutConfirmation</b></i>(canuint8&#160;tpChannel,&#160;<br/>tTpEngineTimer time)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;&#160;<br/>
-&#160;<br/>
Time&#160;<br/>
In&#160;timer ticks.&#160;The&#160;TpTask&#160;cycle&#160;time is&#160;equivalent&#160;to&#160;one&#160;timer tick.&#160;&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
118&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=119></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-119_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.73.00.&#160;&#160;<br/>
Only&#160;for Dynamic&#160;Multi&#160;TP.&#160;<br/>
The&#160;following&#160;constant must be&#160;defined via&#160;a user-config file:&#160;&#160;<br/>
&#160; &#160;#define TP_ENABLE_DYN_CHANNEL_TIMING.&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;CAN message confirmation timeout&#160;(N_As)&#160;value&#160;can&#160;be&#160;changed&#160;dynamical.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
A&#160;tpChannel&#160;is&#160;successful&#160;allocated.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Call&#160;before&#160;TpTransmit().&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
<b>4.2.3.27&#160;&#160;TpTxSetTimeoutFC:&#160;&#160;Set the&#160;FC confirmation timeout&#160;</b><br/>
<b>TpTxSetTimeoutFC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void TP_API_CALL_TYPE&#160;<i><b>TpTxSetTimeoutFC</b></i>(canuint8&#160;<br/>tpChannel, tTpEngineTimer time)&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;&#160;<br/>
-&#160;<br/>
Time&#160;<br/>
In&#160;timer ticks.&#160;The&#160;TpTask&#160;cycle&#160;time is&#160;equivalent&#160;to&#160;one&#160;timer tick.&#160;&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Since&#160;TPMC&#160;version&#160;2.73.00.&#160;&#160;<br/>
Only&#160;for Dynamic&#160;Multi&#160;TP.&#160;<br/>
The&#160;following&#160;constant must be&#160;defined via&#160;a user-config file:&#160;&#160;<br/>
&#160; &#160;#define TP_ENABLE_DYN_CHANNEL_TIMING.&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;FC&#160;timeout&#160;value (N_Bs)&#160;can&#160;be&#160;changed dynamical&#160;per channel.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
119&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=120></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-120_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
A&#160;tpChannel&#160;is&#160;successful&#160;allocated.&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Call&#160;before&#160;TpTransmit().&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>4.2.3.28&#160;&#160;TpTxWithoutFC:&#160;&#160;suppress&#160;FC frame&#160;usage&#160;at the&#160;Tx&#160;side&#160;</b><br/>
<b>TpTxWithoutFC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
&#160;<br/>
MultipeConnectionTP&#160;<br/>
void TP_API_CALL_TYPE TpTxWithoutFC(canuint8 tpChannel)&#160;<br/>
&#160;<br/>
<b>Parameter&#160;<br/></b>tpChannel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
None&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for dynamic&#160;Tp classes&#160;and&#160;with&#160;the&#160;following switch&#160;set&#160;to&#160;kTpOn:&#160;<br/>#define TP_USE_TX_CHANNEL_WITHOUT_FC&#160;&#160;kTpOn&#160;<br/>
<b>Description&#160;</b><br/>
If&#160;the usage of&#160;Flow&#160;Control&#160;frames&#160;on&#160;the&#160;Tx&#160;side&#160;shall&#160;be&#160;avoided&#160;then&#160;the&#160;enabling&#160;of&#160;this&#160;feature can&#160;be&#160;<br/>used&#160;to&#160;suppress&#160;all&#160;further&#160;FC&#160;frames&#160;within&#160;a distinct transmission.&#160;<br/>
In&#160;this&#160;case the suppression of&#160;FC&#160;frames&#160;must be disabled&#160;for each&#160;new&#160;transmission&#160;by&#160;calling&#160;this&#160;API&#160;<br/>function&#160;for the&#160;belonging&#160;tpChannel&#160;before calling&#160;TpTransmit.&#160;&#160;<br/>
For the&#160;transmission&#160;of&#160;Single Frames&#160;this&#160;aspect is&#160;irrelevant.&#160;&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
Call&#160;from&#160;task&#160;context before calling&#160;TpTransmit.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
120&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=121></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-121_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
<b>4.2.3.29&#160;&#160;TpTxSetPGN:&#160;Set&#160;Parameter&#160;Group Number&#160;</b><br/>
<b>TpTxSetPGN&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetPGN</b>(vuint8&#160;pgn)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetPGN</b>(vuint8 tpChannel, vuint8 pgn)&#160;<br/>
<b>Parameter&#160;</b><br/>
tpChannel&#160;<br/>
-&#160;<br/>
pgn&#160;<br/>
Parameter&#160;Group&#160;Number&#160;to&#160;be&#160;used&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;class&#160;Normal&#160;Fixed&#160;or Mixed-29&#160;addressing.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;the&#160;parameter&#160;group&#160;number&#160;(bit no. 16&#160;-&#160;23)&#160;within an extended 29&#160;bit&#160;CAN-Identifer for&#160;<br/>the&#160;next call&#160;of&#160;<b>TpTransmit().</b>&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
121&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=122></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-122_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;&#160;&#160;<br/>
<b>4.2.3.30&#160;&#160;TpTxSetPriorityBits:&#160;Set Priority,&#160;Data&#160;Page&#160;and Reserved bits&#160;</b><br/>
<b>TpTxSetPriorityBits&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetPriorityBits</b>(vuint8 prio,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 res,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8&#160;dataPage)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>TpTxSetPriorityBits</b>(vuint8 tpChannel,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 prio,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;vuint8 res,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 dataPage)&#160;<br/>
<b>Parameter&#160;</b><br/>
tpChannel&#160;<br/>
-&#160;<br/>
prio&#160;<br/>
Priority&#160;bits&#160;to be used (3&#160;bits&#160;from&#160;bit position&#160;26-28)&#160;&#160;<br/>
res&#160;<br/>
Reserved bit to be&#160;used&#160;(1&#160;bit&#160;on&#160;bit&#160;position&#160;25)&#160;&#160;<br/>
dataPage&#160;<br/>
Data&#160;Page bit to be used&#160;(1&#160;bit&#160;on&#160;bit&#160;position&#160;24)&#160;&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;class&#160;Normal&#160;Fixed&#160;or Mixed-29&#160;addressing.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;sets&#160;beside&#160;the Priority&#160;Bits&#160;(bit no.&#160;26,27,28)&#160;also the bits&#160;for the&#160;‘Reserved’&#160;bit position&#160;(no.&#160;<br/>25)&#160;and the ‘Data&#160;Page’&#160;bit&#160;position&#160;(no.&#160;24)&#160;within an extended 29&#160;bit CAN-Identifer for the&#160;next call&#160;of&#160;<br/><b>TpTransmit().</b>&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
122&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=123></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-123_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.3&#160;</b><br/>
<b>Dispatched&#160;Multi TP&#160;class&#160;API&#160;</b><br/>
&#160;<br/>
<b>4.3.1&#160;</b><br/>
<b>TpGetConnectionGroup:&#160;&#160;Get the&#160;connection group&#160;identification&#160;</b><br/>
<b>TpGetConnectionGroup&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpGetConnectionGroup(canuint8 addressInfoHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
kTpGroup&lt;ConnectionName&gt;&#160;constant&#160;&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes.&#160;<br/>
One&#160;of&#160;the following switches&#160;must be defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_ADDRESSING&#160;<br/>
#define&#160;TP_TYPE_MULTI_DISPATCHED_EXTENDED_ADDRESSING&#160;<br/>
#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_FIXED_ADDRESSING&#160;<br/>
#define&#160;TP_TYPE_MULTI_DISPATCHED_MIXED_29_ADDRESSING&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_MULTIPLE_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Deliver the&#160;appropriate&#160;connection group&#160;identification&#160;as&#160;a&#160;constant.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
Typically&#160;used&#160;in&#160;the&#160;application callback&#160;functions.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
123&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=124></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-124_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.3.2&#160;</b><br/>
<b>TpGetAddressingType:&#160;&#160;Get the&#160;addressing type&#160;identification&#160;</b><br/>
<b>TpGetAddressingType&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpGetAddressingType(canuint8 addressInfoHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
One&#160;of&#160;the&#160;possible status&#160;constants:&#160;&#160;<br/>&#160;kTpNormalAddressing,&#160;&#160;<br/>&#160;kTpExtendedAddressing,&#160;&#160;<br/>&#160;kTpNormalFixedAddressing,&#160;<br/>&#160;kTpMixed29Addressing&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes&#160;and&#160;“Multiple&#160;Addressing” type.&#160;<br/>
The&#160;following&#160;switch must be defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_MULTIPLE_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Deliver the&#160;appropriate&#160;addressing&#160;type&#160;as&#160;a&#160;constant.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
Typically&#160;used&#160;in&#160;the&#160;application callback&#160;functions.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
124&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=125></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-125_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.3.3&#160;</b><br/>
<b>TpGetCanChannel: &#160;Get the&#160;CAN channel&#160;</b><br/>
<b>TpGetCanChannel&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpGetCanChannel(canuint8 addressInfoHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
Number of the CAN channel.&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes&#160;and&#160;multiple CAN channels&#160;configured.&#160;<br/>
One&#160;of&#160;the following switches&#160;must be defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_ADDRESSING&#160;<br/>
#define&#160;TP_TYPE_MULTI_DISPATCHED_EXTENDED_ADDRESSING&#160;<br/>
#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_FIXED_ADDRESSING&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_MIXED_29_ADDRESSING&#160;<br/>
#define&#160;TP_TYPE_MULTI_DISPATCHED_MULTIPLE_ADDRESSING&#160;<br/>
&#160;<br/>
<b>Description&#160;</b><br/>
Deliver&#160;the&#160;appropriate&#160;CAN channel.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
Typically&#160;used&#160;in&#160;the&#160;application callback&#160;functions.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
125&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=126></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-126_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.3.4&#160;</b><br/>
<b>TpGetRxId:&#160;&#160;Get the&#160;received CAN-Id&#160;&#160;</b><br/>
<b>TpGetRxId&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpGetRxId(canuint8 addressInfoHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
CAN identifier.&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes&#160;and&#160;“Normal&#160;Addressing”&#160;type.&#160;<br/>
The&#160;following&#160;switches&#160;must be&#160;defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Deliver the&#160;appropriate&#160;Rx&#160;CAN&#160;identifier.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
Typically&#160;used&#160;in&#160;the&#160;application callback&#160;functions.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.3.5&#160;</b><br/>
<b>TpGetTxId:&#160;&#160;Get the&#160;CAN-Id to be&#160;used for transmission&#160;&#160;</b><br/>
<b>TpGetTxId&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpGetTxId(canuint8 addressInfoHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
CAN identifier.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
126&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=127></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-127_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes&#160;and&#160;“Normal&#160;Addressing”&#160;type.&#160;<br/>
The&#160;following&#160;switches&#160;must&#160;be&#160;defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Deliver the&#160;appropriate&#160;Tx&#160;CAN&#160;identifier.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
Typically&#160;used&#160;in&#160;the&#160;application callback&#160;functions.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>&#160;<br/>
&#160;<br/>
<b>4.3.6&#160;</b><br/>
<b>TpGetBaseAddress:&#160;&#160;Get the&#160;Base&#160;Address&#160;&#160;&#160;</b><br/>
<b>TpGetBaseAddress&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpGetBaseAddress(canuint8 addressInfoHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
Base address.&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes&#160;and&#160;“Extended&#160;Addressing”&#160;type.&#160;<br/>
The&#160;following&#160;switches&#160;must be&#160;defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_EXTENDED_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Deliver the&#160;appropriate&#160;base address.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
127&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=128></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-128_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
Typically&#160;used&#160;in&#160;the&#160;application callback&#160;functions.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.3.7&#160;</b><br/>
<b>TpGetAddressOffest:&#160;&#160;Get the&#160;Address&#160;Offset &#160;&#160;</b><br/>
<b>TpGetAddressOffset&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpGetAddressOffset(canuint8 addressInfoHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
Address offset.&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes&#160;and&#160;“Extended&#160;Addressing”&#160;type.&#160;<br/>
The&#160;following&#160;switches&#160;must be&#160;defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_EXTENDED_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Deliver the&#160;appropriate&#160;address&#160;offset.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
Typically&#160;used&#160;in&#160;the&#160;application callback&#160;functions.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
The&#160;address&#160;0x06F0&#160;is&#160;separated&#160;in&#160;2&#160;parts:&#160;&#160;<br/>
-&#160;base address&#160;&#160;0x0600&#160;and&#160;<br/>
-&#160;address&#160;offset&#160;0x00F0&#160;<br/>&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
128&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=129></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-129_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.3.8&#160;</b><br/>
<b>TpGetPriority:&#160;&#160;Get the&#160;priority&#160;info from a&#160;29&#160;bit CAN-Id &#160;&#160;</b><br/>
<b>TpGetPriority&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpGetPriority(canuint8 addressInfoHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
Priority value (0..7)&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes&#160;and&#160;“NormalFixed&#160;Addressing” or&#160;“Mixed29”&#160;addressing&#160;&#160;<br/>type.&#160;<br/>
The&#160;following&#160;switches&#160;must be&#160;defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_FIXED_ADDRESSING&#160;<br/>
#define&#160;TP_TYPE_MULTI_DISPATCHED_MIXED_29_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Deliver the&#160;appropriate&#160;address&#160;offset.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
Typically&#160;used&#160;in&#160;the&#160;application callback&#160;functions.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.3.9&#160;</b><br/>
<b>TpGetPGN:&#160;&#160;Get the&#160;parameter&#160;group identification from&#160;a&#160;29&#160;bit CAN-Id &#160;&#160;</b><br/>
<b>TpGetPGN&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpGetPGN(canuint8 addressInfoHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
PGN value.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
129&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=130></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-130_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes&#160;and&#160;“NormalFixed&#160;Addressing” or&#160;“Mixed29” addressing&#160;&#160;<br/>type.&#160;<br/>
The&#160;following&#160;switches&#160;must be&#160;defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_FIXED_ADDRESSING&#160;<br/>
#define&#160;TP_TYPE_MULTI_DISPATCHED_MIXED_29_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Deliver the&#160;appropriate&#160;address&#160;offset.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
Typically&#160;used&#160;in&#160;the&#160;application callback&#160;functions.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.3.10&#160;&#160;TpGetEcuNumber:&#160;&#160;Get the&#160;ECU&#160;number &#160;&#160;</b><br/>
<b>TpGetEcuNumber&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpGetEcuNumber(canuint8 addressInfoHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
ECU number.&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes&#160;and&#160;“NormalFixed&#160;Addressing” or&#160;“Mixed29”&#160;addressing&#160;&#160;<br/>type.&#160;<br/>
The&#160;following&#160;switches&#160;must be&#160;defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_FIXED_ADDRESSING&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_MIXED_29_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Deliver the&#160;appropriate&#160;ECU number.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
130&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=131></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-131_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
Typically&#160;used&#160;in&#160;the&#160;application callback&#160;functions.&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
<b>4.3.11&#160;&#160;TpTransmit&#160;</b><br/>
&#160;<br/>
There are&#160;two&#160;alternatives available&#160;to&#160;transmit&#160;data.&#160;Either you&#160;use&#160;the&#160;generated&#160;<br/>connection&#160;specific &#160;TpTransmit&#160;macros&#160;or&#160;you&#160;use&#160;the&#160;addressing&#160;type&#160;specific&#160;functions&#160;<br/>behind&#160;the&#160;macros.&#160;<br/>&#160;<br/>
<b>4.3.11.1&#160;&#160;TpTransmit connection specific&#160;macros&#160;</b><br/>
The&#160;data&#160;pointer (type&#160;canuint8) and&#160;the&#160;data&#160;length&#160;(type&#160;canuint16)&#160;are always&#160;<br/>necessary.&#160;Depending&#160;on&#160;the&#160;addressing&#160;type&#160;additional information&#160;like&#160;the&#160;Target&#160;<br/>Address&#160;(TA)&#160;for Extended&#160;/&#160;NormalFixed&#160;addressing&#160;&#160;or the&#160;Address Extension&#160;(AE)&#160;for&#160;<br/>Mixed&#160;addressing&#160;is necessary.&#160;<br/>&#160;<br/><b>Addressing&#160;</b><br/>
<b>Macro name&#160;</b><br/>
<b>Type&#160;<br/></b>Normal&#160;&#160;<br/>
TpTransmit_&lt;ConnectionName&gt;(canuint8 &#160;data,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160; &#160;canuint16 len)&#160;<br/>
Extended&#160;&#160;<br/>
TpTransmit_&lt;ConnectionName&gt;(canuint8 &#160;TA,&#160;<br/>
NormalFixed&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8 &#160;data,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint16 len)&#160;<br/>
Mixed29&#160;<br/>
TpTransmit_&lt;ConnectionName&gt;(canuint8 &#160;TA,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8 &#160;AE,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8 &#160;data,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8 &#160;len)&#160;<br/>
&#160;<br/>&#160;<br/>
<b>4.3.11.2&#160;&#160;TpTransmitNormal:&#160;&#160;transmit function for&#160;normal&#160;addressing&#160;&#160;&#160;&#160;</b><br/>
<b>TpTransmitNormal&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpTransmitNormal(canuint8&#160;&#160;addressInfoHandle,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;canuint8&#160;&#160;data,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;canuint16 length)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
131&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=132></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-132_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
data&#160;<br/>
Pointer&#160;to the transmit data.&#160;<br/>
length&#160;<br/>
Length&#160;of&#160;the transmit data&#160;(in bytes).&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
kTpSuccess:&#160;&#160;&#160;No transmission&#160;in&#160;progress&#160;(ready&#160;to send)&#160;<br/>kTpBusy:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Transmission&#160;in&#160;progress&#160;<br/>kTpFailed: &#160;&#160;&#160;&#160;&#160;Data&#160;length&#160;is&#160;zero&#160;<br/>kTpNoChannel: No&#160;TP&#160;channel&#160;available&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes.&#160;<br/>
The&#160;following&#160;switch must be defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Send the data&#160;with&#160;the&#160;given length to&#160;the&#160;CAN&#160;bus.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.3.11.3&#160;&#160;TpTransmitExtended:&#160;&#160;transmit function for extended&#160;addressing &#160;&#160;&#160;</b><br/>
<b>TpTransmitExtended&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpTransmitExtended(canuint8&#160;&#160;addressInfoHandle,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;canuint8&#160;&#160;TA,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;canuint8&#160;&#160;data,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;canuint16 length)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
TA&#160;<br/>
Target&#160;Address.&#160;<br/>
data&#160;<br/>
Pointer&#160;to the transmit data.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
132&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=133></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-133_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
length&#160;<br/>
Length&#160;of&#160;the transmit data&#160;(in bytes).&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
kTpSuccess:&#160;&#160;&#160;No transmission&#160;in&#160;progress&#160;(ready&#160;to send),&#160;<br/>kTpBusy:&#160; &#160;&#160;&#160;&#160;&#160;&#160;Transmission&#160;in&#160;progress,&#160;<br/>kTpFailed: &#160;&#160;&#160;&#160;&#160;Data&#160;length&#160;is&#160;zero,&#160;<br/>kTpNoChannel: No&#160;TP&#160;channel&#160;available.&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes.&#160;<br/>
The&#160;following&#160;switch must be defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_EXTENDED_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Send the data&#160;with&#160;the&#160;given length&#160;to&#160;the&#160;CAN&#160;bus.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.3.11.4&#160;&#160;TpTransmitNormalFixed:&#160;&#160;transmit function for NormalFixed&#160;addressing&#160;&#160;&#160;&#160;</b><br/>
<b>TpTransmitNormalFixed&#160;</b><br/>
<b>Prototype&#160;</b><br/>
TpTransmitNormalFixed(canuint8&#160;&#160;addressInfoHandle,&#160;&#160;<br/>
&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8&#160;&#160;TA,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8&#160;&#160;data,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint16 length)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
TA&#160;<br/>
Target&#160;Address.&#160;<br/>
data&#160;<br/>
Pointer&#160;to the transmit data.&#160;<br/>
length&#160;<br/>
Length&#160;of&#160;the transmit data&#160;(in bytes).&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
133&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=134></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-134_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
kTpSuccess:&#160;&#160;No transmission&#160;in&#160;progress (ready&#160;to&#160;send)&#160;<br/>kTpBusy:&#160;&#160;&#160;&#160;&#160;&#160;&#160;Transmission&#160;in progress&#160;<br/>kTpFailed:&#160;&#160;&#160;&#160;&#160;Data&#160;length&#160;is&#160;zero&#160;<br/>kTpNoChannel:&#160;No tpChannel&#160;available&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes.&#160;<br/>
The&#160;following&#160;switch must be defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_NORMAL_FIXED_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Send the data&#160;with&#160;the&#160;given length to&#160;the&#160;CAN&#160;bus.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.3.11.5&#160;&#160;TpTransmitMixed29:&#160;&#160;transmit function for Mixed-29&#160;addressing&#160;&#160;&#160;&#160;</b><br/>
<b>TpTransmitMixed29&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpTransmitMixed29(canuint8&#160;&#160;addressInfoHandle,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8&#160;&#160;TA,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8&#160;&#160;AE,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8&#160;&#160;data,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint16 length)&#160;<br/>
<b>Parameter&#160;</b><br/>
addressInfoHandle&#160;<br/>
&#160;<br/>
TA&#160;<br/>
Target&#160;Address.&#160;<br/>
AE&#160;<br/>
Address&#160;Extension.&#160;<br/>
data&#160;<br/>
Pointer&#160;to the transmit data.&#160;<br/>
length&#160;<br/>
Length&#160;of&#160;the transmit data&#160;(in bytes).&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
134&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=135></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-135_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
kTpSuccess:&#160;&#160;&#160;&#160;No transmission&#160;in&#160;progress (ready&#160;to&#160;send),&#160;<br/>kTpBusy:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Transmission&#160;in progress,&#160;<br/>kTpFailed:&#160;&#160;&#160;&#160;&#160;&#160;&#160;Data&#160;length&#160;is&#160;zero,&#160;<br/>kTpNoChannel:&#160;No&#160;TP&#160;channel&#160;available.&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes.&#160;<br/>
The&#160;following&#160;switch must be defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_MIXED_29_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Send the data&#160;with&#160;the&#160;given length to&#160;the&#160;CAN&#160;bus.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
<b>4.3.11.6&#160;&#160;TpTransmitMixed29:&#160;&#160;transmit function for Mixed-29&#160;addressing&#160;&#160;&#160;&#160;</b><br/>
<b>TpTransmitMixed29&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpTransmitMixed29(canuint8&#160;&#160;addressInfoHandle,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8&#160;&#160;TA,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8&#160;&#160;AE,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8&#160;&#160;data,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint16 length)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
TA&#160;<br/>
Target&#160;Address.&#160;<br/>
AE&#160;<br/>
Address&#160;Extension.&#160;<br/>
data&#160;<br/>
Pointer&#160;to the transmit data.&#160;<br/>
length&#160;<br/>
Length&#160;of&#160;the transmit data&#160;(in bytes).&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
135&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=136></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-136_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
kTpSuccess:&#160;&#160;&#160;&#160;No transmission&#160;in&#160;progress (ready&#160;to&#160;send),&#160;<br/>kTpBusy:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Transmission&#160;in progress,&#160;<br/>kTpFailed:&#160;&#160;&#160;&#160;&#160;&#160;&#160;Data&#160;length&#160;is&#160;zero,&#160;<br/>kTpNoChannel:&#160;No&#160;TP&#160;channel&#160;available.&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes.&#160;<br/>
The&#160;following&#160;switch must be defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_MIXED_29_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Send the data&#160;with&#160;the&#160;given length to&#160;the&#160;CAN&#160;bus.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.3.11.7&#160;&#160;TpTransmitMixed11:&#160;&#160;transmit function for Mixed-11&#160;addressing&#160;&#160;&#160;&#160;</b><br/>
<b>TpTransmitMixed29&#160;</b><br/>
<b>Prototype&#160;</b><br/>
&#160;<br/>
TpTransmitMixed11(canuint8&#160;&#160;addressInfoHandle,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8&#160;&#160;AE,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint8&#160;&#160;data,&#160;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;canuint16 length)&#160;<br/>
<b>Parameter&#160;<br/></b>addressInfoHandle&#160;<br/>
&#160;<br/>
AE&#160;<br/>
Address&#160;Extension.&#160;<br/>
data&#160;<br/>
Pointer&#160;to the transmit data.&#160;<br/>
length&#160;<br/>
Length&#160;of&#160;the transmit data&#160;(in bytes).&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
136&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=137></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-137_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Return&#160;code&#160;<br/></b>canuint8&#160;<br/>
kTpSuccess:&#160;&#160;&#160;&#160;No transmission&#160;in&#160;progress (ready&#160;to&#160;send)&#160;<br/>kTpBusy:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Transmission&#160;in progress&#160;<br/>kTpFailed:&#160;&#160;&#160;&#160;&#160;&#160;&#160;Data&#160;length&#160;is&#160;zero&#160;<br/>kTpNoChannel:&#160;No&#160;TP&#160;channel&#160;available&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;available&#160;for “Dispatched&#160;Multi&#160;TP”&#160;classes&#160;and&#160;at&#160;least&#160;one&#160;AI&#160;with&#160;mixed-11&#160;as&#160;addressing&#160;type&#160;<br/>
The&#160;following&#160;switch must be defined:&#160;<br/>#define&#160;TP_TYPE_MULTI_DISPATCHED_MULTIPLE_ADDRESSING&#160;<br/>
<b>Description&#160;</b><br/>
Send the data&#160;with&#160;the&#160;given length to&#160;the&#160;CAN&#160;bus.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
The&#160;TP&#160;is&#160;initialized&#160;with&#160;TpInitPowerOn().&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
May&#160;be&#160;used&#160;in&#160;application&#160;context.&#160;&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
<b>4.4&#160;</b><br/>
<b>Application callback&#160;functions&#160;</b><br/>
In&#160;&#160;the&#160;&#160;Generation&#160;Tool&#160;&#160;the&#160;&#160;user&#160;&#160;can&#160;define&#160;which&#160;&#160;callback&#160;&#160;functions&#160;&#160;he&#160;&#160;would&#160;&#160;like&#160;&#160;to&#160;&#160;use&#160;<br/>from&#160;the&#160;Transport&#160;Protocol.&#160;The&#160;names&#160;can&#160;be&#160;adjusted&#160;by&#160;the&#160;user.&#160;E.g.&#160;the&#160;prefix&#160;&#160;<b>User</b>&#160;<br/>can&#160;be&#160;used&#160;instead&#160;of&#160;<b>Appl.&#160;</b>These&#160;functions&#160;will&#160;only&#160;be&#160;provided,&#160;if&#160;they&#160;were&#160;configured&#160;<br/>in&#160;the&#160;Generation&#160;Tool&#160;what&#160;can&#160;be&#160;done&#160;by&#160;entering&#160;a&#160;function&#160;name.&#160;<br/>
<b>4.4.1&#160;</b><br/>
<b>Reception side&#160;</b><br/>
<b>4.4.1.1&#160;</b><br/>
<b>ApplTpPrecopyCheck:&#160;Reception of TP-Frame&#160;</b><br/>
<b>ApplTpPrecopyCheck&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Single Channel&#160;<br/>
Single Receive Channel&#160;<br/>
canuint8&#160;<b>ApplTpPrecopyCheck&#160;</b>( CanRxInfoStructPtr rxStruct )&#160;<br/>
Single Receive&#160;Buffer&#160;<br/>
canuint8&#160;<b>ApplTpPrecopyCheck&#160;</b>( CanReceiveHandle rxObject )&#160;<br/>
Multiple&#160;Receive&#160;Buffer&#160;<br/>
canuint8&#160;<b>ApplTpPrecopyCheck&#160;</b>( CanChipDataPtr rxRegPtr )&#160;<br/>
Multi&#160;Channel&#160;<br/>
Indexed (MRC)&#160;<br/>
canuint8&#160;<b>ApplTpPrecopyCheck&#160;</b>( CanRxInfoStructPtr rxStruct&#160;<br/>)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
137&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=138></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-138_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
Code&#160;replicated (SRB)&#160;<br/>
canuint8&#160;<b>ApplTpPrecopyCheck&#160;</b>( CanReceiveHandle rxObject )&#160;<br/>
Code&#160;replicated (MRB)&#160;<br/>
canuint8&#160;<b>ApplTpPrecopyCheck&#160;</b>( CanChipDataPtr rxRegPtr )&#160;<br/>
<b>Parameter&#160;<br/></b>rxObject&#160;<br/>
Handle&#160;of&#160;received&#160;object&#160;<br/>
rxRegPtr&#160;<br/>
Pointer&#160;to the received&#160;data&#160;in the&#160;CAN Controller receive register&#160;<br/>
rxStruct&#160;<br/>
Pointer&#160;to the receive structure&#160;<br/>
<b>Return&#160;code&#160;<br/></b>kCanCopyData&#160;<br/>
Received&#160;data&#160;will&#160;be copied using the CAN Driver 's&#160;internal&#160;copy&#160;mechanism&#160;<br/>
kCanNoCopyData&#160;<br/>
CAN Driver doesn’t copy&#160;data&#160;and&#160;doesn’t perform&#160;indication&#160;<br/>
<b>Availability&#160;</b><br/>
since versions:&#160;TPMC:&#160;2.35.00&#160;|&#160;CANgen:&#160;3.88.02&#160;|&#160;DBKOMgen:&#160;2.37.01&#160;<br/>
<b>Description&#160;</b><br/>
Special&#160;functions&#160;for the&#160;application,&#160;which&#160;is&#160;immediately&#160;called&#160;after the&#160;reception of&#160;a&#160;TP-CAN-message.&#160;<br/>If&#160;e.g.&#160;several&#160;CAN-Ids&#160;are&#160;defined&#160;in&#160;an&#160;ECU&#160;for the&#160;TP&#160;(gateway&#160;or multiple&#160;ECU)&#160;it has&#160;to be decided,&#160;<br/>before the&#160;TP&#160;is&#160;able to make use of&#160;the CAN-message,&#160;whether the&#160;current&#160;CAN-message should be&#160;<br/>processed&#160;or not&#160;depending on&#160;the&#160;CAN-ID.&#160;This&#160;user-&#160;check&#160;function&#160;can&#160;be&#160;used for it,&#160;which&#160;is&#160;called&#160;by&#160;<br/>the&#160;TP&#160;on&#160;each&#160;data reception.&#160;<br/>
If&#160;this&#160;function&#160;returns&#160;„1“, the&#160;CAN-message is&#160;processed&#160;by&#160;the&#160;TP.&#160;<br/>If&#160;this&#160;function&#160;returns&#160;„0“, the&#160;CAN-&#160;message is&#160;dismissed&#160;by&#160;the&#160;TP&#160;and&#160;the&#160;process&#160;is&#160;finished.&#160;<br/>
The&#160;name of&#160;this&#160;callback-function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
138&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=139></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-139_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.4.1.2&#160;</b><br/>
<b>ApplTpCheckTA:&#160;&#160;Check&#160;if Target&#160;Address&#160;is&#160;valid (version &lt;=&#160;2.72.00)&#160;</b><br/>
<b>ApplTpCheckTA&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplTpCheckTA</b>&#160;(vuint8 tpCurrentTargetAddress)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplTpCheckTA</b>&#160;(vuint8 tpCurrentTargetAddress)&#160;<br/>
SingleConnectionTp&#160;GATEWAY&#160;API&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplTpCheckTA</b>&#160;(vuint8 tpCurrentTargetAddress,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;CanRxInfoStructPtr infoStruct)&#160;<br/>
MultipeConnectionTP&#160;GATEWAY&#160;API&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplTpCheckTA</b>&#160;(vuint8 tpCurrentTargetAddress,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;CanRxInfoStructPtr infoStruct)&#160;<br/>
<b>Parameter&#160;<br/></b>tpCurrentTargetAddress&#160;&#160;-&#160;<br/>infoStruct&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for&#160;TP&#160;versions&#160;less&#160;than&#160;or equal&#160;to 2.72.00.&#160;See&#160;also chapter<a href="TechnicalReference_TransportProtocolMultiConnections.html#140">&#160;&#160;4.4.1.3&#160;</a>for the changed&#160;API&#160;description&#160;<br/>available since version&#160;2.73.00.&#160;<br/>
Only&#160;for dynamic&#160;TP&#160;classes: Extended-&#160;and&#160;Normal&#160;Fixed&#160;Addressing&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;will&#160;be&#160;called&#160;for every&#160;reception&#160;of&#160;a&#160;TP-CAN-message.&#160;Within this&#160;function the application&#160;has&#160;<br/>to&#160;decide,&#160;if&#160;the&#160;TargetAddress&#160;in the received&#160;CAN-frame is&#160;valid.&#160;If&#160;the&#160;TargetAddress&#160;is&#160;not&#160;valid and&#160;<br/>should not be&#160;received the&#160;return&#160;value&#160;must be ‘kTpNoChannel’.&#160;If&#160;it should&#160;be&#160;received&#160;the&#160;TargetAddress&#160;<br/>should be&#160;returned.&#160;See also chapt<a href="TechnicalReference_TransportProtocolMultiConnections.html#168">er&#160;7.4.1&#160;Virtual&#160;ECU’s&#160;/&#160;‘Multiple&#160;EcuNumber’&#160;feature.</a>&#160;<br/>
The&#160;name of&#160;this&#160;callback-function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
Until&#160;versions:&#160;TPMC:&#160;2.35.00&#160;|&#160;CANgen:&#160;3.88.02&#160;|&#160;DBKOMgen:&#160;2.37.01the&#160;function&#160;name was&#160;called&#160;<br/>ApplTpPrecopy()<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
139&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=140></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-140_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.4.1.3&#160;</b><br/>
<b>ApplTpCheckTA:&#160;&#160;Check&#160;if Target&#160;Address&#160;is&#160;valid (since&#160;version 2.73.00)&#160;</b><br/>
<b>&#160;</b><br/>
<b>ApplTpCheckTA&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
t_ta_type&#160;<b>ApplTpCheckTA</b>&#160;(vuint8 tpCurrentTargetAddress)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
t_ta_type&#160;<b>ApplTpCheckTA</b>&#160;(vuint8 tpCurrentTargetAddress)&#160;<br/>
SingleConnectionTp&#160;GATEWAY&#160;API&#160;<br/>
&#160;<br/>
t_ta_type&#160;<b>ApplTpCheckTA</b>&#160;(vuint8 tpCurrentTargetAddress,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;CanRxInfoStructPtr infoStruct)&#160;<br/>
MultipeConnectionTP&#160;GATEWAY&#160;API&#160;<br/>
&#160;<br/>
t_ta_type&#160;<b>ApplTpCheckTA</b>&#160;(vuint8 tpCurrentTargetAddress,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;CanRxInfoStructPtr infoStruct)&#160;<br/>
<b>Parameter&#160;<br/></b>tpCurrentTargetAddress&#160;&#160;-&#160;<br/>infoStruct&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>t_ta_type&#160;<br/>
typedef enum&#160;&#160;<br/>{&#160;<br/>&#160;&#160;kTpNone = 0,&#160;<br/>&#160;&#160;kTpPhysical = 1,&#160;<br/>&#160;&#160;kTpFunctional = 2&#160;<br/>} t_ta_type;&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for&#160;TP&#160;versions&#160;greater&#160;than&#160;or equal&#160;to&#160;2.73.00.&#160;See&#160;also&#160;the&#160;former&#160;API&#160;description&#160;in&#160;chapter<a href="TechnicalReference_TransportProtocolMultiConnections.html#139">&#160;&#160;4.4.1.2&#160;</a><br/>
Only&#160;for dynamic&#160;TP&#160;classes: Extended-&#160;and&#160;Normal&#160;Fixed&#160;Addressing&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;will&#160;be&#160;called&#160;for every&#160;reception&#160;of&#160;a&#160;TP-CAN-message.&#160;Within this&#160;function the application&#160;has&#160;<br/>to&#160;decide,&#160;if&#160;the&#160;TargetAddress&#160;in the received&#160;CAN-frame is&#160;valid and&#160;if&#160;it is&#160;a&#160;physical&#160;or functional&#160;identifer..&#160;&#160;<br/>If&#160;the&#160;TargetAddress&#160;is&#160;not&#160;valid&#160;and should&#160;not&#160;be&#160;received&#160;the&#160;return&#160;value&#160;must&#160;be&#160;‘kTpNone’.&#160;&#160;<br/>
If&#160;the&#160;TargetAddress&#160;is&#160;identified&#160;as&#160;a&#160;physical&#160;identifier&#160;then&#160;‘kTpPhysical’&#160;should&#160;be&#160;returned.&#160;&#160;<br/>If&#160;the&#160;TargetAddress&#160;is&#160;identified&#160;as&#160;a&#160;functional&#160;identifier then&#160;‘kTpFunctional’&#160;should&#160;be&#160;returned.&#160;&#160;<br/>
See&#160;also chapt<a href="TechnicalReference_TransportProtocolMultiConnections.html#168">er&#160;7.4.1&#160;Virtual&#160;ECU’s&#160;/&#160;‘Multiple&#160;EcuNumber’&#160;feature.</a>&#160;<br/>
The&#160;name of&#160;this&#160;callback-function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
140&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=141></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-141_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
Until&#160;versions:&#160;TPMC:&#160;2.35.00&#160;|&#160;CANgen:&#160;3.88.02&#160;|&#160;DBKOMgen:&#160;2.37.01the&#160;function&#160;name was&#160;called&#160;<br/>ApplTpPrecopy()<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.4.1.4&#160;</b><br/>
<b>ApplTpRxSF:&#160;&#160;&#160;Reception of&#160;Single&#160;Frame&#160;</b><br/>
<b>ApplTpRxSF&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxSF</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxSF</b>(vuint8 channel)&#160;<br/>
<b>Parameter&#160;</b><br/>
channel&#160;<br/>
-&#160;<br/>
<b>Return code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restriction&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;called after&#160;the&#160;reception of&#160;a&#160;single-frame.&#160;ApplTpRxGetBuffer()&#160;will&#160;be&#160;called&#160;before.&#160;<br/>
The&#160;name of&#160;this&#160;callback-function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
141&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=142></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-142_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.4.1.5&#160;</b><br/>
<b>ApplTpRxFF:&#160;&#160;&#160;Reception of&#160;First Frame&#160;</b><br/>
<b>ApplTpRxFF&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxFF</b>&#160;(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxFF</b>(vuint8 channel)&#160;<br/>
<b>Parameter&#160;</b><br/>
channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restriction&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;called after&#160;the&#160;reception of&#160;a&#160;first-frame.&#160;ApplTpRxGetBuffer()&#160;will&#160;be&#160;called before.&#160;<br/>
The&#160;name of&#160;this&#160;callback&#160;function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.4.1.6&#160;</b><br/>
<b>ApplTpRxCF:&#160;&#160;&#160;Reception of&#160;Consecutive&#160;Frame&#160;</b><br/>
<b>ApplTpRxCF&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxCF</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxCF</b>(vuint8 channel)&#160;<br/>
<b>Parameter&#160;</b><br/>
channel&#160;<br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
142&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=143></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-143_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restriction&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;called after&#160;the&#160;reception of&#160;a&#160;consecutive-frame.&#160;<br/>
The&#160;name of&#160;this&#160;callback&#160;function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.4.1.7&#160;</b><br/>
<b>ApplTpRxCanMessageReceived:&#160;&#160;&#160;Reception of CAN-Frame&#160;</b><br/>
<b>ApplTpRxCanMessageReceived&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxCanMessageReceived</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxCanMessageReceived</b>(vuint8 channel)&#160;<br/>
<b>Parameter&#160;</b><br/>
channel&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
until&#160;versions:&#160;TPMC:&#160;2.35.00&#160;CANgen:&#160;3.88.02&#160;DBKOMgen:&#160;2.37.01&#160;<br/>
Will&#160;be&#160;not supported&#160;in the&#160;future.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160; is&#160;called&#160;after&#160;the reception&#160;of&#160;a&#160;CAN-frame and&#160;is&#160;normally&#160;used&#160;only&#160;in&#160;gateways.&#160;<br/>
The&#160;name of&#160;this&#160;callback&#160;function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
143&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=144></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-144_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>4.4.1.8&#160;</b><br/>
<b>ApplTpRxGetBuffer:&#160;&#160;&#160;Assign a&#160;buffer to a&#160;channel&#160;</b><br/>
<b>TpTxSetStrictFlowControl&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
unsigned char*&#160;<b>ApplTpRxGetBuffer</b>(vuint16 dataLength)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
unsigned char*&#160;<b>ApplTpRxGetBuffer</b>(vuint8 channel,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160; &#160; &#160;&#160;vuint16 dataLength)&#160;<br/>
SingleConnectionTp&#160;GATEWAY&#160;API&#160;<br/>
&#160;<br/>
unsigned char*&#160;<b>ApplTpRxGetBuffer</b>(vuint16 dataLength&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;CanRxInfoStructPtr rxStruct)&#160;<br/>
MultipeConnectionTP&#160;GATEWAY&#160;API&#160;<br/>
&#160;<br/>
unsigned char*&#160;<b>ApplTpRxGetBuffer</b>(vuint8 channel,&#160;<br/>&#160;&#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint16 dataLength&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;CanRxInfoStructPtr rxStruct)&#160;<br/>
<b>Parameter&#160;<br/></b>dataLength&#160;<br/>
-&#160;<br/>
channel&#160;&#160;<br/>
&#160;<br/>
rxStruct&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>usigned char&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restriction&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;called after&#160;reception of&#160;the first data&#160;to&#160;get&#160;a buffer&#160;with a&#160;minimum&#160;length&#160;of&#160;dataLength&#160;<br/>from&#160;the application.&#160;The&#160;application&#160;has&#160;to&#160;return&#160;a pointer to this&#160;buffer. If&#160;the returned&#160;pointer is&#160;NULL, the&#160;<br/>transport-message will&#160;not&#160;be&#160;received&#160;anymore.&#160;<br/>
The&#160;name of&#160;this&#160;callback&#160;function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
144&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=145></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-145_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.4.1.9&#160;</b><br/>
<b>ApplTpRxCopyFromCAN:&#160;&#160;&#160;Application Copy&#160;Function&#160;</b><br/>
<b>ApplTpRxCopyFromCAN&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxCopyFromCan</b>(vuint8 * source,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint16 count)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxCopyFromCan</b>(vuint8 channel,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 * source,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint16 count)&#160;<br/>
<b>Parameter&#160;</b><br/>
Source&#160;<br/>
-&#160;<br/>
Count&#160;<br/>
&#160;<br/>
channel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restriction&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;buffer&#160;management is&#160;done&#160;by&#160;the application.&#160;This&#160;function&#160;is&#160;always&#160;called&#160;by&#160;the&#160;Transport Protocol&#160;<br/>while receiving a&#160;TP-CAN-message.&#160;<br/>
The&#160;argument&#160;<b>source</b>&#160;points&#160;to&#160;the&#160;receive&#160;buffer of&#160;the CAN-controller; the&#160;argument&#160;<b>count</b>&#160;determines&#160;<br/>number&#160;of&#160;data,&#160;which has&#160;to&#160;be&#160;copied&#160;by&#160;the&#160;application&#160;function.&#160;<br/>
The&#160;name of&#160;this&#160;callback-function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
145&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=146></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-146_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;<br/></b>void ApplTpRxCopyFromCan(vuint8 channel, vuint8 * source, vuint16 count)&#160;<br/>{&#160;<br/>&#160;&#160;(void)memcpy(&amp;(TpRxGetDataBuffer(channel)[TpRxGetDataIndex(channel)]),&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;source, count);&#160;<br/>}&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.4.1.10&#160;&#160;ApplTpRxIndication:&#160;&#160;&#160;Reception&#160;closed&#160;&#160;successful&#160;</b><br/>
<b>ApplTpRxIndication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxIndication</b>(vuint16 dataLength)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxIndication</b>(vuint8 channel,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;vuint16 dataLength)&#160;<br/>
<b>Parameter&#160;</b><br/>
dataLength&#160;<br/>
-&#160;<br/>
channel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restriction&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;called after&#160;the&#160;completely&#160;reception&#160;of&#160;a&#160;single frame&#160;message or&#160;a&#160;multiple frame&#160;<br/>message.&#160;dataLength&#160;is&#160;the&#160;number&#160;of&#160;received&#160;bytes&#160;in the&#160;reception&#160;buffer.&#160;&#160;<br/>
The&#160;name of&#160;this&#160;callback&#160;function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;<br/></b>-&#160;<br/>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
146&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=147></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-147_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.4.1.11&#160;&#160;ApplTpRxErrorIndication:&#160;&#160;&#160;Reception closed&#160;with error&#160;</b><br/>
<b>ApplTpRxErrorIndication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxErrorIndication</b>(vuint8 errorCode)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpRxErrorIndication</b>(vuint8 channel,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 errorCode)&#160;<br/>
<b>Parameter&#160;</b><br/>
errorCode&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>kTpRxErrFF_SfreceivedAgain:&#160;While a&#160;reception&#160;is&#160;in progress a&#160;<br/>
new&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Single-&#160;or&#160;FirstFrame&#160;is&#160;received,&#160;because&#160;the&#160;running&#160;reception&#160;will&#160;<br/>
be&#160;canceled&#160;and&#160;set&#160;up&#160;new.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpRxErrWrongSNreceived:&#160;&#160;&#160;&#160;A&#160;ConsecutiveFrame&#160;with a&#160;wrong&#160;<br/>
SequenceNumber&#160;is&#160;received,&#160;because of&#160;the&#160;current&#160;reception will&#160;<br/>be canceled.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpRxErrCFTimeout:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;An&#160;awaited&#160;ConsecutiveFrame&#160;is&#160;not&#160;<br/>
received&#160;in the&#160;right&#160;time&#160;and a&#160;timeout&#160;occurs.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpRxErrConfIntTimeout:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;The FlowControl&#160;could not&#160;<br/>
transmitted&#160;within the&#160;necessary&#160;time&#160;and&#160;a&#160;(confirmation)&#160;timeout&#160;<br/>occurs.&#160;<br/>
channel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restriction&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;will&#160;be&#160;called&#160;if&#160;an&#160;error occurs&#160;on&#160;the channel.&#160;The&#160;channel&#160;will&#160;be reinitialized afterwards.&#160;<br/>
The&#160;name of&#160;this&#160;callback&#160;function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;<br/></b>-&#160;<br/>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
147&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=148></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-148_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.4.1.12&#160;&#160;ApplTpRxGetTxID:&#160;&#160;Get CAN Transmit Id&#160;</b><br/>
<b>ApplTpRxGetTxID&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
-&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint16&#160;<b>ApplTpRxGetTxID</b>(vuint16 receiveId)&#160;<br/>
<b>Parameter&#160;</b><br/>
receiveId&#160;&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Only&#160;for dynamic&#160;TP&#160;classes: Normal&#160;Addressing&#160;<br/>
Insert:&#160;<br/>#define TP_USE_TX_ID_APPL_CHECK kTpOn&#160;&#160;<br/>
in a&#160;user-config file&#160;to&#160;use this&#160;feature.&#160;<br/>
!!!&#160;Attention: Only&#160;until&#160;TPMC version&#160;2.60.00&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;called after&#160;reception of&#160;a&#160;First-Frame,&#160;to&#160;get the&#160;Transmit-ID for the FlowControl.&#160;<br/>
The&#160;name of&#160;this&#160;callback&#160;function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;<br/></b>-&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
148&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=149></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-149_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.4.2&#160;</b><br/>
<b>Reception side&#160;for functional&#160;messages&#160;</b><br/>
Only&#160;available&#160;if&#160;a&#160;functional connection&#160;group&#160;exists.&#160;<br/>
&#160;<br/>
<b>4.4.2.1&#160;</b><br/>
<b>ApplFuncTpPrecopy:&#160;&#160;Check&#160;if Target&#160;Address&#160;is&#160;valid&#160;</b><br/>
<b>ApplFuncTpPrecopy&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Normal&#160;Fixed&#160;addressing,&#160;Extended addressing:&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplFuncTpPrecopy</b>&#160;(vuint8 tpCurrentTargetAddress)&#160;<br/>
Normal&#160;Fixed&#160;addressing,&#160;Extended addressing&#160;with GATEWAY&#160;-&#160;API:&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplFuncTpPrecopy</b>&#160;(vuint8 tpCurrentTargetAddress,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;CanRxInfoStructPtr infoStruct)&#160;<br/>
Mixed&#160;addressing:&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplFuncTpPrecopy</b>&#160;(vuint8 tpCurrentTargetAddress,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 tpCurrentAddressExtension)&#160;<br/>
Mixed&#160;addressing&#160;with GATEWAY&#160;-&#160;API:&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplFuncTpPrecopy</b>&#160;(vuint8 tpCurrentTargetAddress,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 tpCurrentAddressExtension,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;CanRxInfoStructPtr infoStruct)&#160;<br/>
<b>Parameter&#160;</b><br/>
tpCurrentTargetAddress&#160;<br/>
Contains&#160;the&#160;N_TA&#160;byte&#160;of&#160;the received&#160;message.&#160;<br/>
tpCurrentAddressExtension&#160;<br/>
Contains&#160;the&#160;N_AE&#160;byte&#160;of&#160;the received&#160;message.&#160;<br/>
infoStruct&#160;<br/>
Pointer&#160;to a&#160;data structure&#160;containing&#160;more information&#160;concerning&#160;the&#160;<br/>received&#160;message (e.g.&#160;Raw&#160;Id,&#160;DLC).&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
For&#160;TP&#160;classes:&#160;Extended-,&#160;Normal&#160;Fixed-&#160;and Mixed-&#160;Addressing.&#160;<br/>
If&#160;a&#160;functional&#160;connection&#160;groups&#160;exists&#160;and&#160;a callback&#160;name is&#160;configured.&#160;The&#160;default callback&#160;name used&#160;<br/>is&#160;“TpFuncCheckTA”.&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;will&#160;be&#160;called&#160;for every&#160;reception&#160;of&#160;a&#160;functional&#160;TP-CAN-message.&#160;Within this&#160;function the&#160;<br/>application&#160;has&#160;to decide, if&#160;the&#160;TargetAddress&#160;/&#160;AddressExtension&#160;in&#160;the&#160;received&#160;CAN-frame is&#160;valid.&#160;&#160;<br/>
If&#160;the&#160;TargetAddress/AddressExtension&#160;is&#160;not&#160;valid&#160;and should&#160;not&#160;be&#160;received&#160;the return&#160;value must be&#160;<br/>‘kTpNoChannel’. &#160;If&#160;it should be received&#160;the&#160;TargetAddress&#160;should be&#160;returned.&#160;&#160;<br/>
If&#160;the Multiple EcuNumber&#160;feature&#160;is&#160;used,&#160;then&#160;the&#160;concerning EcuNumber&#160;must be returned.&#160;<br/>
The&#160;name of&#160;this&#160;callback-function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
149&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=150></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-150_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
-&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.4.3&#160;</b><br/>
<b>Transmission side&#160;</b><br/>
<b>4.4.3.1&#160;</b><br/>
<b>ApplTpTxFC:&#160;&#160;&#160;Reception of&#160;a&#160;Flow&#160;Control&#160;Frame&#160;</b><br/>
<b>ApplTpTxFC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpTxFC</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpTxFC</b>(vuint8 channel)&#160;<br/>
<b>Parameter&#160;</b><br/>
receiveId&#160;&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
since versions:&#160;TPMC:&#160;2.35.00&#160;CANgen:&#160;3.88.02&#160;DBKOMgen:&#160;2.37.01&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;called after&#160;the&#160;reception of&#160;a&#160;FlowControl-frame.&#160;<br/>
The&#160;name of&#160;this&#160;callback-function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;<br/></b>-&#160;<br/>&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
150&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=151></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-151_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.4.3.2&#160;</b><br/>
<b>ApplTpTxCanMessageTransmitted:&#160;&#160;CAN-Message&#160;transmitted&#160;</b><br/>
<b>ApplTpTxCanMessageTransmitted&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpTxCanMessageTransmitted</b>(void)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpTxCanMessageTransmitted</b>(vuint8 channel)&#160;<br/>
<b>Parameter&#160;</b><br/>
channel&#160;&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No description&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;called each&#160;time after a successful&#160;transmission&#160;of&#160;an&#160;CAN-message&#160;/ frame (only&#160;for&#160;TX&#160;<br/>connections&#160;-&#160;.this&#160;will&#160;mean for SF; FF; CF and&#160;not for&#160;FC&#160;messages)&#160;<br/>
The&#160;name of&#160;this&#160;callback&#160;function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;<br/></b>-&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.4.3.3&#160;</b><br/>
<b>ApplTpTxNotification:&#160;&#160;&#160;CAN-Frame&#160;transmitted&#160;</b><br/>
<b>ApplTpTxNotification&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpTxNotification</b>(vuint8 count)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpTxNotification</b>(vuint8 channel,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;vuint8 count)&#160;<br/>
<b>Parameter&#160;</b><br/>
channel&#160;&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
151&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=152></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-152_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-152_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
count&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No restriction&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;called each&#160;time after sending&#160;Tp-Frames&#160;except “Single-Frames”&#160;and the&#160;“last&#160;<br/>Consecutive-Frame”.&#160;Count<b>&#160;</b>is&#160;the&#160;number&#160;of&#160;transmitted&#160;data.&#160;<br/>
The&#160;name of&#160;this&#160;callback&#160;function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Examples&#160;<br/></b>-&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.4.3.4&#160;</b><br/>
<b>ApplTpTxCopyToCAN:&#160;&#160;&#160;Application Copy&#160;Function (&#160;16BIT Controller)&#160;&#160;</b><br/>
<b>ApplTpTxCopyToCAN&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplTpTxCopyToCAN</b>(TpCopyToCanInfoStructPtr infoStruct)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplTpTxCopyToCAN</b>(TpCopyToCanInfoStructPtr infoStruct)&#160;<br/>
<b>Parameter&#160;</b><br/>
infoStruct&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
If&#160;everything&#160;is&#160;fine&#160;return ‘kTpSucces<b>’&#160;</b>otherwise<b>&#160;‘</b>kTpFailed’<b>.</b>&#160;<br/>
<b>Availability&#160;</b><br/>
No restriction&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
152&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=153></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-153_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;buffer&#160;management is&#160;done&#160;by&#160;the application.&#160;This&#160;function&#160;is&#160;always&#160;called&#160;by&#160;the&#160;Transport Protocol&#160;<br/>before sending&#160;a&#160;TP-CAN-message.&#160;<br/>
The&#160;parameter&#160;is&#160;a&#160;pointer&#160;to&#160;the following&#160;structure:&#160;<br/>
struct&#160;tTpCopyToCanInfoStruct_s&#160;<br/>
{&#160;<br/>
&#160;&#160;canuint8&#160;&#160;&#160;Channel;&#160;&#160;&#160;&#160;&#160;&#160;/*&#160;TP&#160;Channel*/&#160;<br/>
&#160;&#160;canuint8* &#160;pDestination;&#160;/* Pointer to&#160;destination&#160;buffer */&#160;<br/>
&#160;&#160;canuint8* &#160;pSource;&#160;&#160;&#160;&#160;&#160;&#160;/*Pointer to&#160;linear source&#160;buffer*/&#160;<br/>
&#160;&#160;canuint16&#160;&#160;Length;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*&#160;The&#160;maximum&#160;length&#160;to&#160;copy&#160;*/&#160;<br/>
};&#160;<br/>
The&#160;name of&#160;this&#160;callback-function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
Since&#160;version&#160;2.35 the&#160;TPMC component&#160;tries&#160;to&#160;call&#160;ApplTpCopyToCAN()&#160;again and again until&#160;<br/>kTpSuccess&#160;is&#160;returned&#160;or&#160;‘CAN message confirmation timeout’&#160;occurs.<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
vuint8&#160;ApplTpCopyToCan(TpCopyToCanInfoStructPtr infoStruct)&#160;<br/>{&#160;<br/>
&#160;&#160;(void)memcpy( infoStruct-&gt;pDestination, infoStruct-&gt;pSource,&#160;&#160;<br/>&#160;&#160;infoStruct-&gt;Length);&#160;<br/>&#160;&#160;return kTpSuccess;&#160;<br/>
}&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.4.3.5&#160;</b><br/>
<b>ApplTpTxCopyToCAN:&#160;&#160;&#160;Application Copy&#160;Function&#160;(8BIT Controller)&#160;&#160;</b><br/>
<b>ApplTpTxCopyToCAN&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplTpTxCopyToCAN</b>(vuint8 offset,&#160;&#160;&#160;&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;&#160;&#160; &#160;&#160;vuint8 count)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplTpTxCopyToCAN</b>(vuint8 channel,&#160;&#160;&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 offset,&#160;&#160;&#160;&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;&#160;&#160; &#160;&#160;vuint8 count)&#160;<br/>
<b>Parameter&#160;</b><br/>
Offset&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
153&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=154></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-154_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-154_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-154_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-154_4.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
Count&#160;<br/>
&#160;<br/>
channel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>vuint8&#160;<br/>
If&#160;everything&#160;is&#160;fine&#160;return&#160;kTpSuccess<b>&#160;</b>otherwise<b>&#160;</b>kTpFailed<b>.</b>&#160;<br/>
<b>Availability&#160;</b><br/>
<b>Caution&#160;<br/></b>Only&#160;until&#160;TPMC&#160;version&#160;2.49.00.&#160;<br/>
&#160;<br/>
&#160;<br/>
Since&#160;TPMC&#160;version&#160;2.50.00 the&#160;API&#160;described i<a href="TechnicalReference_TransportProtocolMultiConnections.html#152">n&#160;4.4.3.4&#160;“ApplTpTxCopyToCAN: &#160;&#160;Application&#160;Copy&#160;<br/>Function (&#160;16BIT&#160;Controller)”</a>&#160;is&#160;used&#160;instead.&#160;<br/>
<b>Description&#160;</b><br/>
The&#160;buffer&#160;management is&#160;done&#160;by&#160;the application.&#160;This&#160;function&#160;is&#160;always&#160;called&#160;by&#160;the&#160;Transport Protocol&#160;<br/>before sending&#160;a&#160;TP-CAN-message.&#160;<br/>
The&#160;argument&#160;offset&#160;determines&#160;the offset&#160;into&#160;the&#160;sending&#160;buffer of&#160;CAN Driver&#160;(Offset=0..7);&#160;the&#160;<br/>argument “count” determines&#160;number&#160;of&#160;data,&#160;which&#160;has&#160;to&#160;be copied&#160;by&#160;the&#160;application&#160;function.&#160;<br/>
The name of&#160;this&#160;callback&#160;function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
Since&#160;version&#160;2.35 the&#160;TPMC component&#160;tries&#160;to&#160;call&#160;ApplTpCopyToCAN()&#160;again and again until&#160;<br/>kTpSuccess&#160;is&#160;returned&#160;or&#160;‘CAN message confirmation timeout’&#160;occurs.&#160;<br/>
TpTxData(channel)<b>&#160;</b>can&#160;be&#160;used to&#160;access&#160;the transmit buffer of&#160;the CAN-driver.&#160;<br/>
<b>Caution&#160;<br/></b>Do not access&#160;the transmit buffer of&#160;the CAN-driver elsewhere&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>Examples&#160;<br/></b>vuint8 ApplTpCopyToCan(vuint8&#160;channel,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 offset,&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;vuint8 length)&#160;<br/>{&#160;<br/>&#160;&#160;(void)memcpy( &amp;TpTxData(channel)[ offset ],&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&amp;TpTxGetDataBuffer(channel)[TpTxGetDataIndex(channel)],&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;length); &#160; &#160;&#160;<br/>&#160;&#160;return kTpSuccess;&#160;<br/>}&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
154&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=155></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-155_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.4.3.6&#160;</b><br/>
<b>ApplTpTxConfirmation:&#160;&#160;Transmission closed successful&#160;</b><br/>
<b>ApplTpTxConfirmation&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpTxConfirmation</b>(vuint8 state)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpTxConfirmation</b>(vuint8 channel,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;vuint8 state)&#160;<br/>
<b>Parameter&#160;</b><br/>
State&#160;<br/>
&#160;<br/>
cannel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
No description&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;is&#160;called after&#160;a single-&#160;or a multiple-frame message is&#160;transmitted completely.&#160;&#160;<br/>
The&#160;state&#160;condition is&#160;given&#160;as&#160;a&#160;parameter&#160;and can&#160;be&#160;analyzed&#160;by&#160;the application.&#160;Please&#160;note that&#160;this&#160;<br/>is&#160;intended&#160;for further usage,&#160;currently&#160;the&#160;delivered state&#160;is&#160;always&#160;kTpSuccess.&#160;<br/>
The&#160;name of&#160;this&#160;callback-function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
Currently&#160;the&#160;‘state’&#160;parameter&#160;is&#160;not used. So the default&#160;of&#160;this&#160;parameter&#160;is&#160;‘kTpSuccess’.<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
vuint8&#160;ApplTpCopyToCan(TpCopyToCanInfoStructPtr infoStruct)&#160;<br/>{&#160;<br/>
&#160;&#160;(void)memcpy( infoStruct-&gt;pDestination, infoStruct-&gt;pSource,&#160;&#160;<br/>&#160;&#160;infoStruct-&gt;Length);&#160;<br/>&#160;&#160;return kTpSuccess;&#160;<br/>
}&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
155&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=156></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-156_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>4.4.3.7&#160;</b><br/>
<b>ApplTpTxErrorIndication:&#160;&#160;Transmission closed&#160;with&#160;error&#160;&#160;</b><br/>
<b>ApplTpTxErrorIndication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplTpTxErrorIndication</b>(vuint8 errorCode)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
vuint8&#160;<b>ApplTpTxErrorIndication</b>(vuint8 channel,&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160; &#160; &#160; &#160;vuint8 errorCode)&#160;<br/>
<b>Parameter&#160;</b><br/>
errorCode&#160;<br/>
<b>&gt;&#160;&#160;</b>kTpTxErrFCTimeout:&#160;An&#160;awaited&#160;FlowControl&#160;timed&#160;out&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>kTpTxErrConfIntTimeout:&#160;A&#160;TP-CAN-massage&#160;could not&#160;transmitted&#160;<br/>
within the&#160;necessary&#160;time&#160;and a&#160;(confirmation)&#160;timeout&#160;occurs.&#160;<br/>
<b>&gt;&#160;&#160;</b>kTpTxErrFCWrongFlowStatus:&#160;An&#160;invalid FlowControl-frame is&#160;<br/>
received.&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Only&#160;with activated&#160;strict&#160;message&#160;flow&#160;<br/>checking&#160;(TP_USE_STRICT_MSG_FLOW_CHECKING&#160;must&#160;be&#160;set&#160;<br/>to&#160;kTpOn in&#160;a user-config&#160;file to&#160;activate&#160;this&#160;feature).&#160;<br/>
<b>&gt;&#160;&#160;</b>kTpTxErrWFTmaxOverrun:&#160;WFTmax&#160;wait&#160;frames&#160;are&#160;received&#160;now&#160;<br/>
(only&#160;for&#160;MCAN,&#160;if&#160;TP_ENABLE_MCAN&#160;is&#160;defined)&#160;<br/>
<b>&gt;&#160;&#160;</b>kTpTxErrFCOverrun:&#160;the&#160;receiver&#160;reported&#160;an&#160;Overrun,&#160;channel&#160;is&#160;<br/>
terminated&#160;<br/>
&#160;<br/>
Old error codes&#160;Old&#160;error codes&#160;since&#160;TPMC&#160;version&#160;2.35&#160;<br/>
<b>&gt;&#160;&#160;</b>kTpTxErrBufferUnderrun:&#160;Within the&#160;ApplTpCopyToCAN&#160;function&#160;a&#160;<br/>
buffer-underrun&#160;occurs.&#160;<br/>
cannel&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
Hold the&#160;channel:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kTpHoldChannel&#160;&#160;&#160;<br/>Reinitializing&#160;/&#160;free&#160;the&#160;channel:&#160;&#160;kTpFreeChannel&#160;<br/>
<b>Availability&#160;</b><br/>
No description&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;will&#160;be&#160;called&#160;if&#160;an&#160;error occurs&#160;on&#160;the channel.&#160;The&#160;application has&#160;now&#160;to&#160;decide&#160;if&#160;the&#160;<br/>channel&#160;should be reinitialized&#160;or hold for reusing&#160;it (only&#160;for dynamic&#160;TP&#160;classes&#160;necessary).&#160;<br/>
The&#160;name of&#160;this&#160;callback-function can&#160;be&#160;adjusted&#160;as&#160;desired&#160;in&#160;the&#160;Generation&#160;Tool.&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
156&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=157></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-157_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
Currently&#160;the&#160;‘state’&#160;parameter&#160;is&#160;not used. So the default&#160;of&#160;this&#160;parameter&#160;is&#160;‘kTpSuccess’.<b>&#160;</b><br/>
<b>Examples&#160;</b><br/>
vuint8 ApplTpCopyToCan(TpCopyToCanInfoStructPtr infoStruct)&#160;<br/>
{&#160;<br/>
&#160;&#160;(void)memcpy( infoStruct-&gt;pDestination, infoStruct-&gt;pSource,&#160;&#160;<br/>&#160;&#160;infoStruct-&gt;Length);&#160;<br/>&#160;&#160;return kTpSuccess;&#160;<br/>}&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.4.4&#160;</b><br/>
<b>Administrative&#160;Functions&#160;</b><br/>
<b>4.4.4.1&#160;</b><br/>
<b>ApplTpFatalError:&#160;Fatal&#160;Error&#160;</b><br/>
&#160;<br/>
<b>ApplTpFatalError&#160;</b><br/>
<b>Prototype&#160;</b><br/>
SingleConnectionTp&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpFatalError</b>(vuint8 errorCode)&#160;<br/>
MultipeConnectionTP&#160;<br/>
&#160;<br/>
void&#160;<b>ApplTpFatalError</b>(vuint8 errorCode)&#160;<br/>
<b>Parameter&#160;</b><br/>
errorCode&#160;<br/>
User assertions:&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpErrNoDynObjAtTpInit:&#160;Within&#160;TpInitPowerOn()&#160;it&#160;is&#160;not&#160;possible&#160;<br/>
to allocate&#160;the&#160;necessary&#160;transmit-objects&#160;from&#160;CAN-driver&#160;–&#160;please&#160;<br/>check&#160;initialization order&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpErrChannelNrTooHigh:&#160;Possible access&#160;of&#160;a&#160;invalid tpChannel&#160;–&#160;<br/>
please check&#160;your&#160;application calls&#160;of&#160;the&#160;TP-API.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpRxErrFcCanIdIsMissing:&#160;The&#160;CAN-ID&#160;of&#160;the&#160;FlowControl&#160;was&#160;<br/>
not&#160;set&#160;within the&#160;ApplTpRxGetBuffer()&#160;function&#160;for&#160;dynamic&#160;<br/>NormalAddressing&#160;–&#160;please&#160;check&#160;your&#160;application.&#160;<br/>
<b>&gt;&#160;&#160;</b>KtpTxErrDatalengthTooHigh:&#160;The&#160;application&#160;tried&#160;to&#160;transmit&#160;more&#160;<br/>
than&#160;4095&#160;bytes of&#160;data&#160;–&#160;please check&#160;your&#160;application.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpTxErrWrongFrameAtPretransmitSpecified:&#160;Internal&#160;state-<br/>
machine&#160;check&#160;–&#160;please&#160;get&#160;in contact&#160;with us.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpTxErrNoStateSpecified:&#160;Internal&#160;state-machine check&#160;–&#160;please&#160;<br/>
get&#160;in contact&#160;with us.&#160;<br/>
<b>&gt;&#160;&#160;</b>kTpRxErrNoStateSpecified:&#160;Internal&#160;state-machine check&#160;–&#160;please&#160;<br/>
get&#160;in contact&#160;with us.&#160;<br/>
<b>&gt;&#160;&#160;</b>kTpErrChannelNotInPreTransmitState:&#160;The&#160;application tried&#160;to&#160;<br/>
configure a&#160;not&#160;assigned&#160;tpChannel&#160;in a&#160;dynamic&#160;TP&#160;class&#160;–&#160;please&#160;<br/>check&#160;your&#160;application.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
157&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=158></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-158_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpErrWrongAddressingFormat:&#160;The&#160;application&#160;tried&#160;to&#160;configure a&#160;<br/>
tpChannel&#160;for&#160;a&#160;wrong&#160;AddressingMode (e.g.&#160;<br/>TpTxSetTargetAddress&#160;for&#160;NormalAddressing&#160;configured&#160;<br/>tpChannel)&#160;in a&#160;dynamic&#160;TP&#160;class&#160;–&#160;please&#160;check&#160;your&#160;application&#160;-&#160;<br/>please check&#160;your&#160;application.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpRxErrSetResponseWithoutFc:&#160;The&#160;function&#160;TpTxSetResponse()&#160;<br/>
is&#160;called&#160;for&#160;without-FC&#160;configured&#160;tpChannel&#160;-&#160;please check&#160;your&#160;<br/>application.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpTxErrSetResponseWithoutFc:&#160;The&#160;function&#160;TpTxSetResponse()&#160;<br/>
is&#160;called&#160;for&#160;without-FC&#160;configured&#160;tpChannel&#160;-&#160;please check&#160;your&#160;<br/>application.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpErrChannelNotInUse:&#160;The&#160;application&#160;tried&#160;to&#160;get&#160;information&#160;<br/>
about&#160;an&#160;unused&#160;tpChannel&#160;–&#160;please check&#160;your&#160;application.&#160;<br/>
&#160;Internal&#160;assertions:&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpErrChannelNrTooHigh:&#160;Possible access&#160;of&#160;a&#160;invalid tpChannel&#160;–&#160;<br/>
please check&#160;the&#160;stack-usage.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpRxErrNotInWaitCFState:&#160;Internal&#160;state-machine&#160;check&#160;–&#160;please&#160;<br/>
get&#160;in contact&#160;with us.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpErrChannelNotInUse:&#160;Internal&#160;state-machine&#160;check&#160;–&#160;please&#160;get&#160;<br/>
in contact&#160;with us.&#160;<br/>
<b>&gt;&#160;&#160;</b>KTpErrNoCanChannelFound:&#160;The&#160;CAN-driver&#160;confirmation&#160;function&#160;<br/>
is&#160;called&#160;with a&#160;wrong&#160;Handle,&#160;because&#160;it&#160;is&#160;not&#160;possible to calculate&#160;<br/>the&#160;corresponding CAN-channel&#160;–&#160;please&#160;get&#160;in&#160;contact&#160;with us.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>&#160;<br/>
-&#160;<br/>
<b>Availability&#160;</b><br/>
Until&#160;versions&#160;CANgen: 3.88.02&#160;DBKOMgen:&#160;2.37.01&#160;TP-assertions&#160;are activated&#160;if&#160;the “Debug&#160;level”&#160;in&#160;<br/>CAN-Driver&#160;includes&#160;“User”/”Internal”&#160;<br/>
<b>Description&#160;</b><br/>
This&#160;function&#160;will&#160;be&#160;called&#160;if&#160;a&#160;fatal&#160;error occurs.&#160;&#160;<br/>
The&#160;name of&#160;this&#160;callback&#160;function is&#160;not changeable&#160;<br/>
<b>Pre-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Post-condition(s)&#160;</b><br/>
-&#160;<br/>
<b>Call&#160;context&#160;</b><br/>
-&#160;<br/>
<b>Please&#160;note&#160;</b><br/>
-<b>&#160;</b><br/>
<b>Examples&#160;<br/></b>-&#160;<br/>&#160;<br/>
<b>&#160;</b>&#160;&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
158&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=159></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-159_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-159_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>5&#160;&#160;Transmission&#160;Attributes&#160;&amp;&#160;Callback&#160;functions&#160;</b><br/>
&#160;<br/>
Figure&#160;5-1&#160;Transmission&#160;attributes&#160;and&#160;callback&#160;functions&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
159&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=160></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-160_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>6&#160;&#160;Integration&#160;of&#160;CANbedded&#160;Components&#160;into&#160;a&#160;Customer&#160;Project&#160;</b><br/>
<b>6.1&#160;</b><br/>
<b>Requirements&#160;to the&#160;Customer System&#160;Environment&#160;</b><br/>
A&#160;&#160;customer&#160;&#160;system&#160;&#160;environment&#160;&#160;from&#160;&#160;the&#160;&#160;CANbedded&#160;&#160;component&#160;&#160;point&#160;&#160;of&#160;&#160;view&#160;&#160;is&#160;&#160;the&#160;<br/>environment&#160;&#160;(system&#160;architecture)&#160;&#160;where&#160;&#160;the&#160;&#160;component&#160;&#160;together&#160;&#160;with&#160;&#160;other&#160;&#160;CANbedded&#160;<br/>components,&#160;&#160;an&#160;&#160;operation&#160;&#160;system,&#160;&#160;startup&#160;&#160;code,&#160;&#160;system&#160;&#160;control&#160;&#160;software&#160;&#160;and&#160;&#160;the&#160;<br/>application&#160;is running.&#160;<br/>
To&#160;&#160;full&#160;&#160;fill&#160;&#160;the&#160;&#160;different&#160;&#160;requirements&#160;&#160;to&#160;&#160;the&#160;&#160;component&#160;&#160;architecture&#160;&#160;like&#160;&#160;small&#160;&#160;ROM&#160;&#160;and&#160;<br/>RAM&#160;&#160;footprint,&#160;&#160;short&#160;&#160;API&#160;&#160;runtime&#160;&#160;and&#160;&#160;short&#160;&#160;interrupt&#160;&#160;lock&#160;&#160;times&#160;&#160;(global&#160;&#160;and&#160;&#160;only&#160;<br/>CAN/LIN/others&#160;&#160;bus&#160;&#160;interrupts)&#160;&#160;during&#160;&#160;the&#160;&#160;API&#160;&#160;execution,&#160;&#160;some&#160;&#160;requirements&#160;&#160;to&#160;&#160;the&#160;<br/>customer’s&#160;system&#160;environment&#160;and&#160;the&#160;component&#160;usage&#160;in&#160;that&#160;system&#160;has&#160;to&#160;be&#160;given&#160;<br/>to&#160;and&#160;kept&#160;by&#160;the&#160;user.&#160;<br/>
The&#160;&#160;requirements&#160;&#160;and&#160;&#160;needs&#160;&#160;to&#160;&#160;use&#160;&#160;CANbedded&#160;&#160;components&#160;&#160;in&#160;&#160;a&#160;&#160;customer&#160;&#160;specific&#160;<br/>project&#160;are&#160;listed&#160;in&#160;this&#160;chapter.&#160;&#160;It&#160;is&#160;necessary&#160;to&#160;check&#160;the&#160;requirements,&#160;preconditions&#160;<br/>and&#160;needs&#160;carefully&#160;to&#160;guaranteed&#160;the&#160;correct&#160;and&#160;consistent&#160;usage&#160;of&#160;the&#160;software&#160;in&#160;the&#160;<br/>resulting&#160;&#160;system&#160;&#160;and&#160;&#160;to&#160;&#160;prevent&#160;&#160;malfunction&#160;&#160;and&#160;&#160;data&#160;&#160;consistency&#160;&#160;problems&#160;&#160;during&#160;&#160;the&#160;<br/>system&#160;execution&#160;(in&#160;the&#160;vehicle&#160;in&#160;the&#160;field).&#160;&#160;<br/>
<b>6.2&#160;</b><br/>
<b>Component Integration to the&#160;Customer Project&#160;</b><br/>
<b>6.2.1&#160;</b><br/>
<b>Requirements&#160;to the&#160;Component Initialization in a&#160;Customer&#160;Project&#160;</b><br/>
The&#160;&#160;correct&#160;&#160;sequence&#160;&#160;for&#160;&#160;all&#160;&#160;CANbedded&#160;&#160;component&#160;&#160;initialization&#160;&#160;calls&#160;&#160;(e.g.&#160;&#160;CAN&#160;&#160;Driver,&#160;<br/>network&#160;&#160;management,&#160;&#160;interaction&#160;&#160;layer&#160;&#160;…)&#160;&#160;depends&#160;on&#160;&#160;the&#160;&#160;needs&#160;&#160;for&#160;&#160;the&#160;&#160;whole,&#160;&#160;vehicle&#160;<br/>manufacturer specific integration&#160;package.&#160;Therefore the&#160;correct&#160;call&#160;location&#160;in&#160;the&#160;context&#160;<br/>to&#160;the&#160;other (CANbedded) power up&#160;initialization&#160;calls&#160;for this component&#160;is just&#160;a&#160;example.&#160;&#160;<br/>
The&#160;following&#160;rules&#160;are&#160;valid&#160;for&#160;each&#160;use&#160;case&#160;of&#160;a&#160;CANbedded&#160;component&#160;in&#160;a&#160;customer&#160;<br/>project&#160;and&#160;must&#160;be&#160;guaranteed&#160;to&#160;prevent&#160;faulty&#160;situations:&#160;<br/>
1)&#160;&#160;The&#160;&#160;component&#160;&#160;must&#160;&#160;be&#160;&#160;initialized&#160;&#160;after&#160;&#160;the&#160;&#160;primary&#160;&#160;CAN&#160;&#160;Driver&#160;&#160;initialization&#160;&#160;via&#160;<br/>
CanInitPowerOn().&#160;<br/>
2)&#160;&#160;The&#160;&#160;component&#160;&#160;must&#160;&#160;be&#160;&#160;initialized&#160;&#160;during&#160;&#160;the&#160;&#160;global&#160;&#160;interrupt&#160;&#160;is&#160;&#160;locked,&#160;&#160;to&#160;&#160;prevent&#160;<br/>
any&#160;&#160;interrupt&#160;&#160;occurrences&#160;&#160;during&#160;&#160;the&#160;&#160;initialization&#160;&#160;sequence&#160;&#160;of&#160;&#160;this&#160;&#160;and&#160;&#160;ALL&#160;&#160;other&#160;<br/>CANbedded&#160;&#160;modules.&#160;&#160;Therefore&#160;&#160;the&#160;&#160;requirement&#160;&#160;is&#160;&#160;to&#160;&#160;make&#160;&#160;sure&#160;&#160;the&#160;&#160;global&#160;<br/>interrupt&#160;&#160;is&#160;&#160;disabled&#160;&#160;during&#160;&#160;the&#160;&#160;whole&#160;&#160;initialization&#160;&#160;sequence&#160;&#160;of&#160;&#160;all&#160;&#160;CANbedded&#160;<br/>components&#160;(driver,&#160;IL,&#160;NM,&#160;TP,&#160;diagnostics&#160;…).&#160;<br/>
3)&#160;&#160;Please&#160;&#160;note,&#160;&#160;that&#160;&#160;the&#160;&#160;usage&#160;&#160;of&#160;&#160;CanDisableInterrupt&#160;&#160;and&#160;&#160;CanRestoreInterrupt&#160;&#160;is&#160;<br/>
incorrect&#160;to&#160;lock&#160;the&#160;global&#160;interrupt&#160;during&#160;the&#160;CANbedded&#160;initialization&#160;sequence.&#160;<br/>A&#160;customer project&#160;specific global interrupt&#160;lock and&#160;unlock&#160;is necessary.&#160;<br/>
4)&#160;&#160;The&#160;customer&#160;system&#160;architecture must&#160;guarantee&#160;that&#160;all&#160;CANbedded&#160;modules&#160;are&#160;<br/>
initialized&#160;&#160;before&#160;&#160;the&#160;&#160;first&#160;&#160;usage&#160;&#160;of&#160;&#160;any&#160;&#160;API&#160;&#160;or&#160;&#160;variable&#160;&#160;access&#160;&#160;in&#160;&#160;the&#160;&#160;customer’s&#160;<br/>application&#160;software is&#160;performed.&#160;<br/>
5)&#160;&#160;The&#160;&#160;call&#160;&#160;to&#160;&#160;the&#160;&#160;component&#160;&#160;initialization&#160;&#160;function&#160;&#160;TpInitPowerOn()&#160;&#160;will&#160;&#160;reset&#160;&#160;the&#160;<br/>
component&#160;&#160;state&#160;&#160;to&#160;&#160;the&#160;&#160;initial&#160;&#160;state.&#160;&#160;Therefore&#160;&#160;it&#160;&#160;is&#160;&#160;NOT&#160;&#160;recommended&#160;&#160;to&#160;&#160;call&#160;&#160;the&#160;<br/>component&#160;&#160;initialization&#160;&#160;function&#160;&#160;during&#160;&#160;the&#160;&#160;system&#160;&#160;runtime&#160;&#160;to&#160;&#160;e.g.&#160;&#160;terminate&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
160&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=161></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-161_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
something.&#160;Please&#160;check&#160;carefully,&#160;if&#160;the&#160;call&#160;to&#160;this&#160;API&#160;is&#160;valid&#160;(and&#160;helpful)&#160;in&#160;the&#160;<br/>planned&#160;application&#160;context.&#160;<br/>
6)&#160;&#160;Please&#160;&#160;note,&#160;&#160;that&#160;&#160;the&#160;&#160;call&#160;&#160;to&#160;&#160;the&#160;&#160;component&#160;&#160;initialization&#160;&#160;function&#160;&#160;may&#160;&#160;be&#160;&#160;runtime&#160;<br/>
consuming,&#160;&#160;especially&#160;&#160;if&#160;&#160;there&#160;&#160;are&#160;&#160;additional&#160;&#160;callbacks&#160;&#160;to&#160;&#160;the&#160;&#160;application&#160;&#160;are&#160;<br/>performed&#160;and&#160;that&#160;the&#160;global interrupts&#160;are&#160;locked&#160;during&#160;that&#160;time,&#160;too.&#160;<br/>
7)&#160;&#160;If&#160;an&#160;OSEK/OS&#160;is&#160;used,&#160;the&#160;basic&#160;initialization&#160;sequence&#160;has&#160;to&#160;be&#160;performed&#160;in&#160;the&#160;<br/>
startup-hook&#160;or,&#160;alternatively&#160;in&#160;an&#160;task&#160;used&#160;to&#160;initialized&#160;the&#160;whole&#160;system.&#160;Please&#160;<br/>check,&#160;that&#160;the&#160;global&#160;interrupt&#160;is&#160;locked&#160;during&#160;the&#160;startup&#160;hook&#160;execution&#160;to&#160;ensure&#160;<br/>the&#160;&#160;required&#160;&#160;data&#160;&#160;consistency.&#160;&#160;This&#160;&#160;is&#160;&#160;true&#160;&#160;for&#160;&#160;all&#160;&#160;osCAN&#160;&#160;OSEK&#160;&#160;but&#160;&#160;not&#160;&#160;for&#160;&#160;each&#160;<br/>OSEK/OS&#160;&#160;on&#160;&#160;the&#160;&#160;market.&#160;&#160;If&#160;&#160;the&#160;&#160;initialization&#160;&#160;is&#160;&#160;performed&#160;&#160;in&#160;&#160;a&#160;&#160;task,&#160;&#160;the&#160;&#160;interrupt&#160;<br/>must&#160;be&#160;locked&#160;by&#160;the&#160;user&#160;for&#160;each&#160;OSEK/OS&#160;implementation.&#160;<br/>
&#160;<br/>
<b>6.2.2&#160;</b><br/>
<b>Requirements&#160;to Component&#160;API&#160;Usage&#160;in a&#160;Customer Project&#160;</b><br/>
1)&#160;&#160;The&#160;&#160;CANbedded&#160;&#160;component&#160;&#160;needs&#160;&#160;a&#160;first&#160;&#160;initialization&#160;&#160;of&#160;&#160;all&#160;&#160;internal&#160;&#160;variables&#160;&#160;and&#160;<br/>
states&#160;via&#160;the&#160;call&#160;of&#160;the&#160;initialization&#160;API&#160;function&#160;TpInitPowerOn().&#160;It&#160;is&#160;not&#160;allowed&#160;<br/>to&#160;&#160;use&#160;&#160;any&#160;API&#160;&#160;or&#160;data&#160;&#160;structure&#160;&#160;of&#160;the&#160;&#160;component&#160;&#160;before&#160;&#160;the&#160;&#160;primary&#160;&#160;initialization&#160;<br/>has&#160;&#160;been&#160;&#160;performed.&#160;&#160;See&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_TransportProtocolMultiConnections.html#160">6.2.1&#160;&#160;Requirements&#160;&#160;to&#160;&#160;the&#160;&#160;Component&#160;<br/>Initialization&#160;in&#160;a&#160;Customer&#160;Project&#160;</a>for&#160;details&#160;to&#160;the&#160;component&#160;needs&#160;according&#160;to&#160;<br/>the&#160;initialization&#160;sequence.&#160;<br/>
2)&#160;&#160;The&#160;&#160;cyclic&#160;&#160;function(s)&#160;&#160;(e.g.&#160;&#160;TpRxTask()/TpTxTask())&#160;&#160;of&#160;&#160;a&#160;&#160;component&#160;&#160;must&#160;&#160;not&#160;&#160;be&#160;<br/>
called&#160;&#160;on&#160;&#160;interrupt&#160;&#160;level&#160;&#160;(e.g.&#160;&#160;the&#160;&#160;timer&#160;&#160;interrupt).&#160;&#160;It&#160;&#160;is&#160;&#160;strictly&#160;&#160;forbidden,&#160;&#160;that&#160;&#160;the&#160;<br/>cyclic&#160;called&#160;component&#160;API&#160;interrupts&#160;the&#160;component’s&#160;API&#160;functions&#160;running&#160;in&#160;the&#160;<br/>(CAN/LIN)&#160;&#160;interrupt&#160;&#160;context&#160;&#160;or&#160;&#160;an&#160;&#160;other&#160;&#160;component&#160;&#160;API’s.&#160;&#160;See&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">6.2.3.1&#160;<br/>Common&#160;Requirements&#160;</a>for details.&#160;<br/>
3)&#160;&#160;It&#160;is&#160;not&#160;allowed&#160;to&#160;call&#160;any&#160;CANbedded&#160;API&#160;function&#160;in&#160;the&#160;context&#160;of&#160;an&#160;interrupt,&#160;if&#160;<br/>
this is not&#160;explicitly&#160;allowed&#160;or required&#160;in&#160;this&#160;documentation.&#160;<br/>
4)&#160;&#160;Please&#160;&#160;refer&#160;&#160;to&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">6.2.3&#160;&#160;Requirements&#160;&#160;to&#160;&#160;the&#160;&#160;Customer&#160;&#160;Project&#160;&#160;Operating&#160;</a><br/>
<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">System&#160;</a>for&#160;the&#160;component&#160;requirements&#160;to&#160;the&#160;operating&#160;system.&#160;<br/>
&#160;<br/>
<b>6.2.3&#160;</b><br/>
<b>Requirements&#160;to the&#160;Customer Project Operating System&#160;</b><br/>
The&#160;operating&#160;system&#160;used&#160;in&#160;the&#160;customer&#160;project&#160;has&#160;to&#160;fulfill&#160;the&#160;rules&#160;listed&#160;in&#160;chapter&#160;<br/><a href="TechnicalReference_TransportProtocolMultiConnections.html#161">6.2.3.1&#160;Common&#160;Requirements&#160;</a>to&#160;guarantee&#160;data&#160;consistency&#160;of&#160;the&#160;internal&#160;and&#160;external&#160;<br/>component&#160;states and&#160;values.&#160;<br/>
<b>6.2.3.1&#160;</b><br/>
<b>Common Requirements&#160;</b><br/>
The&#160;&#160;component&#160;&#160;offers&#160;&#160;different&#160;&#160;API&#160;&#160;functions&#160;&#160;and&#160;&#160;global&#160;&#160;variable/state&#160;&#160;access&#160;&#160;to&#160;&#160;the&#160;<br/>application&#160;&#160;program.&#160;&#160;Some&#160;&#160;of&#160;&#160;these&#160;&#160;API&#160;&#160;functions&#160;&#160;are&#160;&#160;necessary&#160;&#160;to&#160;&#160;fulfill&#160;&#160;the&#160;&#160;basic&#160;<br/>functionality&#160;of&#160;the&#160;component.&#160;This&#160;is&#160;e.g.&#160;the&#160;initialization&#160;and&#160;the&#160;cyclic&#160;called&#160;function&#160;to&#160;<br/>realize&#160;the&#160;internal time&#160;base&#160;and&#160;the&#160;state&#160;handling.&#160;&#160;<br/>
The&#160;cyclic&#160;called&#160;API&#160;function&#160;TpRxTask()/TpTxTask()&#160;is&#160;also&#160;called&#160;TASK&#160;in&#160;the&#160;context&#160;of&#160;<br/>this&#160;&#160;chapter.&#160;&#160;Due&#160;&#160;to&#160;&#160;the&#160;&#160;need&#160;&#160;for&#160;&#160;fast&#160;&#160;(1&#160;&#160;-&#160;&#160;10ms)&#160;&#160;cyclic&#160;&#160;calls,&#160;&#160;this&#160;&#160;tasks&#160;&#160;are&#160;&#160;often&#160;&#160;called&#160;<br/>erroneously&#160;&#160;by&#160;&#160;calling&#160;&#160;this&#160;&#160;API&#160;&#160;function&#160;&#160;in&#160;&#160;an&#160;&#160;timer&#160;&#160;interrupt&#160;&#160;context.&#160;&#160;This&#160;&#160;is&#160;&#160;STRICTLY&#160;<br/>forbidden.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
161&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=162></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-162_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-162_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
The&#160;list&#160;below&#160;describes&#160;the&#160;common&#160;rules&#160;for&#160;all&#160;component&#160;API&#160;calls.&#160;The&#160;documentation&#160;<br/>of&#160;&#160;the&#160;API&#160;&#160;functions&#160;&#160;and&#160;&#160;the&#160;&#160;component&#160;&#160;callback&#160;functions&#160;&#160;describes&#160;&#160;the&#160;&#160;deviations&#160;from&#160;<br/>this rules&#160;if,&#160;e.g.&#160;the&#160;API&#160;is allowed&#160;to&#160;be&#160;called&#160;during&#160;the&#160;TASK&#160;is running.&#160;<br/>
<b>Please&#160;check&#160;carefully,&#160;if this&#160;restrictions&#160;are&#160;valid in&#160;your system:&#160;</b><br/>
<b>&gt;&#160;&#160;</b>API&#160;functions&#160;must&#160;not&#160;interrupt&#160;the&#160;(CAN/LIN) RX/TX&#160;interrupt&#160;service&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>API&#160;functions&#160;must&#160;not&#160;interrupt&#160;the&#160;TASK&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>API&#160;functions&#160;must&#160;not&#160;interrupt&#160;other&#160;API&#160;functions of&#160;the&#160;same&#160;component&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>TASK&#160;functions&#160;must&#160;not&#160;interrupt&#160;API&#160;functions of&#160;the&#160;same&#160;component&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;there are&#160;multiple&#160;TASK&#160;functions&#160;for&#160;a&#160;component:&#160;TASK&#160;function&#160;must&#160;not&#160;interrupt&#160;<br/>
other&#160;TASK&#160;functions&#160;of&#160;the&#160;same&#160;component&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>TASK&#160;functions&#160;must&#160;not&#160;interrupt&#160;the&#160;(CAN/LIN) RX/TX&#160;interrupt&#160;service&#160;functions&#160;<br/>
&#160;<br/>
<b>Info&#160;</b><br/>
<b>&gt;&#160;&#160;</b>API&#160;and&#160;TASK&#160;functions&#160;are&#160;protected&#160;against&#160;interruption&#160;by&#160;the&#160;(CAN/LIN)&#160;RX/TX&#160;<br/>
&#160;<br/>
interrupt&#160;service&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>There are no&#160;limitations&#160;for&#160;interruptions&#160;of&#160;the&#160;component&#160;API’s&#160;with other,&#160;<br/>
independent&#160;interrupt&#160;service functions&#160;(e.g.&#160;A/D&#160;converter,&#160;SIO&#160;lines,&#160;...)&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>6.2.3.2&#160;</b><br/>
<b>Round-Robin-Scheduler and Comparable&#160;OS&#160;Approaches&#160;</b><br/>
If&#160;the&#160;used&#160;operating&#160;system&#160;works&#160;like&#160;a&#160;round-robin&#160;scheduler&#160;or&#160;comparable&#160;and&#160;there&#160;<br/>is&#160;only&#160;one&#160;common&#160;call&#160;level&#160;for&#160;application&#160;and&#160;CANbedded&#160;APIs&#160;with&#160;additional,&#160;small&#160;<br/>interrupt&#160;handlers,&#160;the&#160;preconditions&#160;as described&#160;in&#160;chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#163">r&#160;6.2.3.4&#160;</a>should&#160;be&#160;valid.&#160;<br/>
&#160;<br/>
<b>6.2.3.3&#160;</b><br/>
<b>Usage&#160;of&#160;OSEK/OS&#160;</b><br/>
The&#160;&#160;component&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;together&#160;&#160;with&#160;&#160;an&#160;&#160;OSEK&#160;&#160;operating&#160;&#160;system.&#160;&#160;The&#160;&#160;component&#160;<br/>itself&#160;&#160;is&#160;&#160;operating&#160;&#160;system&#160;&#160;independent&#160;&#160;and&#160;&#160;can&#160;&#160;therefore&#160;&#160;be&#160;&#160;used&#160;&#160;together&#160;&#160;with&#160;&#160;an&#160;<br/>OSEK/OS,&#160;if&#160;the&#160;rules listed&#160;in&#160;chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">r&#160;6.2.3.1&#160;</a>are&#160;fulfilled.&#160;<br/>
OSEK/OS&#160;&#160;can&#160;&#160;be&#160;&#160;configured&#160;&#160;to&#160;&#160;4&#160;&#160;different&#160;&#160;setups&#160;&#160;(BCC1&#160;&#160;to&#160;&#160;ECC2).&#160;&#160;Depending&#160;&#160;on&#160;&#160;the&#160;<br/>selected&#160;&#160;setup,&#160;&#160;OSEK/OS&#160;&#160;is&#160;&#160;non-preemptive&#160;&#160;or&#160;&#160;(full-)preemptive.&#160;&#160;The&#160;&#160;preemptive&#160;&#160;setups&#160;<br/>are&#160;able&#160;to&#160;run&#160;non-preemptive&#160;and&#160;preemptive&#160;tasks.&#160;Please&#160;refer&#160;to&#160;the&#160;chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#163">rs&#160;6.2.3.4&#160;<br/>and&#160;6.2.3.5&#160;</a>for&#160;further details.&#160;<br/>
If&#160;&#160;an&#160;&#160;OSEK/OS&#160;&#160;is&#160;&#160;used,&#160;&#160;the&#160;&#160;basic&#160;&#160;initialization&#160;&#160;sequence&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;performed&#160;&#160;in&#160;&#160;the&#160;<br/>startup-hook&#160;or,&#160;alternatively&#160;in&#160;an&#160;task&#160;used&#160;to&#160;initialized&#160;the&#160;whole&#160;system.&#160;Please&#160;check,&#160;<br/>that&#160;the&#160;global&#160;interrupt&#160;is&#160;locked&#160;during&#160;the&#160;startup&#160;hook&#160;execution&#160;to&#160;ensure&#160;the&#160;required&#160;<br/>data&#160;&#160;consistency.&#160;&#160;This&#160;&#160;is&#160;&#160;true&#160;&#160;for&#160;&#160;all&#160;&#160;osCAN&#160;&#160;OSEK&#160;&#160;but&#160;&#160;not&#160;&#160;for&#160;&#160;each&#160;&#160;OSEK/OS&#160;&#160;on&#160;&#160;the&#160;<br/>market.&#160;If&#160;the&#160;initialization&#160;is&#160;performed&#160;in&#160;a&#160;task,&#160;the&#160;interrupt&#160;must&#160;be&#160;locked&#160;by&#160;the&#160;user&#160;<br/>for each&#160;OSEK/OS&#160;implementation.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
162&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=163></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-163_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>6.2.3.4&#160;</b><br/>
<b>Non-Preemptive&#160;Operating System&#160;</b><br/>
If&#160;&#160;an&#160;&#160;non-preemptive&#160;&#160;OS&#160;&#160;is&#160;&#160;used,&#160;&#160;there&#160;&#160;are&#160;&#160;no&#160;&#160;limitations&#160;&#160;to&#160;&#160;the&#160;&#160;usage&#160;&#160;of&#160;&#160;CANbedded&#160;<br/>component&#160;API’s&#160;on&#160;task/main&#160;level&#160;due&#160;to&#160;an&#160;task&#160;change&#160;is&#160;started&#160;by&#160;an&#160;OS-API&#160;call&#160;or&#160;<br/>by&#160;exiting&#160;a&#160;function&#160;called&#160;directly&#160;by&#160;the&#160;OS&#160;scheduler.&#160;&#160;Due&#160;to&#160;this&#160;there&#160;is&#160;no&#160;situation&#160;<br/>with&#160;possible&#160;dangerous interruptions of&#160;component&#160;API&#160;executions&#160;in&#160;this&#160;environment.&#160;&#160;<br/>
Non-preemptive&#160;approaches&#160;are&#160;using&#160;also&#160;interrupt&#160;handlers&#160;for&#160;e.g.&#160;CAN,&#160;LIN,&#160;A/D&#160;and&#160;<br/>D/A&#160;&#160;conversion&#160;&#160;and&#160;&#160;other&#160;&#160;things.&#160;&#160;Until&#160;&#160;the&#160;&#160;requirements&#160;&#160;listed&#160;&#160;in&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">6.2.3.1&#160;&#160;</a>are&#160;<br/>fulfilled,&#160;no&#160;critical&#160;situation&#160;according&#160;to&#160;data&#160;consistency&#160;and&#160;the&#160;CANbedded&#160;component&#160;<br/>usage&#160;&#160;occurs.&#160;The&#160;&#160;CANbedded&#160;&#160;component&#160;&#160;itself&#160;&#160;is&#160;&#160;able&#160;&#160;to&#160;&#160;cope&#160;&#160;with&#160;&#160;the&#160;&#160;interruption&#160;&#160;via&#160;<br/>the&#160;internal connection&#160;to&#160;the&#160;CAN/LIN driver.&#160;<br/>
&#160;<br/>
<b>6.2.3.5&#160;</b><br/>
<b>Preemptive&#160;Operating System&#160;</b><br/>
If&#160;&#160;the&#160;&#160;CANbedded&#160;&#160;component&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;used&#160;&#160;in&#160;&#160;a&#160;&#160;full-preemptive&#160;&#160;environment,&#160;&#160;some&#160;<br/>additional&#160;restrictions&#160;have&#160;to&#160;be&#160;kept&#160;in&#160;mind.&#160;If&#160;this&#160;is&#160;not&#160;explicitly&#160;allowed,&#160;please&#160;check&#160;<br/>carefully,&#160;that&#160;the&#160;restrictions listed&#160;in&#160;chapte<a href="TechnicalReference_TransportProtocolMultiConnections.html#161">r&#160;6.2.3.1&#160;</a>are&#160;fulfilled&#160;by&#160;the&#160;system&#160;setup.&#160;&#160;<br/>
Possible&#160;&#160;solutions&#160;&#160;for&#160;&#160;a&#160;&#160;save&#160;&#160;usage&#160;&#160;of&#160;&#160;the&#160;&#160;CANbedded&#160;&#160;component&#160;&#160;may&#160;&#160;be&#160;&#160;calling&#160;&#160;the&#160;<br/>cyclic&#160;&#160;functions&#160;&#160;and&#160;&#160;API’s&#160;&#160;in&#160;&#160;non-preemptive&#160;&#160;tasks&#160;&#160;or&#160;&#160;to&#160;&#160;lock&#160;&#160;task&#160;&#160;changes&#160;&#160;during&#160;&#160;the&#160;<br/>execution&#160;of&#160;the&#160;cyclic function&#160;calls and&#160;the&#160;component&#160;APIs.&#160;<br/>
It&#160;&#160;is&#160;&#160;not&#160;&#160;recommended&#160;&#160;to&#160;&#160;solve&#160;&#160;the&#160;&#160;restrictions&#160;&#160;via&#160;&#160;a&#160;&#160;special&#160;&#160;task&#160;&#160;priority&#160;&#160;setup&#160;&#160;due&#160;&#160;to&#160;<br/>possible&#160;&#160;maintenance&#160;&#160;issues&#160;&#160;when&#160;&#160;changing&#160;&#160;and&#160;&#160;extending&#160;&#160;the&#160;&#160;software&#160;&#160;system&#160;&#160;in&#160;&#160;the&#160;<br/>future.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
163&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=164></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-164_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-164_2.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>7&#160;&#160;Advanced&#160;usage&#160;&#160;</b><br/>
<b>7.1&#160;</b><br/>
<b>Separation of&#160;TimerTask&#160;and TransmissionTask&#160;(StateTask)&#160;</b><br/>
Until&#160;TPMC version&#160;2.35&#160;there is&#160;a&#160;combination&#160;of&#160;a&#160;timer&#160;observation&#160;and&#160;the&#160;handling&#160;of&#160;<br/>transmission&#160;requests&#160;in&#160;one&#160;task&#160;function.&#160;By&#160;the&#160;demand&#160;of&#160;faster&#160;TP&#160;transmission&#160;the&#160;<br/>most&#160;popular possibility&#160;is to&#160;separate&#160;the&#160;transmission&#160;mechanism&#160;from&#160;the&#160;timer&#160;task.&#160;<br/>Since&#160;TPMC version&#160;2.35&#160;TimerTask&#160;and&#160;TransmissionTask&#160;are separated.&#160;<br/>
The&#160;‘TimerTask’&#160;includes the&#160;time&#160;observation.&#160;The&#160;‘StateTask’&#160;includes the&#160;transmission&#160;<br/>handling&#160;of&#160;the&#160;CAN-frames.&#160;Especially&#160;the&#160;retry&#160;of&#160;the&#160;transmission&#160;while&#160;CanTransmit()&#160;<br/>cannot&#160;accept&#160;the&#160;message,&#160;because&#160;the&#160;(all)&#160;TX&#160;registers are&#160;currently&#160;in&#160;use.&#160;<br/>Like&#160;the&#160;former ‘Task’&#160;function&#160;(TpXxTask()) the&#160;current&#160;‘Task’&#160;function&#160;(TpXxTask())&#160;<br/>includes&#160;the&#160;call&#160;of&#160;both&#160;tasks&#160;to&#160;have&#160;a&#160;full&#160;compatibility.&#160;So&#160;it&#160;must&#160;be&#160;called&#160;further on&#160;<br/>periodically.&#160;The&#160;‘StateTask’&#160;can&#160;be&#160;called&#160;out&#160;of&#160;a&#160;fixed&#160;time&#160;periods&#160;in&#160;addition.&#160;<br/>&#160;<br/>
<b>Caution&#160;<br/></b>It&#160;is&#160;not&#160;necessary&#160;to&#160;call&#160;the&#160;‘StateTask’,&#160;if&#160;the&#160;CAN&#160;Driver&#160;queue&#160;is&#160;enabled.&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/><b>void TpTxTask(void)&#160;<br/>&gt;&#160;&#160;</b>&#160;static void&#160;TpTxTimerTask(void) (not&#160;visible&#160;for the&#160;application)&#160;<br/>
<b>&gt;&#160;&#160;</b>&#160;void&#160;TpTxStateTaskAllChannels(void)&#160;<br/>
&#160;<br/>
<b>void TpRxTask(void)&#160;</b><br/>
<b>&gt;&#160;&#160;</b>&#160;void&#160;TpRxTimerTask(void)&#160;(not&#160;visible&#160;for the&#160;application)&#160;<br/>
<b>&gt;&#160;&#160;</b>&#160;void&#160;TpRxStateTaskAllChannels(void)&#160;<br/>
&#160;<br/>The&#160;‘StateTaskAllChannels’&#160;iterates&#160;over all tpChannels.&#160;To&#160;speed&#160;up&#160;only&#160;one&#160;connection.&#160;<br/>a&#160;‘StateTask’&#160;is provided,&#160;which&#160;is handles&#160;the&#160;transmission&#160;of&#160;this connection.&#160;<br/><b>void TpTxStateTask(vuint8&#160;tpChannel)&#160;<br/>void TpRxStateTask(vuint8&#160;tpChannel)&#160;</b><br/>
<b>&#160;</b><br/>
<b>7.2&#160;</b><br/>
<b>Fast transmission of&#160;ConsecutiveFrames&#160;</b><br/>
Available&#160;since&#160;TPMC&#160;version&#160;2.35.&#160;<br/>
The&#160;TP-layer&#160;&#160;calculates&#160;&#160;the&#160;&#160;STmin&#160;&#160;time&#160;&#160;based&#160;&#160;on&#160;&#160;the&#160;&#160;CallCycle&#160;&#160;of&#160;&#160;the&#160;TpTimerTask().To&#160;<br/>guarantee&#160;&#160;that&#160;&#160;a&#160;&#160;under&#160;&#160;run&#160;&#160;of&#160;&#160;the&#160;&#160;STmin&#160;&#160;is&#160;&#160;not&#160;&#160;possible,&#160;&#160;one&#160;&#160;CallCycle&#160;&#160;is&#160;&#160;added.&#160;&#160;This&#160;<br/>conservative&#160;way&#160;of&#160;calculation&#160;do&#160;not&#160;fit&#160;the&#160;demand&#160;of&#160;a&#160;fast&#160;transmission.&#160;<br/>
The&#160;added&#160;feature includes&#160;a&#160;possibility&#160;to&#160;transmit&#160;a&#160;TP-frame&#160;as quick as possible.&#160;<br/>Typically&#160;this feature can&#160;be&#160;used&#160;for a&#160;fast&#160;re-programming&#160;of&#160;ECU’s through&#160;Gateways&#160;or&#160;<br/>Testers.&#160;&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
164&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=165></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-165_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
The&#160;&#160;feature&#160;&#160;can’t&#160;&#160;be&#160;&#160;enabled&#160;&#160;through&#160;&#160;the&#160;&#160;GenTools.&#160;&#160;A&#160;&#160;user-config&#160;&#160;file&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;used,&#160;<br/>including&#160;following&#160;define:&#160;<br/>
#define&#160;TP_USE_FAST_TX_TRANSMISSION kTpOn&#160;<br/>
<b>7.2.1&#160;</b><br/>
<b>Usage&#160;</b><br/>
The&#160;TP&#160;provides&#160;a&#160;special&#160;API&#160;function&#160;which&#160;assembles&#160;and&#160;transmits the&#160;next&#160;CF-frame&#160;<br/>by&#160;skipping&#160;the&#160;internal&#160;timer&#160;for the&#160;minimum&#160;sending&#160;distance&#160;(STmin).&#160;This&#160;means&#160;the&#160;<br/>application&#160;has the&#160;possibility&#160;to&#160;transmit&#160;the&#160;next&#160;CF frame&#160;faster&#160;than&#160;the&#160;calculated&#160;<br/>minimum sending&#160;distance&#160;of&#160;the&#160;TP&#160;module&#160;allows.&#160;&#160;<br/>Normally&#160;the&#160;timer will&#160;be&#160;reloaded&#160;with&#160;the&#160;value&#160;of&#160;the&#160;minimum&#160;sending&#160;distance&#160;and&#160;is&#160;<br/>observed&#160;in&#160;the&#160;TpTxTimerTask().&#160;By&#160;calling&#160;the&#160;function&#160;TpTxPrepareSendImmediate()&#160;<br/>the&#160;timer&#160;of&#160;the&#160;TP&#160;is stopped.&#160;If&#160;the&#160;preparation&#160;returns a&#160;‘kTpSuccess’&#160;the&#160;application&#160;<br/>gets&#160;the&#160;responsibility&#160;of&#160;transmitting&#160;the&#160;next&#160;ConsecutiveFrame.&#160;The&#160;application&#160;can&#160;<br/>reload&#160;an&#160;(application)&#160;alarm-timer with&#160;the&#160;STmin&#160;value&#160;of&#160;the&#160;FlowControl-frame&#160;by&#160;<br/>calling&#160;the&#160;function&#160;TpTxGetSTminInFrame().&#160;If&#160;the&#160;alarm&#160;occurs (timer is decremented&#160;to&#160;<br/>zero) the&#160;application&#160;can&#160;transmit&#160;the&#160;ConsecutiveFrame&#160;by&#160;calling&#160;the&#160;function&#160;<br/>TpTxSendImmediate(),&#160;which&#160;prepares&#160;the&#160;CF-frame&#160;and&#160;calls the&#160;TpTxStateTask()&#160;to&#160;<br/>transmit&#160;the&#160;frame&#160;immediately.&#160;<br/>
<b>7.2.2&#160;</b><br/>
<b>Application example&#160;</b><br/>
<b>For&#160;non-zero STmins:&#160;</b><br/>
void ApplTpTxFC(canuint8 channel)&#160;<br/>{&#160;<br/>&#160;&#160;if(kTpSuccess == TpTxPrepareSendImmediate(channel))&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;TpTxSendImmediate(channel);&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>void ApplTpTxCanMessageTransmitted(canuint8 channel)&#160;<br/>{&#160;<br/>&#160;&#160;canuint8 stminTime;&#160;<br/>&#160;<br/>&#160;&#160;if(kTpSuccess == TpTxPrepareSendImmediate(channel))&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;stminTime = TpTxGetSTminInFrame(channel);&#160;<br/>&#160;<br/>&#160; &#160;&#160;/* load an OSEK-OS alarm (in ms) */&#160;<br/>&#160; &#160;&#160;SetRelAlarm(TpSepAlarm, MSEC(stminTime),0);&#160;<br/>&#160;<br/>&#160; &#160;&#160;/* after alarm time expires: TpTxSendImmediate(channel); */&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>
<b>For zero STmins&#160;(fast&#160;as&#160;possible):&#160;</b><br/>
Attention:&#160;&#160;Due&#160;to&#160;the&#160;current&#160;priority&#160;rules it&#160;could&#160;be&#160;possible&#160;that&#160;no&#160;real parallel&#160;<br/>
transmission&#160;is possible.&#160;All&#160;other channels are&#160;not&#160;handled&#160;anymore&#160;while&#160;<br/>another transmission&#160;is running.&#160;<br/>
&#160;<br/>
void ApplTpTxFC(canuint8 channel)&#160;<br/>{&#160;<br/>&#160;&#160;if(kTpSuccess == TpTxPrepareSendImmediate(channel))&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;TpTxSendImmediate(channel);&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>void ApplTpTxCanMessageTransmitted(canuint8 channel)&#160;<br/>{&#160;<br/>&#160;&#160;if(kTpSuccess == TpTxPrepareSendImmediate(channel))&#160;<br/>&#160;&#160;{&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
165&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=166></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-166_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160; &#160;&#160;TpTxSendImmediate(channel);&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>
&#160;<br/>
<b>7.3&#160;</b><br/>
<b>Normal&#160;Fixed&#160;Addressing&#160;</b><br/>
<b>7.3.1&#160;</b><br/>
<b>Multiple&#160;ECU’s&#160;&#160;</b><br/>
Multiple&#160;&#160;ECU’&#160;&#160;s&#160;&#160;are&#160;&#160;control&#160;&#160;units&#160;&#160;which&#160;&#160;are&#160;&#160;assembled&#160;&#160;several&#160;&#160;times&#160;&#160;within&#160;&#160;the&#160;&#160;CAN&#160;<br/>network with&#160;the&#160;same&#160;software (example:&#160;seat&#160;in&#160;the&#160;front&#160;on&#160;the&#160;left&#160;hand&#160;side&#160;and&#160;on&#160;the&#160;<br/>right&#160;&#160;hand&#160;&#160;side).&#160;&#160;In&#160;&#160;this&#160;&#160;case,&#160;&#160;the&#160;&#160;application&#160;&#160;has&#160;&#160;to&#160;&#160;decide&#160;&#160;at&#160;&#160;run-time,&#160;&#160;which&#160;&#160;ECU&#160;&#160;is&#160;<br/>actually&#160;installed&#160;and&#160;has to&#160;set-up&#160;these&#160;parameters dynamically.&#160;&#160;<br/>
<b>7.3.1.1&#160;</b><br/>
<b>Using the&#160;CANgen configuration tool&#160;</b><br/>
The&#160;&#160;configuration&#160;&#160;tool&#160;&#160;does&#160;&#160;not&#160;&#160;apply&#160;&#160;the&#160;&#160;ECU&#160;&#160;information&#160;&#160;but&#160;&#160;it&#160;&#160;provides&#160;&#160;all&#160;&#160;possible&#160;<br/>values for the&#160;application&#160;as&#160;constants&#160;in&#160;the&#160;generated&#160;code.&#160;&#160;&#160;<br/>
&#160;<br/>
E.g.:&#160;In&#160;the&#160;generated&#160;tp_cfg.h&#160;file&#160;you&#160;will find&#160;constants&#160;for&#160;all&#160;existing&#160;ECU&#160;numbers:&#160;&#160;<br/>
#define&#160;kTpEcuNumber0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0x10&#160;<br/>
#define&#160;kTpEcuNumber1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0x11&#160;<br/>
#define&#160;kTpEcuNumber2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0x12&#160;<br/>
#define&#160;kTpEcuNumber3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0x13&#160;<br/>
…&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
166&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=167></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-167_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
In&#160;case&#160;of&#160;using&#160;the&#160;CANgen&#160;configuration&#160;tool the&#160;application&#160;must&#160;accomplish&#160;&#160;two&#160;things&#160;<br/>now&#160;at&#160;Power On&#160;time:&#160;<br/>
a)&#160;&#160;The&#160;actual&#160;ECU&#160;number must&#160;be&#160;set&#160;using&#160;the&#160;ComSetCurrentECU()&#160;API.&#160;<br/>
b)&#160;&#160;The&#160;actual&#160;ECU&#160;number must&#160;be&#160;provided&#160;to&#160;the&#160;TPMC.&#160;&#160;<br/>
&#160;<br/>
Code&#160;example:&#160;<br/>
extern canuint8&#160;tpEcuNumber;&#160;<br/>
canuint8 tpEcuNumber;&#160;<br/>&#160;<br/>void main(void)&#160;<br/>{&#160;<br/>&#160;&#160;CanInitPowerOn();&#160;<br/>&#160;&#160;<b>ComSetCurrentECU(currentECU);&#160;<br/></b>&#160;&#160;...&#160;<br/>&#160;&#160;if ( FirstECUis selected) {&#160;<br/>&#160; &#160;&#160;<b>tpEcuNumber = kTpEcuNumber0;&#160;<br/></b>&#160;&#160;}&#160;&#160;<br/>&#160;&#160;else if (SecondECU is selcted) {&#160;<br/>&#160; &#160;&#160;<b>tpEcuNumber = kTpEcuNumber1;&#160;</b><br/>
&#160; &#160; &#160;}&#160;<br/>
&#160;&#160;TpInitPowerOn(); &#160;/* For some configuration it could be also &#160; &#160; &#160; &#160;&#160;<br/>&#160; &#160;&#160;DiagInitPowerOn() &#160;with implicit TPMC initialization &#160; &#160; &#160; */&#160;<br/>&#160;&#160;...&#160;<br/>&#160;&#160;&lt;EnableCAN_ISR&gt;&#160;<br/>}&#160;<br/>&#160;<br/>
<b>7.3.1.2&#160;</b><br/>
<b>Using the&#160;GENy&#160;configuration tool&#160;</b><br/>
The&#160;&#160;configuration&#160;&#160;tool&#160;&#160;does&#160;&#160;not&#160;&#160;apply&#160;&#160;the&#160;&#160;ECU&#160;&#160;information&#160;&#160;completely&#160;&#160;but&#160;&#160;it&#160;&#160;provides&#160;&#160;all&#160;<br/>possible&#160;values&#160;for the&#160;application&#160;as&#160;constants in&#160;the&#160;generated&#160;code.&#160;&#160;&#160;<br/>
&#160;<br/>
E.g.:&#160;In&#160;the&#160;generated&#160;tp_par.c&#160;file&#160;a&#160;kTpEcuNumber_field[]&#160;is&#160;provided&#160;for&#160;all&#160;existing&#160;ECU&#160;<br/>numbers:&#160;<br/>
&#160;<br/>
vuint8&#160;kTpEcuNumber_field&#160;[4]&#160;=&#160;{&#160;<br/>
&#160;<br/>
&#160;<br/>
0x10,&#160;<br/>
&#160;<br/>
&#160;<br/>
0x11,&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12,&#160;<br/>
&#160;<br/>
&#160;<br/>
0x13&#160;<br/>
&#160;<br/>
}&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
167&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=168></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-168_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
In&#160;&#160;case&#160;&#160;of&#160;&#160;using&#160;&#160;the&#160;&#160;GENy&#160;&#160;configuration&#160;&#160;tool&#160;&#160;&#160;&#160;there&#160;&#160;is&#160;&#160;left&#160;&#160;one&#160;&#160;thing&#160;&#160;now&#160;&#160;the&#160;&#160;application&#160;<br/>must&#160;accomplish&#160;at&#160;Power On&#160;time:&#160;<br/>
a)&#160;The&#160;actual&#160;ECU&#160;number&#160;must&#160;be&#160;set&#160;using&#160;the&#160;ComSetCurrentECU()&#160;API.&#160;<br/>
&#160;<br/>
Code&#160;example:&#160;<br/>
&#160;<br/>void main(void)&#160;<br/>{&#160;<br/>&#160;&#160;CanInitPowerOn();&#160;<br/>&#160;&#160;<b>ComSetCurrentECU(currentECU);&#160;<br/></b>&#160;&#160;...&#160;<br/>&#160;&#160;TpInitPowerOn(); &#160;/* For some configuration it could be also &#160; &#160; &#160; &#160;&#160;<br/>&#160; &#160;&#160;DiagInitPowerOn() &#160;with implicit TPMC initialization &#160; &#160; &#160; */&#160;<br/>&#160;&#160;...&#160;<br/>&#160;&#160;&lt;EnableCAN_ISR&gt;&#160;<br/>}&#160;<br/>&#160;<br/>
<b>7.4&#160;</b><br/>
<b>Extended-&#160;and Normal&#160;Fixed&#160;Addressing&#160;</b><br/>
<b>7.4.1&#160;</b><br/>
<b>Virtual&#160;ECU’s&#160;/&#160;‘Multiple&#160;EcuNumber’&#160;feature&#160;</b><br/>
‘Virtual&#160;&#160;ECU’s’&#160;&#160;are&#160;&#160;control&#160;&#160;units&#160;&#160;which&#160;&#160;include&#160;&#160;the&#160;&#160;logic&#160;&#160;of&#160;&#160;more&#160;&#160;than&#160;&#160;one&#160;&#160;ECU.&#160;&#160;In&#160;&#160;the&#160;<br/>network&#160;they&#160;have&#160;to&#160;react&#160;for&#160;more&#160;than&#160;one&#160;ECU&#160;number.&#160;The&#160;application&#160;has&#160;to&#160;decide&#160;<br/>which&#160;ECU&#160;number should&#160;be&#160;received&#160;and&#160;which&#160;not.&#160;&#160;<br/>
For versions &lt;&#160;2.73.00:&#160;<br/>
All&#160;TargetAddresses&#160;(except&#160;the&#160;functional&#160;TargetAddress&#160;0xFF&#160;)&#160;will&#160;be&#160;received&#160;through&#160;<br/>the&#160;&#160;Transport&#160;&#160;Layer.&#160;&#160;Following&#160;&#160;the&#160;&#160;reception&#160;&#160;of&#160;&#160;a&#160;&#160;TP-frame&#160;&#160;the&#160;&#160;application&#160;&#160;callback&#160;<br/>ApplTpPrecopy()&#160;&#160;is&#160;&#160;called&#160;&#160;by&#160;&#160;the&#160;&#160;Transport&#160;&#160;Layer.&#160;&#160;In&#160;&#160;this&#160;&#160;function&#160;&#160;the&#160;&#160;application&#160;&#160;has&#160;&#160;to&#160;<br/>decide&#160;&#160;which&#160;&#160;TargetAddress&#160;&#160;should&#160;&#160;be&#160;&#160;received&#160;&#160;and&#160;&#160;which&#160;&#160;not.&#160;&#160;In&#160;&#160;this&#160;&#160;function&#160;&#160;the&#160;&#160;<br/>application&#160;gets&#160;&#160;the&#160;received&#160;TargetAddress&#160;and&#160;has&#160;to&#160;return&#160;the&#160;TargetAddress&#160;itself&#160;to&#160;<br/>receive&#160;&#160;TransportFrames.&#160;&#160;To&#160;&#160;not&#160;&#160;receive&#160;&#160;the&#160;&#160;following&#160;&#160;TransportFrames&#160;&#160;the&#160;&#160;return&#160;&#160;value&#160;<br/>has to&#160;be&#160;‘kTpNoChannel’&#160;(0xff).&#160;&#160;<br/>
If&#160;&#160;the&#160;&#160;received&#160;&#160;TargetAddress&#160;&#160;e.g.&#160;&#160;is&#160;&#160;a&#160;&#160;part&#160;&#160;of&#160;&#160;a&#160;&#160;functional&#160;&#160;range,&#160;&#160;the&#160;&#160;application&#160;&#160;can&#160;<br/>modify&#160;&#160;the&#160;&#160;received&#160;&#160;TargetAddress&#160;&#160;by&#160;&#160;returning&#160;&#160;another&#160;&#160;TargetAddress&#160;&#160;in&#160;&#160;the&#160;<br/>ApplTpPrecopy&#160;&#160;function.&#160;&#160;If&#160;&#160;the&#160;&#160;returned&#160;&#160;value&#160;&#160;is&#160;&#160;unequal&#160;&#160;to&#160;&#160;the&#160;&#160;received&#160;&#160;the&#160;&#160;Transport&#160;<br/>Layer&#160;will&#160;receive&#160;the&#160;TransportFrames&#160;with&#160;this&#160;TargetAddress&#160;and&#160;not&#160;with&#160;the&#160;received&#160;<br/>(the&#160;responded&#160;FlowControl is&#160;also&#160;modified).&#160;<br/>
&#160;<br/>
canuint8 ApplTpCheckTA(vuint8 targetAddress)&#160;<br/>{&#160;<br/>&#160;&#160;vuint8 result;&#160;<br/>&#160;&#160;switch(targetAddress)&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;case TargetAddress_0:&#160;<br/>&#160; &#160;&#160;case TargetAddress_1:&#160;<br/>
&#160; &#160;&#160;<br/>
...&#160;<br/>
&#160; &#160;&#160;case TargetAddress_n:&#160;<br/>&#160; &#160; &#160;&#160;result = targetAddress;&#160;<br/>&#160; &#160; &#160;&#160;break;&#160;<br/>&#160; &#160;&#160;default:&#160;<br/>&#160; &#160; &#160;&#160;result =&#160;kTpNoChannel;&#160;<br/>&#160;&#160;}&#160;<br/>&#160;&#160;return result;&#160;<br/>}&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
168&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=169></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-169_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
For versions &gt;=&#160;2.73.00:&#160;<br/>
All&#160;TargetAddresses&#160;are&#160;received&#160;through&#160;the&#160;Transport&#160;Layer.&#160;Following&#160;the&#160;reception&#160;of&#160;a&#160;<br/>TP-frame&#160;the&#160;application&#160;callback&#160;ApplTpPrecopy()&#160;is&#160;called&#160;by&#160;the&#160;Transport&#160;Layer.&#160;In&#160;this&#160;<br/>function&#160;the&#160;application&#160;has&#160;to&#160;decide&#160;which&#160;TargetAddress&#160;&#160;should&#160;be&#160;received&#160;and&#160;which&#160;<br/>not.&#160;&#160;The&#160;&#160;&#160;&#160;application&#160;&#160;gets&#160;&#160;the&#160;&#160;received&#160;&#160;TargetAddress&#160;&#160;and&#160;&#160;has&#160;&#160;to&#160;&#160;return&#160;&#160;either&#160;<br/>‘kTpPhysical’&#160;&#160;or&#160;&#160;‘kTpFunctional’.&#160;&#160;To&#160;&#160;not&#160;&#160;receive&#160;&#160;any&#160;&#160;subsequent&#160;&#160;TP&#160;&#160;Frames&#160;&#160;the&#160;&#160;<br/>application&#160;returns&#160;‘kTpNone’.&#160;&#160;<br/>&#160;<br/>
&#160;<br/>t_ta_type ApplTpCheckTA(vuint8 targetAddress)&#160;<br/>{&#160;<br/>&#160;&#160;t_ta_type result;&#160;<br/>&#160;&#160;if(targetAddress == MY_ECU_NUMBER)&#160;<br/>&#160;<br/>
&#160;<br/>
{&#160;<br/>
&#160; &#160;&#160;result = kTpPhysical;&#160;<br/>&#160;&#160;}&#160;<br/>&#160;&#160;else&#160;if((targetAddress &gt;= TP_LOWEST_FUNCTIONAL_ADDRESS )&#160;&amp;&amp;&#160;<br/>&#160; &#160;&#160;&#160; &#160; &#160;&#160;(targetAddress &lt;= TP_HIGHEST_FUNCTIONAL_ADDRESS))&#160;<br/>&#160; &#160;&#160;result = kTpFunctional;&#160;<br/>&#160;&#160;}&#160;<br/>&#160;&#160;else&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;result = kTpNone;&#160;<br/>&#160;&#160;}&#160;<br/>&#160;&#160;return result;&#160;<br/>}&#160;<br/>
&#160;<br/>
<b>7.5&#160;</b><br/>
<b>Using different&#160;CAN-Identifiers&#160;&#160;</b><br/>
For&#160;&#160;some&#160;&#160;purposes&#160;&#160;different&#160;&#160;CAN-Ids,&#160;&#160;as&#160;&#160;well&#160;&#160;11-Bit&#160;&#160;standard&#160;&#160;as&#160;&#160;also&#160;&#160;29-Bit&#160;&#160;extended&#160;<br/>identifiers&#160;&#160;shall&#160;&#160;be&#160;&#160;used&#160;&#160;for&#160;&#160;the&#160;&#160;Normal&#160;&#160;Addressing&#160;&#160;type.&#160;&#160;If&#160;&#160;so,&#160;&#160;the&#160;&#160;TPMC&#160;&#160;provides&#160;&#160;two&#160;<br/>configuration&#160;opportunities&#160;to&#160;handle&#160;this&#160;requirement&#160;either&#160;statically&#160;at&#160;configuration&#160;time&#160;<br/>or dynamically&#160;at&#160;runtime.&#160;<br/>
<b>7.5.1&#160;</b><br/>
<b>Statically&#160;configured CAN-Ids&#160;</b><br/>
By&#160;default&#160;11-Bit&#160;standard&#160;Ids&#160;are&#160;used&#160;with&#160;Normal&#160;Addressing.&#160;If&#160;29-Bit&#160;extended&#160;Ids&#160;are&#160;<br/>requested&#160;&#160;by&#160;&#160;the&#160;&#160;user&#160;&#160;and&#160;&#160;thus&#160;&#160;also&#160;&#160;entered&#160;&#160;as&#160;&#160;Addressing&#160;&#160;Information&#160;&#160;in&#160;&#160;the&#160;&#160;GENy&#160;<br/>generation&#160;tool,&#160;then&#160;the&#160;preprocessor&#160;switch&#160;&#160;TP_USE_EXT_IDS_FOR_NORMAL&#160;is&#160;generated&#160;<br/>with&#160;the&#160;value&#160;kTpOn.&#160;The&#160;code&#160;is&#160;now&#160;applicable&#160;to&#160;be&#160;used&#160;with&#160;29-Bit CAN-Ids.&#160;<br/>
<b>7.5.2&#160;</b><br/>
<b>Dynamically&#160;configured CAN-Ids&#160;</b><br/>
If&#160;the&#160;user&#160;has&#160;the&#160;necessity&#160;to&#160;handle&#160;both&#160;kinds&#160;of&#160;CAN-Ids&#160;during&#160;runtime,&#160;then&#160;in&#160;the&#160;<br/>GENy&#160;&#160;generation&#160;&#160;tool&#160;&#160;different&#160;&#160;CAN-Ids&#160;&#160;can&#160;&#160;be&#160;&#160;entered&#160;&#160;for&#160;&#160;different&#160;&#160;Addressing&#160;<br/>Informations.&#160;&#160;Now&#160;&#160;the&#160;&#160;preprocessor&#160;&#160;switch&#160;&#160;TP_USE_MIXED_IDS_FOR_NORMAL&#160;&#160;is&#160;&#160;generated&#160;<br/>with&#160;the&#160;value&#160;kTpOn&#160;in&#160;addition&#160;and&#160;the&#160;code&#160;is&#160;now&#160;applicable&#160;to&#160;be&#160;used&#160;simultaneously&#160;<br/>with&#160;11-&#160;and&#160;29-&#160;Bit CAN-Ids.&#160;&#160;<br/>
<b>7.5.3&#160;</b><br/>
<b>Additional&#160;API&#160;functions&#160;</b><br/>
If&#160;both&#160;kinds of&#160;CAN-Ids are used&#160;then&#160;the&#160;additional&#160;API&#160;function&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/>
canuint8 &#160;TpRxGetChannelIDType(canuint8 tpChannel)&#160;is provided.&#160;&#160;&#160;<br/>
This&#160;&#160;function&#160;&#160;either&#160;&#160;returns&#160;&#160;kTpCanIdTypeStd&#160;&#160;for&#160;&#160;11-Bit&#160;&#160;or&#160;&#160;kTpCanIdTypeExt&#160;&#160;for&#160;&#160;29-Bit&#160;<br/>identifiers.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
169&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=170></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-170_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>7.6&#160;</b><br/>
<b>Transmissions&#160;without Flow&#160;Control&#160;frames&#160;&#160;</b><br/>
For&#160;some&#160;purposes&#160;the&#160;usage&#160;of&#160;FC frames might&#160;be&#160;omitted.&#160;Please&#160;note&#160;that&#160;this feature&#160;<br/>is not&#160;supported&#160;for single&#160;connection&#160;TP.&#160;<br/>
If&#160;&#160;using&#160;&#160;a&#160;&#160;dynamic&#160;&#160;Tp&#160;&#160;Class&#160;&#160;then&#160;&#160;the&#160;&#160;provided&#160;&#160;API&#160;&#160;functions&#160;&#160;TpRxWithoutFC&#160;&#160;resp.&#160;<br/>TpTxWithoutFC can&#160;be&#160;used&#160;(see<a href="TechnicalReference_TransportProtocolMultiConnections.html#95">&#160;0,&#160;</a><a href="TechnicalReference_TransportProtocolMultiConnections.html#120">4.2.3.28) to</a>&#160;control the&#160;FC usage.&#160;<br/>
&#160;<br/>
If&#160;using&#160;a&#160;static&#160;Tp&#160;Class&#160;then&#160;a&#160;channel&#160;specific&#160;FC&#160;control&#160;information&#160;must&#160;be&#160;provided&#160;<br/>at&#160;compile&#160;time&#160;for the&#160;TP&#160;containing&#160;the&#160;information&#160;if&#160;FC frames shall&#160;be&#160;used&#160;or not&#160;for a&#160;<br/>specific channel either&#160;on&#160;the&#160;Rx-&#160;and/or on&#160;the&#160;Tx-&#160;side.&#160;&#160;<br/>
The&#160;definition&#160;and&#160;usage&#160;of&#160;the&#160;FC control array&#160;must&#160;be&#160;as&#160;described&#160;below:&#160;&#160;<br/>
vuint8 TpRxFlowControl[kTpRxChannelCount];&#160;<br/>vuint8 TpTxFlowControl[kTpTxChannelCount];&#160;<br/>
&#160;<br/>In&#160;the&#160;default case,&#160;if&#160;the&#160;usage&#160;of&#160;FC&#160;frames&#160;is required,&#160;then&#160;the&#160;FC control array&#160;<br/>contains a&#160;value&#160;of&#160;“1”&#160;for the&#160;belonging&#160;Rx-&#160;or Tx-&#160;channel.&#160;If&#160;FC&#160;frames shall&#160;be&#160;<br/>suppressed,&#160;then&#160;the&#160;FC control array&#160;contains a&#160;value&#160;of&#160;“0”&#160;for the&#160;belonging&#160;Rx-&#160;or Tx-&#160;<br/>channel.&#160;<br/>&#160;&#160;<br/>Example:&#160;<br/>
vuint8 TpRxFlowControl[3]&#160;=&#160;&#160;<br/>{ 1, &#160; &#160;// use FC frames&#160;<br/>&#160;&#160;1, &#160; &#160;// use FC frames&#160;<br/>&#160;&#160;0 &#160; &#160; // use no FC frames&#160;<br/>};&#160;&#160;//&#160;<br/>vuint8 TpTxFlowControl[3]&#160;=&#160;&#160;<br/>{ 1, &#160; &#160;// use FC frames&#160;<br/>&#160;&#160;1, &#160; &#160;// use FC frames&#160;<br/>&#160;&#160;0 &#160; &#160; // use no FC frames&#160;<br/>};&#160;<br/>
&#160;<br/>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
170&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=171></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-171_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>8&#160;&#160;Example&#160;for&#160;the&#160;user&#160;</b><br/>
<b>8.1&#160;</b><br/>
<b>Administrative&#160;usage&#160;</b><br/>
The&#160;&#160;Transport&#160;&#160;Protocol&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;initialized&#160;&#160;before&#160;&#160;all&#160;&#160;other&#160;&#160;functions&#160;&#160;were&#160;&#160;called.&#160;&#160;This&#160;<br/>initialization&#160;has&#160;to&#160;be&#160;done&#160;after&#160;initializing&#160;the&#160;CAN-driver&#160;(<b>CanInitPowerOn()</b>),&#160;possibly&#160;<br/>if&#160;&#160;the&#160;&#160;interrupts&#160;&#160;are&#160;&#160;still&#160;&#160;locked.&#160;&#160;The&#160;&#160;Transport&#160;&#160;Layer&#160;&#160;is&#160;&#160;ready&#160;&#160;for&#160;&#160;reception&#160;&#160;after&#160;&#160;calling&#160;<br/><b>TpInitPowerOn().</b>&#160;<br/>
To&#160;perform&#160;the&#160;state&#160;machine&#160;the&#160;functions&#160;<b>TpRxTask()</b>&#160;and&#160;<b>TpTxTask()</b>&#160;have&#160;to&#160;be&#160;called&#160;<br/>periodically.&#160;<br/>
If&#160;the&#160;application&#160;wants&#160;to&#160;have&#160;access to&#160;the&#160;API&#160;of&#160;the&#160;TPMC-component&#160;it has to&#160;include&#160;<br/>the&#160;“tpmc.h”&#160;file&#160;after including&#160;of&#160;the&#160;“can_inc.h”&#160;file.&#160;<br/>
<b>8.2&#160;</b><br/>
<b>How&#160;to Transmit a&#160;Tp-Frame?&#160;&#160;</b><br/>
<b>8.2.1&#160;</b><br/>
<b>Static&#160;Normal&#160;Addressing&#160;</b><br/>
First&#160;&#160;you&#160;&#160;need&#160;&#160;an&#160;&#160;own&#160;&#160;buffer&#160;&#160;with&#160;&#160;your&#160;&#160;data&#160;&#160;which&#160;&#160;should&#160;&#160;be&#160;&#160;transmitted.&#160;&#160;To&#160;&#160;start&#160;&#160;the&#160;<br/>transmission&#160;simply&#160;call&#160;<b>TpTransmit().&#160;</b>&#160;<br/>
if (TpTransmit(tpChannel, appl-buffer, appl-data-length) != kTpSuccess)&#160;<br/>{&#160;<br/>&#160;&#160;/* Error case&#160;–&#160;transmission was not successful */&#160;<br/>}&#160;<br/>
&#160;<br/>
A&#160;confirmation&#160;function&#160;is&#160;called&#160;after&#160;the&#160;complete&#160;transmission.&#160;It&#160;can&#160;be&#160;used&#160;to&#160;release&#160;<br/>buffers...&#160;<br/>
void ApplTpTxConfirmation(vuint8 tpChannel, vuint8 state)&#160;<br/>{&#160;<br/>
&#160;<br/>
If&#160;you&#160;want&#160;an&#160;own&#160;copy&#160;mechanism&#160;to&#160;move&#160;the&#160;data&#160;from&#160;your buffer into&#160;CAN&#160;buffer you&#160;<br/>have&#160;&#160;to&#160;&#160;use&#160;&#160;the&#160;&#160;function&#160;&#160;<b>ApplTpTxCopyToCan()</b>&#160;&#160;(This&#160;&#160;can&#160;&#160;be&#160;&#160;configured&#160;&#160;in&#160;&#160;the&#160;<br/>Generation&#160;Tool).&#160;<br/>
<b>8.2.2&#160;</b><br/>
<b>Dynamic&#160;Addressing&#160;</b><br/>
(Normal-&#160;/ Normal&#160;Fixed-&#160;/&#160;Extended-&#160;/&#160;Multiple-Addressing)&#160;<br/>
Before&#160;&#160;the&#160;&#160;application&#160;&#160;can&#160;&#160;call&#160;&#160;<b>TpTransmit()&#160;&#160;</b>(refer&#160;&#160;8.2&#160;&#160;How&#160;&#160;to&#160;Transmit&#160;&#160;a&#160;Tp-Frame?)&#160;&#160;a&#160;<br/>transport&#160;&#160;channel&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;requested.&#160;&#160;The&#160;&#160;function&#160;&#160;<b>TpTxGetFreeChannel()</b>&#160;&#160;returns&#160;&#160;a&#160;<br/>free&#160;&#160;transport&#160;&#160;channel&#160;&#160;or&#160;&#160;–&#160;&#160;if&#160;&#160;no&#160;&#160;channel&#160;&#160;is&#160;&#160;available&#160;&#160;at&#160;&#160;the&#160;&#160;moment&#160;&#160;–&#160;&#160;<b>kTpNoChannel</b>.&#160;<br/>After&#160;&#160;a&#160;&#160;channel&#160;&#160;is&#160;&#160;assigned,&#160;&#160;the&#160;&#160;channel&#160;&#160;has&#160;&#160;to&#160;&#160;parameterized&#160;&#160;by&#160;&#160;the&#160;&#160;application.&#160;&#160;In&#160;&#160;the&#160;<br/>example&#160;below,&#160;the&#160;application&#160;will&#160;set&#160;the&#160;Transmit&#160;ID&#160;and&#160;Receive&#160;ID&#160;(Dynamic&#160;Normal&#160;<br/>Addressing) before sending&#160;the&#160;data.&#160;<br/>
Important:&#160;replace&#160;the&#160;cursive&#160;words&#160;by&#160;your own&#160;<br/>
tpChannel = TpTxGetFreeChannel(connection-number);&#160;<br/>if(tpChannel != kTpNoChannel)&#160;<br/>{&#160;<br/>&#160; &#160;&#160;/* normal addressing */&#160;<br/>&#160; &#160;&#160;TpTxSetChannelID(tpChannel, TransmitID, ReceiveID);&#160;<br/>&#160;<br/>&#160; &#160;&#160;if (TpTransmit(tpChannel, appl-buffer, appl-data-length) != kTpSuccess)&#160;<br/>&#160; &#160;&#160;{&#160;<br/>&#160; &#160; &#160;&#160;/* Error case&#160;–&#160;transmission was not successful */&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
171&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=172></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-172_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160; &#160;&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>
The&#160;callback&#160;functions&#160;provide&#160;only&#160;the&#160;tpChannel&#160;as a&#160;parameter.&#160;To&#160;get&#160;the&#160;unique&#160;<br/>connection-number out&#160;of&#160;this tpChannel the&#160;function&#160;<br/><b>TpTxGetConnectionNumber(tpChannel)&#160;</b>is provided&#160;<br/>
void ApplTpTxConfirmation(vuint8 tpChannel, vuint8 state)&#160;<br/>{&#160;<br/>&#160;&#160;switch(TpTxGetConnectionNumber(tpChannel))&#160;<br/>&#160; &#160;.&#160;<br/>&#160; &#160;.&#160;<br/>
<b>8.3&#160;</b><br/>
<b>How&#160;to Receive&#160;a&#160;Tp-Frame&#160;</b><br/>
It&#160;&#160;is&#160;&#160;only&#160;&#160;possible&#160;&#160;to&#160;&#160;get&#160;&#160;an&#160;&#160;Indication&#160;&#160;by&#160;&#160;a&#160;&#160;function&#160;&#160;callback.&#160;&#160;The&#160;&#160;reception&#160;&#160;progress&#160;&#160;is&#160;<br/>completed&#160;by&#160;the&#160;Transport Layer.&#160;<br/>
<b>Important:&#160;&#160;</b>The&#160;Transport&#160;&#160;Layer&#160;&#160;blocks&#160;&#160;the&#160;receive&#160;&#160;tpChannel&#160;&#160;as&#160;&#160;long&#160;&#160;as&#160;&#160;the&#160;&#160;application&#160;<br/>desires.&#160;To&#160;free&#160;the&#160;receive&#160;channel call&#160;<b>TpRxResetChannel()</b>.&#160;&#160;<br/>
void ApplTpRxIndication ( vuint8 tpChannel, vuint16 dataLength)&#160;<br/>{&#160;<br/>&#160; &#160;...&#160;<br/>&#160; &#160;...&#160;<br/>&#160; &#160;TpRxResetChannel(tpChannel);&#160;<br/>&#160; &#160;...&#160;<br/>&#160; &#160;...&#160;<br/>}&#160;<br/>
The&#160;&#160;Transport&#160;&#160;Layer&#160;&#160;supports&#160;&#160;only&#160;&#160;buffer-management&#160;&#160;by&#160;&#160;the&#160;&#160;application.&#160;&#160;If&#160;&#160;data&#160;&#160;will&#160;&#160;be&#160;<br/>received,&#160;&#160;it&#160;is&#160;important&#160;&#160;to&#160;the&#160;Transport&#160;Layer&#160;to&#160;get&#160;&#160;a&#160;buffer&#160;into&#160;which&#160;&#160;the&#160;data&#160;can&#160;be&#160;<br/>moved.&#160;<br/>
vuint8 * ApplTpRxGetBuffer (vuint8 tpChannel, vuint16 length)&#160;<br/>{&#160;<br/>&#160;&#160;if (Is_ReceiveDataBuffer_free)&#160;&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;Set_ReceiveDataBuffer_Used;&#160;<br/>&#160;<br/>&#160; &#160;&#160;if (length &lt;= MaxLength)&#160;<br/>&#160; &#160;&#160;{&#160;<br/>&#160;<br/>
&#160; &#160;/* return a valid data buffer */&#160;<br/>
&#160; &#160; &#160;&#160;return ReceiveDataBuffer;&#160;<br/>&#160; &#160;&#160;} else {&#160;<br/>&#160;<br/>
&#160;&#160;/*&#160;length is too big for the ReceiveDataBuffer&#160;–&#160;do not receive the data */&#160;<br/>
&#160; &#160; &#160;&#160;return NULL;&#160;<br/>&#160;&#160;} else {&#160;<br/>&#160;<br/>
&#160;&#160;/* ReceiveDataBuffer is not free&#160;–&#160;do not receive the data */&#160;<br/>
&#160; &#160; &#160;return NULL;&#160;<br/>&#160;&#160;}&#160;<br/>
&#160;<br/>
}&#160;<br/>
<b>8.4&#160;</b><br/>
<b>How&#160;to Send a&#160;Response&#160;on a&#160;Received Transport-Frame&#160;</b><br/>
Normally&#160;&#160;the&#160;&#160;application&#160;&#160;has&#160;&#160;to&#160;&#160;set&#160;&#160;transmission&#160;&#160;attributes&#160;&#160;like&#160;&#160;TargetAddress,&#160;<br/>TargetIdentifier&#160;&#160;or&#160;&#160;physical&#160;&#160;CanChannel&#160;&#160;(depending&#160;&#160;on&#160;&#160;the&#160;&#160;addressing&#160;&#160;mode&#160;&#160;and&#160;<br/>configuration).&#160;So&#160;&#160;if&#160;&#160;the&#160;&#160;application&#160;&#160;want&#160;&#160;to&#160;send&#160;a&#160;&#160;response&#160;&#160;to&#160;&#160;the&#160;&#160;sender&#160;&#160;of&#160;a&#160;&#160;received&#160;<br/>transport-frame&#160;it&#160;has&#160;to&#160;set&#160;these&#160;transmission&#160;attributes.&#160;For&#160;this&#160;case&#160;it&#160;can&#160;do&#160;it&#160;easily&#160;<br/>by&#160;&#160;using&#160;&#160;the&#160;&#160;function&#160;&#160;TpTxSetResponse().&#160;&#160;The&#160;&#160;Preconditions&#160;&#160;are&#160;&#160;only&#160;&#160;the&#160;&#160;Rx-Channel&#160;&#160;-&#160;<br/>which&#160;is still&#160;blocked&#160;-&#160;from&#160;the&#160;sender and&#160;a&#160;free&#160;Tx-Channel&#160;for the&#160;transmission.&#160;&#160;<br/>
if ( (txTpChannel = TpTxGetFreeChannel(user_connection)) != kTpNoChannel )&#160;<br/>{&#160;<br/>&#160;&#160;TpTxSetResponse(rxTpChannel, txTpChannel);&#160;<br/>&#160;&#160;TpRxResetChannel(rxTpChannel);&#160;<br/>&#160;&#160;TpTransmit(txTpChannel, ...);&#160;<br/>}&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
172&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=173></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-173_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>8.5&#160;</b><br/>
<b>How&#160;to serve&#160;Different&#160;Connections&#160;(only&#160;dynamic&#160;channels)&#160;</b><br/>
The&#160;dynamic&#160;TP&#160;classes does not&#160;support connection&#160;specific callback&#160;functions.&#160;<br/>Therefore&#160;the&#160;application&#160;needs&#160;an&#160;easy&#160;handling&#160;between&#160;the&#160;different&#160;connections with&#160;<br/>less&#160;resource&#160;requirements.&#160;Especially&#160;the&#160;diagnostic-layer must&#160;be&#160;handled&#160;&#160;<br/>
<b>8.5.1&#160;</b><br/>
<b>How&#160;to serve&#160;the&#160;diagnostic&#160;connection&#160;&#160;&#160;</b><br/>
This&#160;is&#160;also&#160;an&#160;example&#160;to&#160;serve&#160;different&#160;connections&#160;in&#160;your&#160;own&#160;application!&#160;I.e.&#160;you&#160;can&#160;<br/>derive&#160;from&#160;the&#160;diagnosis example&#160;to&#160;your own.&#160;<br/>
<b>Reception part:&#160;</b><br/>
Within&#160;the&#160;‘ApplTpRxGetBuffer()’&#160;the&#160;application&#160;is&#160;responsible&#160;to&#160;&#160;distinguish&#160;between&#160;the&#160;<br/>different&#160;&#160;connections.&#160;&#160;If&#160;&#160;the&#160;&#160;right&#160;&#160;connection&#160;&#160;is&#160;&#160;found&#160;&#160;a&#160;&#160;connection-number&#160;&#160;can&#160;&#160;be&#160;&#160;set&#160;&#160;to&#160;<br/>have&#160;in&#160;the&#160;later callbacks a&#160;faster&#160;decision.&#160;<br/>
(Dynamic&#160;&#160;Normal&#160;Addressing)&#160;&#160;The&#160;&#160;received&#160;&#160;CAN-ID&#160;&#160;(for&#160;&#160;the&#160;&#160;diagnosis)&#160;&#160;is&#160;&#160;unique&#160;&#160;(get&#160;&#160;it&#160;<br/>with:&#160;TpRxGetChannelID(tpChannel))&#160;<br/>
<b>Transmission part:&#160;</b><br/>
At&#160;the&#160;transmission&#160;the&#160;connection-number&#160;is&#160;unique.&#160;The&#160;diagnosis&#160;uses&#160;the&#160;connection-<br/>numbers “kDiagConnection” and&#160;“kDiagAddConnection”.&#160;&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
173&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=174></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-174_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
unsigned char* ApplTpRxGetBuffer(vuint8 tpChannel, vuint16 tpRxDataLength)&#160;&#160;<br/>{&#160;<br/>&#160;&#160;switch(TpRxGetChannelID(tpChannel))&#160;<br/>&#160;&#160;{&#160;<br/>&#160;&#160;case DIAG_RECEIVE_ID:&#160;<br/>&#160; &#160;&#160;TpRxSetConnectionNumber(tpChannel, kDiagConnection);&#160;<br/>&#160; &#160;&#160;return DiagTpGetRxBuffer(tpChannel, tpRxDataLength);&#160;<br/>&#160;&#160;case APPL_RECEIVE_ID:&#160;<br/>&#160; &#160;&#160;TpRxSetConnectionNumber(tpChannel, CONNECTION_0);&#160;<br/>&#160; &#160;&#160;/* Check for an valid application buffer */&#160;<br/>&#160; &#160;&#160;return APPLICATION_BUFFER;&#160;<br/>&#160;&#160;default:&#160;<br/>&#160; &#160;&#160;return NULL;&#160;<br/>&#160; &#160;&#160;break;&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>void ApplTpRxIndication(vuint8 tpChannel, vuint16 tpRxDataLength)&#160;<br/>{&#160;<br/>&#160;&#160;switch(TpRxGetConnectionNumber(tpChannel))&#160;<br/>&#160;&#160;{&#160;<br/>&#160;&#160;case kDiagConnection:&#160;<br/>&#160; &#160;&#160;DiagPhysReception(tpChannel, tpRxDataLength);&#160;<br/>&#160; &#160;&#160;break;&#160;<br/>&#160;&#160;case CONNECTION_0:&#160;<br/>&#160; &#160;&#160;UserTpRxIndication(tpRxDataLength);&#160;<br/>&#160; &#160;&#160;break;&#160;<br/>&#160;&#160;default:&#160;<br/>&#160; &#160;&#160;break;&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>void ApplTpRxErrorIndication(vuint8 tpChannel, vuint8 status)&#160;<br/>{&#160;<br/>&#160;&#160;switch(TpRxGetConnectionNumber(tpChannel))&#160;<br/>&#160;&#160;{&#160;<br/>&#160;&#160;case kDiagConnection:&#160;<br/>&#160; &#160;&#160;DiagRxErrorIndication(tpChannel, status);&#160;<br/>&#160;&#160;case CONNECTION_0:&#160;<br/>&#160; &#160;&#160;UserTpRxErrorIndication(status);&#160;<br/>&#160;&#160;default:&#160;<br/>&#160; &#160;&#160;break;&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>void ApplTpRxFF(vuint8 tpChannel)&#160;<br/>{&#160;<br/>&#160;&#160;if (TpRxGetConnectionNumber( tpChannel ) == kDiagConnection )&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;DiagRestartS1TimerInternal( tpChannel );&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>void ApplTpRxCF(vuint8 tpChannel)&#160;<br/>{&#160;<br/>&#160;&#160;if (TpRxGetConnectionNumber( tpChannel ) == kDiagConnection )&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;DiagRestartS1TimerInternal( tpChannel );&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>&#160;<br/>void ApplTpTxConfirmation(vuint8 tpChannel, vuint8 state)&#160;<br/>{&#160;<br/>&#160;&#160;switch(TpTxGetConnectionNumber(tpChannel))&#160;<br/>&#160;&#160;{&#160;<br/>&#160;&#160;case kDiagConnection:&#160;<br/>&#160; &#160;&#160;DiagConfirmation( tpChannel, state);&#160;<br/>&#160;&#160;case CONNECTION_0:&#160;<br/>&#160; &#160;&#160;UserTpConfirmation(status);&#160;<br/>&#160;&#160;default:&#160;<br/>&#160; &#160;&#160;break;&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
174&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=175></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-175_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
vuint8 ApplTxErrorIndication(vuint8 tpChannel, vuint8 status)&#160;<br/>{&#160;<br/>&#160;&#160;switch(TpTxGetConnectionNumber(tpChannel))&#160;<br/>&#160;&#160;{&#160;<br/>&#160;&#160;case kDiagConnection:&#160;<br/>&#160; &#160;&#160;return DiagTxErrorIndication(tpChannel, status);&#160;<br/>&#160;&#160;case CONNECTION_0:&#160;<br/>&#160; &#160;&#160;UserTpTxErrorIndication(status);&#160;<br/>&#160;&#160;default:&#160;<br/>&#160; &#160;&#160;return kTpFreeChannel;&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>&#160;<br/>vuint8 ApplCopyToCAN(TpCopyToCanInfoStructPtr infoStruct)&#160;<br/>{&#160;<br/>&#160;&#160;switch(TpTxGetConnectionNumber(infoStruct-&gt;Channel))&#160;<br/>&#160;&#160;{&#160;<br/>&#160;&#160;case kDiagConnection:&#160;<br/>&#160; &#160;&#160;return DiagCopyToCAN(infoStruct-&gt;Channel, kSFDataPos, tpTxDataLength);&#160;<br/>&#160;&#160;default:&#160;<br/>&#160; &#160;&#160;(void)memcpy( infoStruct-&gt;pDestination, infoStruct-&gt;pSource, infoStruct-&gt;Length);&#160;<br/>&#160; &#160;&#160;break;&#160;<br/>&#160;&#160;}&#160;<br/>&#160;&#160;return 0;&#160;<br/>}&#160;<br/>&#160;<br/>void ApplTpTxNotification(vuint8 tpChannel, vuint8 DataLength)&#160;<br/>{&#160;<br/>&#160;&#160;switch(TpTxGetConnectionNumber(tpChannel))&#160;<br/>&#160;&#160;{&#160;<br/>&#160;&#160;case kDiagConnection:&#160;<br/>&#160; &#160;&#160;DiagTpMsgTxReady(tpChannel, DataLength);&#160;<br/>&#160; &#160;&#160;break;&#160;<br/>&#160;&#160;default:&#160;<br/>&#160; &#160;&#160;break;&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>
<b>8.6&#160;</b><br/>
<b>How&#160;to Lock&#160;a&#160;Tx-Channel&#160;and&#160;Why? (only&#160;dynamic&#160;channels)&#160;</b><br/>
Normally&#160;the&#160;application&#160;get&#160;a&#160;resource&#160;–&#160;use&#160;the&#160;resource&#160;–&#160;and&#160;release&#160;the&#160;resource.&#160;In&#160;<br/>the&#160;&#160;current&#160;&#160;version&#160;&#160;the&#160;&#160;resource&#160;&#160;Transmit-tpChannel&#160;&#160;will&#160;&#160;be&#160;&#160;released&#160;&#160;by&#160;&#160;the&#160;&#160;Transport&#160;<br/>Layer&#160;&#160;automatically&#160;&#160;after&#160;&#160;a&#160;&#160;transmission&#160;&#160;(for&#160;&#160;code&#160;&#160;optimization).&#160;&#160;If&#160;an&#160;&#160;application&#160;&#160;will&#160;&#160;use&#160;<br/>the&#160;&#160;same&#160;&#160;channel&#160;&#160;more&#160;&#160;than&#160;&#160;one&#160;&#160;time&#160;&#160;(i.e.&#160;&#160;a&#160;&#160;periodically&#160;&#160;transmission)&#160;&#160;it&#160;&#160;has&#160;&#160;to&#160;&#160;lock&#160;&#160;the&#160;<br/>channel.&#160;&#160;<br/>
...&#160;<br/>...&#160;<br/>TpTxLockChannel(channel);&#160;<br/>TpTransmit(...)&#160;<br/>...&#160;<br/>TpTransmit(...)&#160;<br/>&#160;<br/>...&#160;<br/>TpTransmit(...)&#160;<br/>
&#160;<br/>
The&#160;application&#160;has two&#160;possibilities&#160;to&#160;release&#160;the&#160;channel:&#160;<br/>
<b>&gt;&#160;&#160;</b>unlock&#160;the&#160;channel&#160;using&#160;‘<b>TpTxUnlockChannel&#160;()</b>’: i.e.&#160;only&#160;one&#160;transmission&#160;without&#160;<br/>
a&#160;release&#160;should&#160;be&#160;done...&#160;<br/>
TpTxLockChannel(user_channel);&#160;<br/>TpTransmit(user_channel, ...)&#160;<br/>...&#160;<br/>&gt;wait until confirmation occured&lt;&#160;<br/>TpTxUnlockChannel(user_channel);&#160;<br/>TpTransmit(user_channel, ...)&#160;<br/>/* After this transmission the channel will be released */&#160;<br/>...&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
175&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=176></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-176_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
&#160;<br/>
<b>&gt;&#160;&#160;</b>release&#160;the&#160;channel&#160;using&#160;‘<b>TpTxResetChannel()</b>’: Lock the&#160;resource&#160;for many&#160;<br/>
transfers&#160;as long&#160;as&#160;used&#160;&#160;<br/>
...&#160;<br/>...&#160;<br/>TpTxLockChannel(channel);&#160;<br/>TpTransmit(...)&#160;<br/>...&#160;<br/>TpTransmit(...)&#160;<br/>...&#160;<br/>TpTxResetChannel(channel);&#160;<br/>...&#160;<br/>
<b>8.7&#160;</b><br/>
<b>How&#160;to transmit a&#160;ConsecutiveFrame&#160;as&#160;quick&#160;as&#160;possible&#160;&#160;</b><br/>
Typically&#160;this requirement&#160;is&#160;used&#160;for a&#160;fast&#160;re-programming&#160;of&#160;ECU’s through&#160;Gateways or&#160;<br/>Testers.&#160;&#160;<br/>How&#160;to&#160;do&#160;that,&#160;please&#160;refer to&#160;chapter&#160;7.2&#160;Fast&#160;transmission&#160;of&#160;ConsecutiveFrames.&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
176&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name=177></a><img src="ElectricPowerSteering_RH850_GM_T1XX_website/content/en/docs/Tp/doc/TechnicalReference_TransportProtocolMultiConnection-177_1.png"/><br/>
Technical Reference&#160;Transport Protocol ISO15765-2&#160;<br/>
<b>9&#160;&#160;Contact&#160;</b><br/>
Visit&#160;our website&#160;for&#160;more information&#160;on&#160;<br/>
&#160;<br/>
<b>&gt;&#160;&#160;</b>News&#160;<br/>
<b>&gt;&#160;&#160;</b>Products&#160;<br/>
<b>&gt;&#160;&#160;</b>Demo&#160;software&#160;<br/>
<b>&gt;&#160;&#160;</b>Support&#160;<br/>
<b>&gt;&#160;&#160;</b>Training&#160;data&#160;<br/>
<b>&gt;&#160;&#160;</b>Addresses&#160;<br/>
&#160;<br/>
<b>www.vector.com&#160;</b><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;3.14.00&#160;<br/>
177&#160;/&#160;177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.1.0&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#15">1 Introduction</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#15">1.1 Relation between general component and shipped version capability</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#16">1.2 Name Conventions</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#17">1.3 Abbreviations</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#17">1.4 Channel vs. Connection</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#18">1.5 TP classes</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#18">1.5.1 SingleTP classes</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#18">1.5.2 Static MultiTP classes</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#18">1.5.3 Dynamic MultiTP classes</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#18">1.5.4 Dispatched MultiTP classes</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#19">1.6 SingleConnection vs. MultipleConnection</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#19">1.7 Features</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#19">1.7.1 Feature List</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#23">2 Architecture Overview</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#23">2.1 Requirements</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#23">2.1.1 Protocol-Overview</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#23">2.1.1.1 Construction of unsegmented messages</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#23">2.1.1.2 Construction of segmented messages</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#24">2.1.2 Addressing modes</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#25">2.1.2.1 Normal Addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#25">2.1.2.2 Mixed 11-bit ID Addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#25">2.1.2.3 Normal Fixed Addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#25">2.1.2.4 Extended Addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#26">2.1.2.5 Mixed 29-bit ID Addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#26">2.1.2.6 Structure of TPCI-Byte</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#28">2.2 Transmission</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#29">2.3 Reception</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#30">2.4 Working behaviors</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#30">2.4.1 Timings</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#31">2.4.2 Error detection</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#31">2.4.2.1 Reception of a SingleFrame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#31">2.4.2.2 Reception of a FirstFrame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#31">2.4.2.3 Reception of a FlowControl</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#32">2.4.2.4 Reception of a ConsecutiveFrame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#32">2.4.2.5 Observing CAN frame DLC (Data Length Code)</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#33">2.4.3 Buffer consistency</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#33">2.4.4 Function re-entrancy</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#34">2.5 Restriction</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#34">2.5.1 Restrictions to ISO/TF2 specification</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#34">2.5.2 Limitations of Transport Protocol Implementation</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#37">2.5.3 Deviations to ISO/TF2 specification</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#37">2.5.3.1 Handling of unexpected FlowControl / ConsecutiveFrame frames</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#38">3 Settings for the MultiTP &amp; SingleTP (multi-based)</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#38">3.1 General settings with CANgen / DBKOMgen / GENy</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#39">3.1.1 Timing</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#39">3.1.1.1 Transmission timing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#39">3.1.1.2 Reception timing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#40">3.1.1.3 Common timing</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#40">3.1.2 Flow Control</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#40">3.1.2.1 Transmission</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#40">3.1.2.2 Reception</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#41">3.1.3 Misc</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#43">3.2 General settings with Generation Tool GENy</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#44">3.2.1 Configuration of Addressing Information</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#44">3.2.2 Usage of Far RAM buffers</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#44">3.2.3 Non standard handling of Flow Control frames</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#44">3.2.3.1 Reserved STmin Handling</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.2.3.2 Ignore Flow Control Overflow</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.2.3.3 Do not ignore unexpected Flow Control frames</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.2.3.4 Use STmin of FC</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.2.3.5 Analyze first FC only</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.3 Additional settings via user-configuration file</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#45">3.3.1 Dynamic Timing API</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#46">3.4 TP classes: SingleTP (multi-based)</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#46">3.4.1 Database Attributes</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.4.2 TP class SingleTP (multi-based): Normal Addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.4.3 TP class SingleTP (multi-based): Extended Addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.4.4 TP class SingleTP (multi-based):Normal Fixed Addressing</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.4.4.1 Database Attributes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.5 TP classes Static MultiTP</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#47">3.5.1 Database Attributes</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#48">3.5.2 TP class specific settings</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#48">3.5.3 Connection specific timing parameters</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#49">3.5.4 Functions</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#49">3.6 TP classes Dynamic MultiTP</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#49">3.6.1 Properties</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#50">3.6.2 Hook Functions</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#50">3.6.3 Dynamic Objects</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#51">3.6.4 TP class Dynamic MultiTP: Normal Addressing</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#51">3.6.4.1 CANdriver settings</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#51">3.6.5 TP class Dynamic MultiTP: Extended Addressing</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#51">3.6.5.1 TP class specific settings</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#52">3.6.5.2 Database Attributes</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#52">3.6.5.3 Multiple Base Addresses</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#52">3.6.6 TP class Dynamic MultiTP: Normal Fixed Addressing</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#52">3.6.6.1 Database Attributes</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#53">3.6.7 TP class Dynamic MultiTP: Mixed 29-bit Addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#53">3.6.8 TP class Dynamic MultiTP: Multiple Addressing</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#53">3.6.8.1 Addressing mode</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#53">3.6.8.2 CAN Driver settings</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#55">3.7 TP class Dispatched MultiTP</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#56">3.7.1 &#160;“Dynamic MultiTP” versus “Dispatched MultiTP” – a short analogy</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#56">3.7.1.1 Solution based on “Dynamic MultiTP”:</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#57">3.7.1.2 Solution based on “Dispatched MultiTP”</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#60">3.7.2 Dispatched MultiTP API</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#60">3.7.2.1 Reception side</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#61">3.7.2.2 Transmission side</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#63">4 API</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#63">4.1 Use of ISO15765-Transport Protocol</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#63">4.2 Functions of the Transport Protocol</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#64">4.2.1 Administrative Functions</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#64">4.2.1.1 TpInitPowerOn: Initialization</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#65">4.2.1.2 TpInit: Re-initialization</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#65">4.2.1.3 TpTask: &#160;Observing timing conditions</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#66">4.2.1.4 TpCanChannelInit: CAN channel specifiic re-initialization</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#67">4.2.1.5 TpRxTask: time base for reception timeouts</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#68">4.2.1.6 TpTxTask: time base for timeouts/transmission</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#69">4.2.1.7 TpRxStateTask: optional transmission retry</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#69">4.2.1.8 TpRxAllStateTask: optional transmission retry</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#70">4.2.1.9 TpTxStateTask: optional transmission retry</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#71">4.2.1.10 TpTxAllStateTask: optional transmission retry</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#72">4.2.2 Receive Functions</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#72">4.2.2.1 TpRxSetConnectionNumber: Assign a Connection-Number to a channel</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#72">4.2.2.2 TpRxGetConnectionNumber: Get the Corresponding Connection-Number</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#73">4.2.2.3 TpRxGetAddressingFormat: &#160;Get the current addressing type</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#74">4.2.2.4 TpRxGetAssignedDestination: &#160;Get the currently assigned destination</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#75">4.2.2.5 TpRxResetChannel: Free Rx-TpChannel</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#76">4.2.2.6 TpRxGetStatus: Rx-Channel Status</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#77">4.2.2.7 TpRxSetBS: Setting up BlockSize on Reception Side</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#78">4.2.2.8 TpRxGetBS: Get BlockSize on Reception Side</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#78">4.2.2.9 TpRxSetSTMIN: Setting up STMin time on Reception Side</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#79">4.2.2.10 TpRxGetSTMIN: Get STMin time on Reception Side</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#80">4.2.2.11 TpRxGetChannelID: Get Received CAN-Id</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#81">4.2.2.12 TpRxGetChannelExtID: Get Received Extended CAN-Id</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#81">4.2.2.13 TpRxGetCanChannel: Get physical CAN channel</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#82">4.2.2.14 TpRxGetSourceAddress: Get received Source Address</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#83">4.2.2.15 TpRxGetReceivedTargetAddress: Get received Target Address</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#84">4.2.2.16 TpRxGetEcuNumber: Get ECU Number</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#84">4.2.2.17 TpRxGetParameterGroupIdentification: Get Identification of PGN</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#85">4.2.2.18 TpRxSetBufferOverrun: &#160; Enable partial acceptance</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#86">4.2.2.19 TpRxSetTransmitID: &#160; Set transmission CAN-Id</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#87">4.2.2.20 TpRxSetTransmitExtID: &#160; Set transmission Extended CAN-Id</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#88">4.2.2.21 TpRxGetChannelIDType: &#160; Get the type of the received CAN-Id</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#88">4.2.2.22 TpRxGetAddressExtension: &#160;Get address extension information</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#89">4.2.2.23 TpRxGetCanBuffer: &#160;Get CAN buffer pointer</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#90">4.2.2.24 TpRxSetWaitCorrectSN: &#160;Force to wait for a correct sequence number</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#91">4.2.2.25 TpRxSetTimeoutConfirmation: &#160;Set CAN confirmation timeout</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#92">4.2.2.26 TpRxSetTimeoutCF: &#160;Set Consecutive Frame confirmation timeout</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#92">4.2.2.27 TpRxSetFCStatus: &#160;set up Flow Control on reception side</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#93">4.2.2.28 TpRxGetFCStatus: &#160;get the Flow Control setup on reception side</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#94">4.2.2.29 TpRxSetClearToSend: &#160;proceed with the transmission after FC wait frames</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#95">4.2.2.30 TpRxWithoutFC: &#160;suppress FC frame usage at the Rx side</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#96">4.2.2.31 TpRxSetPGN: Set Parameter Group Number</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#97">4.2.2.32 TpRxSetPriorityBits: Set Priority, Data Page and Reserved bits</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#98">4.2.3 Transmit Functions</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#98">4.2.3.1 TpTxGetFreeChannel: Assign Channel to Connection</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#99">4.2.3.2 TpTxGetConnectionNumber: Get the assigned Connection-Number</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#99">4.2.3.3 TpTxGetConnectionStatus: Get the Connection Status</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#100">4.2.3.4 TpTxGetTargetAddress: &#160;Get the target address used for transmission</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#101">4.2.3.5 TpTxGetDataBuffer: Get the assigned Data Buffer</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#102">4.2.3.6 TpTxGetDataIndex: Get the assigned Data Index</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#102">4.2.3.7 TpTxSetChannelID: Set the CAN Transmit Id</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#103">4.2.3.8 TpTxSetChannelExtID: Set the CAN Transmit &#160;Extended Id</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#104">4.2.3.9 TpTxSetCanChannel: Set physical CAN Channel</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#105">4.2.3.10 TpTxSetTargetAddress: Set Target Address</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#106">4.2.3.11 TpTxSetEcuNumber: Set ECU Number</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#106">4.2.3.12 TpTxSetBaseAddress: Set Base Address</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#107">4.2.3.13 TpTxSetParameterGroupIdentification: Set Identification of PGN</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#108">4.2.3.14 TpTxSetPriority: Set Priority of the CAN-Frame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#109">4.2.3.15 TpTxSetResponse: Assemble a Response</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#110">4.2.3.16 TpTransmit: Send a Message</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#111">4.2.3.17 TpTxLockChannel: &#160;Lock Channel</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#111">4.2.3.18 TpTxUnlockChannel: &#160;Unlock TX Channel</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#112">4.2.3.19 TpTxResetChannel: Free TX-Channel</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#113">4.2.3.20 TpTxSetAddressExtension: &#160;Set Address Extension information</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#114">4.2.3.21 TpTxGetSTminInFrame: &#160; Get STmin from FC frame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#115">4.2.3.22 TpTxPrepareSendImmediate: &#160; Prepare CF transmission by application</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#115">4.2.3.23 TpTxSendImmediate: &#160; Start CF transmission by application</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#116">4.2.3.24 TpTxSetAddressingFormat: &#160;Store the current addressing type</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#117">4.2.3.25 TpTxSetStrictFlowControl: &#160;Enable/Disable ISO conformant FC handling</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#118">4.2.3.26 TpTxSetTimeoutConfirmation: &#160;Set the CAN confirmation timeout</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#119">4.2.3.27 TpTxSetTimeoutFC: &#160;Set the FC confirmation timeout</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#120">4.2.3.28 TpTxWithoutFC: &#160;suppress FC frame usage at the Tx side</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#121">4.2.3.29 TpTxSetPGN: Set Parameter Group Number</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#122">4.2.3.30 TpTxSetPriorityBits: Set Priority, Data Page and Reserved bits</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#123">4.3 Dispatched Multi TP class API</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#123">4.3.1 TpGetConnectionGroup: &#160;Get the connection group identification</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#124">4.3.2 TpGetAddressingType: &#160;Get the addressing type identification</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#125">4.3.3 TpGetCanChannel: &#160;Get the CAN channel</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#126">4.3.4 TpGetRxId: &#160;Get the received CAN-Id</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#126">4.3.5 TpGetTxId: &#160;Get the CAN-Id to be used for transmission</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#127">4.3.6 TpGetBaseAddress: &#160;Get the Base Address</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#128">4.3.7 TpGetAddressOffest: &#160;Get the Address Offset</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#129">4.3.8 TpGetPriority: &#160;Get the priority info from a 29 bit CAN-Id</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#129">4.3.9 TpGetPGN: &#160;Get the parameter group identification from a 29 bit CAN-Id</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#130">4.3.10 TpGetEcuNumber: &#160;Get the ECU number</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#131">4.3.11 TpTransmit</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#131">4.3.11.1 TpTransmit connection specific macros</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#131">4.3.11.2 TpTransmitNormal: &#160;transmit function for normal addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#132">4.3.11.3 TpTransmitExtended: &#160;transmit function for extended addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#133">4.3.11.4 TpTransmitNormalFixed: &#160;transmit function for NormalFixed addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#134">4.3.11.5 TpTransmitMixed29: &#160;transmit function for Mixed-29 addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#135">4.3.11.6 TpTransmitMixed29: &#160;transmit function for Mixed-29 addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#136">4.3.11.7 TpTransmitMixed11: &#160;transmit function for Mixed-11 addressing</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#137">4.4 Application callback functions</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#137">4.4.1 Reception side</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#137">4.4.1.1 ApplTpPrecopyCheck: Reception of TP-Frame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#139">4.4.1.2 ApplTpCheckTA: &#160;Check if Target Address is valid (version &lt;= 2.72.00)</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#140">4.4.1.3 &#160;ApplTpCheckTA: &#160;Check if Target Address is valid (since version 2.73.00)</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#141">4.4.1.4 ApplTpRxSF: &#160; Reception of Single Frame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#142">4.4.1.5 ApplTpRxFF: &#160; Reception of First Frame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#142">4.4.1.6 ApplTpRxCF: &#160; Reception of Consecutive Frame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#143">4.4.1.7 ApplTpRxCanMessageReceived: &#160; Reception of CAN-Frame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#144">4.4.1.8 ApplTpRxGetBuffer: &#160; Assign a buffer to a channel</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#145">4.4.1.9 ApplTpRxCopyFromCAN: &#160; Application Copy Function</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#146">4.4.1.10 ApplTpRxIndication: &#160; Reception closed &#160;successful</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#147">4.4.1.11 ApplTpRxErrorIndication: &#160; Reception closed with error</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#148">4.4.1.12 ApplTpRxGetTxID: &#160;Get CAN Transmit Id</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#149">4.4.2 Reception side for functional messages</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#149">4.4.2.1 ApplFuncTpPrecopy: &#160;Check if Target Address is valid</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#150">4.4.3 Transmission side</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#150">4.4.3.1 ApplTpTxFC: &#160; Reception of a Flow Control Frame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#151">4.4.3.2 ApplTpTxCanMessageTransmitted: &#160;CAN-Message transmitted</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#151">4.4.3.3 ApplTpTxNotification: &#160; CAN-Frame transmitted</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#152">4.4.3.4 ApplTpTxCopyToCAN: &#160; Application Copy Function ((16BIT Controller)</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#153">4.4.3.5 ApplTpTxCopyToCAN: &#160; Application Copy Function (8BIT Controller)</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#155">4.4.3.6 ApplTpTxConfirmation: &#160;Transmission closed successful</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#156">4.4.3.7 ApplTpTxErrorIndication: &#160;Transmission closed with error</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#157">4.4.4 Administrative Functions</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#157">4.4.4.1 ApplTpFatalError: Fatal Error</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#159">5 Transmission Attributes &amp; Callback functions</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#160">6 Integration of CANbedded Components into a Customer Project</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#160">6.1 Requirements to the Customer System Environment</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#160">6.2 Component Integration to the Customer Project</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#160">6.2.1 Requirements to the Component Initialization in a Customer Project</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#161">6.2.2 Requirements to Component API Usage in a Customer Project</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#161">6.2.3 Requirements to the Customer Project Operating System</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#161">6.2.3.1 Common Requirements</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#162">6.2.3.2 Round-Robin-Scheduler and Comparable OS Approaches</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#162">6.2.3.3 Usage of OSEK/OS</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#163">6.2.3.4 Non-Preemptive Operating System</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#163">6.2.3.5 Preemptive Operating System</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#164">7 Advanced usage</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#164">7.1 Separation of TimerTask and TransmissionTask (StateTask)</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#164">7.2 Fast transmission of ConsecutiveFrames</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#165">7.2.1 Usage</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#165">7.2.2 Application example</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#166">7.3 Normal Fixed Addressing</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#166">7.3.1 Multiple ECU’s</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#166">7.3.1.1 Using the CANgen configuration tool</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#167">7.3.1.2 Using the GENy configuration tool</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#168">7.4 Extended- and Normal Fixed Addressing</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#168">7.4.1 Virtual ECU’s / ‘Multiple EcuNumber’ feature</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#169">7.5 Using different CAN-Identifiers</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#169">7.5.1 Statically configured CAN-Ids</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#169">7.5.2 Dynamically configured CAN-Ids</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#169">7.5.3 Additional API functions</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#170">7.6 Transmissions without Flow Control frames</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#171">8 Example for the user</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#171">8.1 Administrative usage</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#171">8.2 How to Transmit a Tp-Frame?</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#171">8.2.1 Static Normal Addressing</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#171">8.2.2 Dynamic Addressing</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#172">8.3 How to Receive a Tp-Frame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#172">8.4 How to Send a Response on a Received Transport-Frame</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#173">8.5 How to serve Different Connections (only dynamic channels)</a>
<ul>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#173">8.5.1 How to serve the diagnostic connection</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#175">8.6 How to Lock a Tx-Channel and Why? (only dynamic channels)</a></li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#176">8.7 How to transmit a ConsecutiveFrame as quick as possible</a></li>
</ul>
</li>
<li><a href="TechnicalReference_TransportProtocolMultiConnections.html#177">9 Contact</a></li>
</ul>
<hr/>
</body>
</html>
