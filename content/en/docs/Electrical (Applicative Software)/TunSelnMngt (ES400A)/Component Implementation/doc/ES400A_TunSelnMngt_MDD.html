---
title: ES400A_TunSelnMngt_MDD
linkTitle: ES400A_TunSelnMngt_MDD
weight: 3
---

<p><strong>Module Design Document</strong></p>
<p><strong>For</strong></p>
<p><strong>TunSelnMngt</strong></p>
<p><strong>August 29, 2016</strong></p>
<p><strong>Prepared For:</strong></p>
<p><strong>Software Engineering</strong></p>
<p><strong>Nexteer Automotive,</strong></p>
<p><strong>Saginaw, MI, USA</strong></p>
<p><strong>Prepared By:</strong></p>
<p><strong>Kevin Smith,</strong></p>
<p><strong>Nexteer Automotive,</strong></p>
<p><strong>Saginaw, MI, USA<br />
<u>Change History</u></strong></p>
<table>
<colgroup>
<col style="width: 28%" />
<col style="width: 24%" />
<col style="width: 15%" />
<col style="width: 16%" />
<col style="width: 16%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Description</strong></td>
<td><strong>Author</strong></td>
<td><strong>Version</strong></td>
<td><strong>Date</strong></td>
<td><strong>Approved By</strong></td>
</tr>
<tr class="even">
<td>Initial Version</td>
<td>K. Smith</td>
<td>1</td>
<td>07-Apr-16</td>
<td></td>
</tr>
<tr class="odd">
<td>Updated program flow diagrams</td>
<td>N. Saxton</td>
<td>2</td>
<td>06-May-16</td>
<td></td>
</tr>
<tr class="even">
<td>Updates to flow charts for anomaly EA4#6672 corrections</td>
<td>K. Smith</td>
<td>3</td>
<td>29-Aug-16</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong><u><br />
</u></strong></p>
<p><u>Table of Contents</u></p>
<p><a href="#introduction">1 Introduction <span>5</span></a></p>
<p><a href="#purpose">1.1 Purpose <span>5</span></a></p>
<p><a href="#scope">1.2 Scope <span>5</span></a></p>
<p><a href="#tunselnmngt-high-level-description">2 TunSelnMngt &amp; High-Level Description <span>6</span></a></p>
<p><a href="#design-details-of-software-module">3 Design details of software module <span>7</span></a></p>
<p><a href="#graphical-representation-of-tunselnmngt">3.1 Graphical representation of TunSelnMngt <span>7</span></a></p>
<p><a href="#data-flow-diagram">3.2 Data Flow Diagram <span>7</span></a></p>
<p><a href="#component-level-dfd">3.2.1 Component level DFD <span>7</span></a></p>
<p><a href="#function-level-dfd">3.2.2 Function level DFD <span>7</span></a></p>
<p><a href="#constant-data-dictionary">4 Constant Data Dictionary <span>8</span></a></p>
<p><a href="#program-fixed-constants">4.1 Program (fixed) Constants <span>8</span></a></p>
<p><a href="#embedded-constants">4.1.1 Embedded Constants <span>8</span></a></p>
<p><a href="#variable-data-dictionary">4.2 Variable Data Dictionary <span>8</span></a></p>
<p><a href="#user-defined-typedef-definitiondeclaration">4.2.1 User Defined Typedef Definition/Declaration <span>8</span></a></p>
<p><a href="#static-structures">4.2.1.1 Static Structures <span>8</span></a></p>
<p><a href="#dynamic-structures-and-enums">4.2.1.2 Dynamic Structures and Enums <span>9</span></a></p>
<p><a href="#user-defined-enumerated-types">4.2.2 User Defined Enumerated Types <span>10</span></a></p>
<p><a href="#software-component-implementation">5 Software Component Implementation <span>11</span></a></p>
<p><a href="#sub-module-functions">5.1 Sub-Module Functions <span>11</span></a></p>
<p><a href="#init-init1">5.1.1 Init: TunSelnMngtInit1 <span>11</span></a></p>
<p><a href="#per-per1">5.1.2 Per: TunSelnMngtPer1 <span>13</span></a></p>
<p><a href="#server-runnables">5.2 Server Runnables <span>15</span></a></p>
<p><a href="#copycalpagereq">5.2.1 CopyCalPageReq <span>15</span></a></p>
<p><a href="#getcalpagereq">5.2.2 GetCalPageReq <span>16</span></a></p>
<p><a href="#getseginforeq">5.2.3 GetSegInfoReq <span>17</span></a></p>
<p><a href="#onlinetunramadrmpg">5.2.4 OnlineTunRamAdrMpg <span>18</span></a></p>
<p><a href="#setcalpagereq">5.2.5 SetCalPageReq <span>19</span></a></p>
<p><a href="#interrupt-functions">5.3 Interrupt Functions <span>20</span></a></p>
<p><a href="#module-internal-local-functions">5.4 Module Internal (Local) Functions <span>20</span></a></p>
<p><a href="#swtcalidx">5.4.1 SwtCalIdx <span>20</span></a></p>
<p><a href="#idxchgmngt">5.4.2 IdxChgMngt <span>21</span></a></p>
<p><a href="#memcopy32bit">5.4.3 MemCopy32Bit <span>23</span></a></p>
<p><a href="#memcopy8bit">5.4.4 MemCopy8Bit <span>24</span></a></p>
<p><a href="#segmodadrinfo">5.4.5 SegModAdrInfo <span>25</span></a></p>
<p><a href="#segmodstdinfo">5.4.6 SegModStdInfo <span>26</span></a></p>
<p><a href="#segmodadrmpg">5.4.7 SegModAdrMpg <span>27</span></a></p>
<p><a href="#global-functionmacro-definitions">5.5 GLOBAL Function/Macro Definitions <span>28</span></a></p>
<p><a href="#known-limitations-with-design">6 Known Limitations with Design <span>29</span></a></p>
<p><a href="#unit-test-consideration">7 UNIT TEST CONSIDERATION <span>30</span></a></p>
<p><a href="#abbreviations-and-acronyms">Appendix A Abbreviations and Acronyms <span>31</span></a></p>
<p><a href="#glossary">Appendix B Glossary <span>32</span></a></p>
<p><a href="#references">Appendix C References <span>33</span></a></p>
<h1 id="introduction">Introduction</h1>
<h2 id="purpose">Purpose</h2>
<p>This MDD aids in documenting the implementation of ES400A Tuning Selection Management.</p>
<h2 id="scope">Scope</h2>
<p>The following definitions are used throughout this document:</p>
<ul>
<li><p><strong><u>Shall</u></strong>: indicates a mandatory requirement without exception in compliance.</p></li>
<li><p><strong><u>Should</u></strong>: indicates a mandatory requirement; exceptions allowed only with documented justification.</p></li>
<li><p><strong><u>May</u></strong>: indicates an optional action.</p></li>
</ul>
<h1 id="tunselnmngt-high-level-description">TunSelnMngt &amp; High-Level Description</h1>
<p>Tuning Selection Management (TunSelnMngt) provides the ability to change run-time calibrations during operation. The component also provides a RAM buffer for online calibration changes over XCP for tuning processes.</p>
<h1 id="design-details-of-software-module">Design details of software module</h1>
<h2 id="graphical-representation-of-tunselnmngt">Graphical representation of TunSelnMngt</h2>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image1.jpg" style="width:3.42708in;height:2.4375in" /></p>
<h2 id="data-flow-diagram">Data Flow Diagram</h2>
<p>None</p>
<h3 id="component-level-dfd">Component level DFD</h3>
<p>None</p>
<h3 id="function-level-dfd">Function level DFD</h3>
<p>None</p>
<h1 id="constant-data-dictionary">Constant Data Dictionary</h1>
<h2 id="program-fixed-constants">Program (fixed) Constants</h2>
<h3 id="embedded-constants">Embedded Constants</h3>
<h4 id="local-constants">Local Constants</h4>
<p>Values between the brackets [] are the ranges that the configurable constants could be defined as for a given integration. These values are generated by Configurator before the software build.</p>
<table>
<colgroup>
<col style="width: 44%" />
<col style="width: 19%" />
<col style="width: 14%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="header">
<th>Constant Name</th>
<th>Resolution</th>
<th>Units</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>MAXINITIDXCNT_CNT_U08</td>
<td>Uint8</td>
<td>Cnt</td>
<td>[0-255]</td>
</tr>
<tr class="even">
<td>MAXRTIDXCNT_CNT_U08</td>
<td>Uint8</td>
<td>Cnt</td>
<td>[0-255]</td>
</tr>
<tr class="odd">
<td>MAXONLINECALCFGCNT_CNT_U08</td>
<td>Uint8</td>
<td>Cnt</td>
<td>[0-255]</td>
</tr>
<tr class="even">
<td>ONLINECALGROUPS_CNT_U08</td>
<td>Uint8</td>
<td>Cnt</td>
<td>[0-255]</td>
</tr>
<tr class="odd">
<td>ONLINECALRAMTBL_CNT_U16</td>
<td>Uint16</td>
<td>Cnt</td>
<td>[0-65535]</td>
</tr>
<tr class="even">
<td>PRMPTRTBLSIZEINWORD_CNT_U16</td>
<td>Uint16</td>
<td>Cnt</td>
<td>[0-65535]</td>
</tr>
</tbody>
</table>
<h2 id="variable-data-dictionary">Variable Data Dictionary</h2>
<p>The following type definitions are found in the private header of this component.</p>
<h3 id="user-defined-typedef-definitiondeclaration">User Defined Typedef Definition/Declaration</h3>
<h2 id="static-structures">Static Structures</h2>
<p>The following table contains structures are static in their definition. However, internal elements may change based on the configuration of the project but the high level content is the same. These elements are described at the bottom of the table.</p>
<table>
<colgroup>
<col style="width: 34%" />
<col style="width: 22%" />
<col style="width: 20%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="header">
<th>Typedef Name</th>
<th>Element Name</th>
<th>User Defined Type</th>
<th><p>Legal Range</p>
<p>(min)</p></th>
<th><p>Legal Range</p>
<p>(max)</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TunSelnRamTblRec1</td>
<td>PrmRefTblPtr</td>
<td>Rte_ParameterRefTabType</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td></td>
<td>PrmTblCrc_u32</td>
<td>Uint32</td>
<td>0</td>
<td>4294967295</td>
</tr>
<tr class="odd">
<td>TunSelnIdxTblRec1</td>
<td>SrcIdx_u16</td>
<td>Uint16</td>
<td>0</td>
<td>65535</td>
</tr>
<tr class="even">
<td></td>
<td>DestIdx_u16</td>
<td>Uint16</td>
<td>0</td>
<td>65535</td>
</tr>
<tr class="odd">
<td></td>
<td>SigIdx_u08</td>
<td>Uint8</td>
<td>0</td>
<td>255</td>
</tr>
<tr class="even">
<td>TunSelnOnlineCalIdxTblRec1</td>
<td>RamStructPtr_u08</td>
<td>UInt8*</td>
<td>0</td>
<td>255</td>
</tr>
<tr class="odd">
<td></td>
<td>StructSize_u16</td>
<td>Uint16</td>
<td>0</td>
<td>65535</td>
</tr>
<tr class="even">
<td></td>
<td>TblIdx_u16</td>
<td>Uint16</td>
<td>0</td>
<td>65535</td>
</tr>
<tr class="odd">
<td></td>
<td>GroupIdx_u08</td>
<td>Uint8</td>
<td>0</td>
<td>255</td>
</tr>
</tbody>
</table>
<p>Rte_ParameterRefTabType is a structure of void pointers that point to the various calibration component structures. This type is generated by the RTE based on the configuration of the integration.</p>
<h2 id="dynamic-structures-and-enums">Dynamic Structures and Enums</h2>
<p>The following table contains structures are dynamic in their definition. The contents contained will vary from project to project. The intent of this table is to document their purpose.</p>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 17%" />
<col style="width: 22%" />
<col style="width: 15%" />
<col style="width: 5%" />
<col style="width: 28%" />
</colgroup>
<thead>
<tr class="header">
<th>Entry Type</th>
<th>Typedef Name</th>
<th>Example Element(s)</th>
<th>Variable Type</th>
<th>Value</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Enum</td>
<td>OnlineCalGroup1</td>
<td>GroupA</td>
<td>N/A</td>
<td>0</td>
<td rowspan="2">This enum contains a number representation for each calibration group that is generated for online calibration from A=0 to Z=26. Groups are defined by a letter suffix.</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>GroupB</td>
<td>N/A</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Struct</td>
<td><p>&lt;GroupName&gt;Typ</p>
<p>GroupATyp</p></td>
<td><p>&lt;Cal Region&gt;&lt;Cal Cmp Name&gt;&lt;Online Group&gt;</p>
<p>CalRegn01CmnGroupA</p></td>
<td>RTE Generated</td>
<td>N/A</td>
<td>This structure is generated based on the online groups configured. Each group will generate a structure and contain all calibration software components within that group.</td>
</tr>
<tr class="even">
<td>Union</td>
<td>OnlineCalTblRec1</td>
<td>Byte[&lt;RAM Size&gt;]</td>
<td>Unit8</td>
<td>N/A</td>
<td rowspan="2">This structure combines all the online calibration groups into data type for assignment to the RAM buffer. The ‘byte’ element is used to access the entire buffer on a byte-by-byte basis and ensure that the RAM is properly sized.</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>&lt;GroupName&gt;</td>
<td>&lt;GroupName&gt;Typ</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<h3 id="user-defined-enumerated-types">User Defined Enumerated Types </h3>
<table>
<colgroup>
<col style="width: 44%" />
<col style="width: 40%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="header">
<th>Enum Name</th>
<th>Element Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>GetSegModeSegInfo1</td>
<td>GETSEGMODSEGINFO_ADR</td>
<td>0</td>
</tr>
<tr class="even">
<td></td>
<td>GETSEGMODSEGINFO_LEN</td>
<td>1</td>
</tr>
<tr class="odd">
<td>GetSegModeMpgIdx1</td>
<td>GETSEGMODMPGIDX_SRCADR</td>
<td>0</td>
</tr>
<tr class="even">
<td></td>
<td>GETSEGMODMPGIDX_DESTADR</td>
<td>1</td>
</tr>
<tr class="odd">
<td></td>
<td>GETSEGMODMPGIDX_LEN</td>
<td>2</td>
</tr>
</tbody>
</table>
<h1 id="software-component-implementation">Software Component Implementation</h1>
<h2 id="sub-module-functions">Sub-Module Functions</h2>
<h3 id="init-init1">Init: Init1</h3>
<h4 id="design-rationale">Design Rationale</h4>
<p>The initialization function creates two copies of the RTE generated flash table in to RAM. A CRC is performed on each of the copies to ensure that they match. The function also adjusts the tables to load the appropriate initialization and run-time calibrations indexes that are required by the application.</p>
<h4 id="processing">Processing</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image2.emf" /></p>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image3.emf" /></p>
<h4 id="module-outputs">Module Outputs</h4>
<p>None</p>
<h3 id="per-per1">Per: Per1</h3>
<h4 id="design-rationale-1">Design Rationale</h4>
<h4 id="processing-1">Processing</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image4.emf" /></p>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image5.emf" /></p>
<h4 id="module-outputs-1">Module Outputs</h4>
<p>None</p>
<h2 id="server-runnables">Server Runnables </h2>
<h3 id="copycalpagereq">CopyCalPageReq</h3>
<h4 id="design-rationale-2">Design Rationale</h4>
<p>This function is called by the XCP master and queues the copy of the calibrations contained in the selected group, or segment, into the RAM buffer. The actual copy is performed by TunSelnMngt’s main periodic function, but this runnable logs the current state of TunSelnMngt and marks the copy in progress.</p>
<h4 id="processing-of-function"> (Processing of function)………</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image6.emf" /></p>
<h4 id="module-outputs-2">Module Outputs</h4>
<p>None</p>
<h3 id="getcalpagereq">GetCalPageReq</h3>
<h4 id="design-rationale-3">Design Rationale</h4>
<p>This function is called by the XCP master and returns the page with the request XCP and ECU access for a given segment.</p>
<h4 id="processing-of-function-1"> (Processing of function)………</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image7.emf" /></p>
<h4 id="module-outputs-3">Module Outputs</h4>
<p>None</p>
<h3 id="getseginforeq">GetSegInfoReq</h3>
<h4 id="design-rationale-4">Design Rationale</h4>
<p>This function is called by the XCP master and returns the requested information for the provided segment.</p>
<h4 id="processing-of-function-2"> (Processing of function)………</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image8.emf" /></p>
<h4 id="module-outputs-4">Module Outputs</h4>
<p>None</p>
<h3 id="onlinetunramadrmpg">OnlineTunRamAdrMpg</h3>
<h4 id="design-rationale-5">Design Rationale</h4>
<p>This function is called by the XCP master. During tuning, tools such as eTool and CANape will read calibration values from their flash addresses because that is how the A2L file is defined. However, when the calibrations are access from RAM, the user does not always know the exact address the calibration is located. This function calculates the RAM address for a given calibration to the XCP function for reading and writing.</p>
<h4 id="processing-of-function-3"> (Processing of function)………</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image9.emf" /></p>
<h4 id="module-outputs-5">Module Outputs</h4>
<p>None</p>
<h3 id="setcalpagereq">SetCalPageReq</h3>
<h4 id="design-rationale-6">Design Rationale</h4>
<p>This function is called by the XCP master. This function will set the status of the calibration page for a given segment.</p>
<h4 id="processing-of-function-4"> (Processing of function)………</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image10.emf" /></p>
<h4 id="module-outputs-6">Module Outputs</h4>
<p>None</p>
<h2 id="interrupt-functions">Interrupt Functions</h2>
<p>None</p>
<h2 id="module-internal-local-functions">Module Internal (Local) Functions</h2>
<h3 id="swtcalidx">SwtCalIdx</h3>
<table style="width:100%;">
<colgroup>
<col style="width: 19%" />
<col style="width: 46%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>SwtCalIdx</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>N/A</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>Return Value</strong></td>
<td>N/A</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="design-rationale-7">Design Rationale</h4>
<p>This function manages the RAM buffer access and switches the calibration index between the two copies in RAM.</p>
<h4 id="processing-2">Processing</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image11.png" style="width:4.44167in;height:4.15556in" /></p>
<h3 id="idxchgmngt">IdxChgMngt</h3>
<table style="width:100%;">
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 17%" />
<col style="width: 10%" />
<col style="width: 11%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>IdxChgMngt</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>SeldIdx_Cnt_T_u08</td>
<td>Uint8</td>
<td>0</td>
<td>255</td>
</tr>
<tr class="odd">
<td></td>
<td>GendCalTblSize_Cnt_T_u08</td>
<td>Uint8</td>
<td>0</td>
<td>255</td>
</tr>
<tr class="even">
<td></td>
<td>GendCalTbl_T_rec</td>
<td>TunSelnIdxTblRec1*</td>
<td>0</td>
<td>4294967295</td>
</tr>
<tr class="odd">
<td><strong>Return Value</strong></td>
<td>IdxFound_Cnt_T_logl</td>
<td>Boolean</td>
<td>FALSE</td>
<td>TRUE</td>
</tr>
</tbody>
</table>
<h4 id="design-rationale-8">Design Rationale</h4>
<h4 id="processing-3">Processing</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image12.png" style="width:4.49375in;height:5.02569in" /></p>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image13.emf" /></p>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image14.emf" /></p>
<h3 id="memcopy32bit">MemCopy32Bit</h3>
<table>
<colgroup>
<col style="width: 19%" />
<col style="width: 46%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>MemCopy32Bit</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>Des_Arg</td>
<td>Void</td>
<td>0</td>
<td>4294967295</td>
</tr>
<tr class="odd">
<td></td>
<td>Src_Arg</td>
<td>Void</td>
<td>0</td>
<td>4294967295</td>
</tr>
<tr class="even">
<td></td>
<td>Len_Arg</td>
<td>Uint16</td>
<td>0</td>
<td>65535</td>
</tr>
<tr class="odd">
<td><strong>Return Value</strong></td>
<td>N/A</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="design-rationale-9">Design Rationale</h4>
<p>The 32-bit mem copy function is used to move calibration pointers from flash to RAM. The void pointers are internally assigned to a uint32 pointer before the processing loop begins.</p>
<h4 id="processing-4">Processing</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image15.emf" /></p>
<h3 id="memcopy8bit">MemCopy8Bit</h3>
<table>
<colgroup>
<col style="width: 19%" />
<col style="width: 46%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>MemCopy8Bit</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>Des_Arg</td>
<td>Void</td>
<td>0</td>
<td>4294967295</td>
</tr>
<tr class="odd">
<td></td>
<td>Src_Arg</td>
<td>Void</td>
<td>0</td>
<td>4294967295</td>
</tr>
<tr class="even">
<td></td>
<td>Len_Arg</td>
<td>Uint16</td>
<td>0</td>
<td>65535</td>
</tr>
<tr class="odd">
<td><strong>Return Value</strong></td>
<td>N/A</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="design-rationale-10">Design Rationale</h4>
<p>The 8-bit mem copy function is used to move calibration segments into the RAM space. Since the length of the segments is not guaranteed to be a 32-bit even address, 8-bit was selected to ensure that only the bytes required to be moved are performed. The void pointers are internally assigned to a uint8 pointer before the processing loop begins.</p>
<h4 id="processing-5">Processing</h4>
<h3 id="segmodadrinfo">SegModAdrInfo</h3>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 17%" />
<col style="width: 10%" />
<col style="width: 10%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>SegModAdrInfo</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>Seg_Arg</td>
<td>UInt8</td>
<td>0</td>
<td>255</td>
</tr>
<tr class="odd">
<td></td>
<td>SegInfo_Arg</td>
<td>GetSegModSegInfo1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td></td>
<td>Resp_Arg</td>
<td>Uint8*</td>
<td>0</td>
<td>255</td>
</tr>
<tr class="odd">
<td></td>
<td>RespLen_Arg</td>
<td>Uint8*</td>
<td>8</td>
<td>8</td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>Rtn_Cnt_T_u08</td>
<td>Uint8</td>
<td>0</td>
<td>255</td>
</tr>
</tbody>
</table>
<h4 id="design-rationale-11">Design Rationale</h4>
<h4 id="processing-6">Processing</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image16.emf" /></p>
<h3 id="segmodstdinfo">SegModStdInfo</h3>
<table style="width:100%;">
<colgroup>
<col style="width: 19%" />
<col style="width: 46%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>SegModStdInfo</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>Seg_Arg</td>
<td>Uint8</td>
<td>0</td>
<td>255</td>
</tr>
<tr class="odd">
<td></td>
<td>Resp_Arg</td>
<td>Uint8*</td>
<td>0</td>
<td>255</td>
</tr>
<tr class="even">
<td></td>
<td>RespLen_Arg</td>
<td>UInt8*</td>
<td>6</td>
<td>6</td>
</tr>
<tr class="odd">
<td><strong>Return Value</strong></td>
<td>&lt;Hard Coded&gt;</td>
<td>UInt8</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<h4 id="design-rationale-12">Design Rationale</h4>
<h4 id="processing-7">Processing</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image17.emf" /></p>
<h3 id="segmodadrmpg">SegModAdrMpg</h3>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 17%" />
<col style="width: 10%" />
<col style="width: 11%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>SegModAdrMpg</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>Seg_Arg</td>
<td>Uint8</td>
<td>0</td>
<td>255</td>
</tr>
<tr class="odd">
<td></td>
<td>MpgIdxInfo_Arg</td>
<td>GetSegModMpgIdx1</td>
<td>0</td>
<td>2</td>
</tr>
<tr class="even">
<td></td>
<td>MpgIdx_Arg</td>
<td>Uint8</td>
<td>0</td>
<td>255</td>
</tr>
<tr class="odd">
<td></td>
<td>Resp_Arg</td>
<td>UInt8*</td>
<td>0</td>
<td>4294967295</td>
</tr>
<tr class="even">
<td></td>
<td>RespLen_Arg</td>
<td>Uint8*</td>
<td>8</td>
<td>8</td>
</tr>
<tr class="odd">
<td><strong>Return Value</strong></td>
<td>Rtn_Cnt_T_u08</td>
<td>Uint8</td>
<td>0</td>
<td>255</td>
</tr>
</tbody>
</table>
<h4 id="design-rationale-13">Design Rationale</h4>
<h4 id="processing-8">Processing</h4>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image18.emf" /></p>
<h3 id="tunselnmngt_chkxcpwracs">TunSelnMngt_ChkXcpWrAcs</h3>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 17%" />
<col style="width: 10%" />
<col style="width: 11%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>TunSelnMngt_ChkXcpWrAcs</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>ReqAdr_Cnt_T_u32</td>
<td>Uint32</td>
<td>0</td>
<td>4294967296</td>
</tr>
<tr class="odd">
<td><strong>Return Value</strong></td>
<td>Rtn_Cnt_T_logl</td>
<td>Boolean</td>
<td>FALSE</td>
<td>TRUE</td>
</tr>
</tbody>
</table>
<h4 id="design-rationale-14">Design Rationale</h4>
<p>This function is generated based on the configured access regions in Configurator. Below is just a high level overview of the function. The conditions in the if statements are logically OR’d together to form the tests.</p>
<h4 id="processing-9">Processing</h4>
<p><strong><br />
</strong></p>
<h2 id="global-functionmacro-definitions">GLOBAL Function/Macro Definitions</h2>
<p>None</p>
<h1 id="known-limitations-with-design">Known Limitations with Design</h1>
<ol type="1">
<li><p>None</p></li>
</ol>
<h1 id="unit-test-consideration">UNIT TEST CONSIDERATION</h1>
<p>None</p>
<p class="heading" id="abbreviations-and-acronyms">Abbreviations and Acronyms</p>
<table>
<colgroup>
<col style="width: 32%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Abbreviation or Acronym</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p class="heading" id="glossary">Glossary</p>
<p><strong>Note</strong>: Terms and definitions from the source “Nexteer Automotive” take precedence over all other definitions of the same term. Terms and definitions from the source “Nexteer Automotive” are formulated from multiple sources, including the following:</p>
<ul>
<li><p>ISO 9000</p></li>
<li><p>ISO/IEC 12207</p></li>
<li><p>ISO/IEC 15504</p></li>
<li><p>Automotive SPICE® Process Reference Model (PRM)</p></li>
<li><p>Automotive SPICE® Process Assessment Model (PAM)</p></li>
<li><p>ISO/IEC 15288</p></li>
<li><p>ISO 26262</p></li>
<li><p>IEEE Standards</p></li>
<li><p>SWEBOK</p></li>
<li><p>PMBOK</p></li>
<li><p>Existing Nexteer Automotive documentation</p></li>
</ul>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 53%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Term</strong></th>
<th><strong>Definition</strong></th>
<th><strong>Source</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>MDD</td>
<td>Module Design Document</td>
<td></td>
</tr>
<tr class="even">
<td>DFD</td>
<td>Data Flow Diagram</td>
<td></td>
</tr>
</tbody>
</table>
<p class="heading" id="references">References</p>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 69%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Ref. #</strong></th>
<th><strong>Title</strong></th>
<th><strong>Version</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>AUTOSAR Specification of Memory Mapping (Link:<a href="http://www.autosar.org/download/R4.0/AUTOSAR_SWS_MemoryMapping.pdf">AUTOSAR_SWS_MemoryMapping.pdf</a>)</td>
<td>v1.3.0 R4.0 Rev 2</td>
</tr>
<tr class="even">
<td>2</td>
<td>MDD Guideline</td>
<td>EA4 01.00.01</td>
</tr>
<tr class="odd">
<td>3</td>
<td><a href="http://misagweb01.nexteer.com/eRoomReq/Files/erooms8/NextGeneration/0_fc55f/Software%20Naming%20Conventions%2003x(In%20Work).doc">Software Naming Conventions.doc</a></td>
<td>1.0</td>
</tr>
<tr class="even">
<td>4</td>
<td><a href="http://eroom1.nexteer.com/eRoomReq/Files/erooms8/NextGeneration/0_1a67a9/Software%20Design%20and%20Coding%20Standards.doc">Software Design and Coding Standards.doc</a></td>
<td>2.1</td>
</tr>
</tbody>
</table>
