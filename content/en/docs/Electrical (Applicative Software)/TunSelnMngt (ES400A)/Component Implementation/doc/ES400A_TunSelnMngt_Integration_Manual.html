---
title: ES400A_TunSelnMngt_Integration_Manual
linkTitle: ES400A_TunSelnMngt_Integration_Manual
weight: 2
---

<p><strong>Integration Manual</strong></p>
<p><strong>For</strong></p>
<p><strong>ES400A TunSelnMngt</strong></p>
<p><strong>VERSION: 4.0</strong></p>
<p><strong>DATE: 29-Aug-2016</strong></p>
<p><strong>Prepared By:</strong></p>
<p><strong>Kevin Smith</strong></p>
<p><strong>Nexteer Automotive,</strong></p>
<p><strong>Saginaw, MI, USA</strong></p>
<p><strong>Location:</strong> The official version of this document is stored in the Nexteer Configuration Management System.</p>
<p><strong>Revision History</strong></p>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 21%" />
<col style="width: 21%" />
<col style="width: 8%" />
<col style="width: 22%" />
<col style="width: 22%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Sl. No.</strong></td>
<td><strong>Description</strong></td>
<td><strong>Author</strong></td>
<td><strong>Version</strong></td>
<td><strong>Date</strong></td>
<td><strong>Approved By</strong></td>
</tr>
<tr class="even">
<td>1</td>
<td>Initial version</td>
<td>K. Smith</td>
<td>1.0</td>
<td>09-Oct-15</td>
<td>-</td>
</tr>
<tr class="odd">
<td>2</td>
<td>Updated for version 1 of the design</td>
<td>K. Smith</td>
<td>2.0</td>
<td>04-Apr-16</td>
<td></td>
</tr>
<tr class="even">
<td>3</td>
<td>Removed CalUsgProtn exclusive area</td>
<td>N. Saxton</td>
<td>3.0</td>
<td>06-May-16</td>
<td></td>
</tr>
<tr class="odd">
<td>4</td>
<td>Anomaly correction for EA4#6672</td>
<td>K. Smith</td>
<td>4.0</td>
<td>29-Aug-16</td>
<td></td>
</tr>
</tbody>
</table>
<p>Table of Contents</p>
<p><a href="#abbrevations-and-acronyms">1 Abbrevations And Acronyms 4</a></p>
<p><a href="#references">2 References 5</a></p>
<p><a href="#dependencies">3 Dependencies 6</a></p>
<p><a href="#swcs">3.1 SWCs 6</a></p>
<p><a href="#global-functionsnon-rte-to-be-provided-to-integration-project">3.2 Global Functions(Non RTE) to be provided to Integration Project 6</a></p>
<p><a href="#configuration-requirements">4 Configuration REQUIREMeNTS 7</a></p>
<p><a href="#build-time-config">4.1 Build Time Config 7</a></p>
<p><a href="#configuration-files-to-be-provided-by-integration-project">4.2 Configuration Files to be provided by Integration Project 7</a></p>
<p><a href="#da-vinci-parameter-configuration-changes">4.3 Da Vinci Parameter Configuration Changes 7</a></p>
<p><a href="#__RefHeading___Toc432152178">4.4 DaVinci Interrupt Configuration Changes 7</a></p>
<p><a href="#manual-configuration-changes">4.5 Manual Configuration Changes 7</a></p>
<p><a href="#integration-dataflow-requirements">5 Integration DATAFLOW REQUIREMENTS 8</a></p>
<p><a href="#required-global-data-inputs">5.1 Required Global Data Inputs 8</a></p>
<p><a href="#required-global-data-outputs">5.2 Required Global Data Outputs 8</a></p>
<p><a href="#specific-include-path-present">5.3 Specific Include Path present 8</a></p>
<p><a href="#runnable-scheduling">6 Runnable Scheduling 9</a></p>
<p><a href="#memory-map-requirements">7 Memory Map REQUIREMENTS 10</a></p>
<p><a href="#mapping">7.1 Mapping 10</a></p>
<p><a href="#usage">7.2 Usage 10</a></p>
<p><a href="#nvm-blocks">7.3 NvM Blocks 10</a></p>
<p><a href="#compiler-settings">8 Compiler Settings 11</a></p>
<p><a href="#preprocessor-macro">8.1 Preprocessor MACRO 11</a></p>
<p><a href="#optimization-settings">8.2 Optimization Settings 11</a></p>
<p><a href="#appendix">9 Appendix 12</a></p>
<h1 id="abbrevations-and-acronyms">Abbrevations And Acronyms</h1>
<table>
<colgroup>
<col style="width: 28%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Abbreviation</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="even">
<td>DFD</td>
<td>Design functional diagram</td>
</tr>
<tr class="odd">
<td>MDD</td>
<td>Module design Document</td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="references">References</h1>
<p>This section lists the title &amp; version of all the documents that are referred for development of this document</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 22%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Sr. No.</strong></td>
<td><strong>Title</strong></td>
<td><strong>Version</strong></td>
</tr>
<tr class="even">
<td>1</td>
<td>MDD Guidelines</td>
<td>Process 04.02.00</td>
</tr>
<tr class="odd">
<td>2</td>
<td>Software Naming Conventions</td>
<td>Process 04.02.00</td>
</tr>
<tr class="even">
<td>3</td>
<td>Coding standards</td>
<td>Process 04.02.00</td>
</tr>
<tr class="odd">
<td>4</td>
<td>ES400A_TunSelnMngt_Design</td>
<td>See Synergy subproject version</td>
</tr>
</tbody>
</table>
<h1 id="dependencies">Dependencies</h1>
<h2 id="swcs">SWCs</h2>
<table>
<colgroup>
<col style="width: 30%" />
<col style="width: 69%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Module</strong></td>
<td><strong>Required Feature</strong></td>
</tr>
<tr class="even">
<td><strong>None</strong></td>
<td></td>
</tr>
</tbody>
</table>
<p>Note : Referencing the external components should be avoided in most cases. Only in unavoidable circumstance external components should be referred. Developer should track the references.</p>
<h2 id="global-functionsnon-rte-to-be-provided-to-integration-project">Global Functions(Non RTE) to be provided to Integration Project</h2>
<p>None</p>
<h1 id="configuration-requirements">Configuration REQUIREMeNTS</h1>
<h2 id="build-time-config">Build Time Config</h2>
<table style="width:100%;">
<colgroup>
<col style="width: 36%" />
<col style="width: 53%" />
<col style="width: 9%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Modules</strong></td>
<td><strong>Notes</strong></td>
<td></td>
</tr>
<tr class="even">
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="configuration-files-to-be-provided-by-integration-project">Configuration Files to be provided by Integration Project</h2>
<ol type="1">
<li><p>TunSelnMngt_Cfg_private.h – Genereated by Configurator</p></li>
<li><p>TunSelnMngt_Cfg_private.c – Genereated by Configurator</p></li>
</ol>
<h2 id="da-vinci-parameter-configuration-changes">Da Vinci Parameter Configuration Changes</h2>
<p>All the parameters are generated by the data dictionary tool based on the configuration for the project</p>
<table>
<colgroup>
<col style="width: 30%" />
<col style="width: 55%" />
<col style="width: 7%" />
<col style="width: 6%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Parameter</strong></td>
<td colspan="2"><strong>Notes</strong></td>
<td><strong>SWC</strong></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td colspan="2"></td>
</tr>
</tbody>
</table>
<h2 id="davinci-interrupt-configuration-changes">DaVinci Interrupt Configuration Changes</h2>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 9%" />
<col style="width: 38%" />
<col style="width: 34%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>ISR Name</strong></td>
<td><strong>VIM #</strong></td>
<td><strong>Priority Dependency</strong></td>
<td><strong>Notes</strong></td>
</tr>
<tr class="even">
<td><strong>None</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="manual-configuration-changes">Manual Configuration Changes</h2>
<table>
<colgroup>
<col style="width: 39%" />
<col style="width: 47%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Constant</strong></td>
<td><strong>Notes</strong></td>
<td><strong>SWC</strong></td>
</tr>
<tr class="even">
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="exclusive-areas">Exclusive Areas</h2>
<table>
<colgroup>
<col style="width: 39%" />
<col style="width: 47%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Constant</strong></td>
<td><strong>Notes</strong></td>
<td><strong>SWC</strong></td>
</tr>
<tr class="even">
<td><strong>TunSelnMngtIntDataProtnExclsvArea</strong></td>
<td>Exclusive area needs to protect periodic access of PIMs from asynchronous updates by server runnables SetCalPageReq and CopyCalPage. Integrator verify if client calls to server runnables are interrupt or task based and set up exclusive area to properly protect access.</td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="integration-dataflow-requirements">Integration DATAFLOW REQUIREMENTS</h1>
<h2 id="required-global-data-inputs">Required Global Data Inputs</h2>
<h2 id="required-global-data-outputs">Required Global Data Outputs</h2>
<h2 id="specific-include-path-present">Specific Include Path present</h2>
<p>Yes. TunSelnMngt.h must also be included in Rte_UserTypes.h for non-RTE generated type definitions.</p>
<h1 id="runnable-scheduling">Runnable Scheduling </h1>
<p>This section specifies the required runnable scheduling.</p>
<table style="width:100%;">
<colgroup>
<col style="width: 25%" />
<col style="width: 54%" />
<col style="width: 20%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Init</strong></td>
<td><strong>Scheduling Requirements</strong></td>
<td><strong>Trigger</strong></td>
</tr>
<tr class="even">
<td><strong>TunSelnMngtInit1</strong></td>
<td>This init function should be performed before any calibration access is done by another component and after DiagcMgr has initialized. However, if the calibration access is only to common calibrations, then there would be no impact.</td>
<td>RTE</td>
</tr>
</tbody>
</table>
<table style="width:100%;">
<colgroup>
<col style="width: 25%" />
<col style="width: 54%" />
<col style="width: 20%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Runnable</strong></td>
<td><strong>Scheduling Requirements</strong></td>
<td><strong>Trigger</strong></td>
</tr>
<tr class="even">
<td><strong>TunSelnMngtPer1</strong></td>
<td>None</td>
<td>RTE 10ms</td>
</tr>
</tbody>
</table>
<p><strong>.</strong></p>
<h1 id="memory-map-requirements">Memory Map REQUIREMENTS</h1>
<h2 id="mapping">Mapping</h2>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 26%" />
<col style="width: 28%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Memory Section</strong></td>
<td><strong>Contents</strong></td>
<td><strong>Notes</strong></td>
</tr>
<tr class="even">
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>* Each …START_SEC… constant is terminated by a …STOP_SEC… constant as specified in the AUTOSAR Memory Mapping requirements.</p>
<h2 id="usage">Usage</h2>
<table>
<colgroup>
<col style="width: 55%" />
<col style="width: 23%" />
<col style="width: 21%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Feature</strong></td>
<td><strong>RAM</strong></td>
<td><strong>ROM</strong></td>
</tr>
<tr class="even">
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Table 1: ARM Cortex R4 Memory Usage</p>
<h2 id="nvm-blocks">NvM Blocks</h2>
<p>*See DataDict.m</p>
<h1 id="compiler-settings">Compiler Settings</h1>
<h2 id="preprocessor-macro"> Preprocessor MACRO</h2>
<p>None</p>
<h2 id="optimization-settings">Optimization Settings</h2>
<p>None</p>
<h1 id="appendix">Appendix</h1>
<h2 id="recommend-geny-settings-for-canembedded-projects">Recommend GENy settings for CANembedded Projects</h2>
<p>The following settings are recommend for online calibration support and DAQ access. This only applies to projects that XCP settings are generated by GENy.</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Configurable Options</td>
<td>Setting</td>
<td>Rationale</td>
</tr>
<tr class="even">
<td>Enable Calibration</td>
<td>True</td>
<td>Required to be true to enable write commands such as DOWNLOAD.</td>
</tr>
<tr class="odd">
<td>XCP Control</td>
<td>True</td>
<td>Required to enable or disable XCP access</td>
</tr>
<tr class="even">
<td>Open Command Interface</td>
<td>True</td>
<td>Required for XCP service E8 and E9 support</td>
</tr>
<tr class="odd">
<td>Prescaler</td>
<td>True</td>
<td>Required to support scaling the DAQ timing (example, 2ms DAQ can be scaled in mulitples of 2ms to create DAQs running at 4ms, 8ms, 10ms, etc).</td>
</tr>
<tr class="even">
<td>User Defined Commands</td>
<td>True</td>
<td>Required for additional functions built into XCP commands</td>
</tr>
<tr class="odd">
<td>Page Switching</td>
<td>True</td>
<td rowspan="3">Required for online calibration functions to properly operate.</td>
</tr>
<tr class="even">
<td>General Page Info</td>
<td>True</td>
</tr>
<tr class="odd">
<td>Copy Page</td>
<td>True</td>
</tr>
</tbody>
</table>
