---
title: StHlthSigStc_IntegrationManual
linkTitle: StHlthSigStc_IntegrationManual
weight: 4
---

<p><strong>Integration Manual</strong></p>
<p><strong>For</strong></p>
<p><strong>State of Health Signal Statistics</strong></p>
<p><strong>VERSION: 5.0</strong></p>
<p><strong>DATE: 12-Dec-2016</strong></p>
<p><strong>Prepared By:</strong></p>
<p><strong>Software Group,</strong></p>
<p><strong>Nexteer Automotive,</strong></p>
<p><strong>Saginaw, MI, USA</strong></p>
<p><strong>Revision History</strong></p>
<table>
<colgroup>
<col style="width: 5%" />
<col style="width: 27%" />
<col style="width: 27%" />
<col style="width: 10%" />
<col style="width: 28%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Sl. No.</strong></td>
<td><strong>Description</strong></td>
<td><strong>Author</strong></td>
<td><strong>Version</strong></td>
<td><strong>Date</strong></td>
</tr>
<tr class="even">
<td>1</td>
<td>Initial version</td>
<td>Akilan Rathakrishnan</td>
<td>1.0</td>
<td>15-Feb-2016</td>
</tr>
<tr class="odd">
<td>2</td>
<td>EA4#4910 fix</td>
<td>Akilan Rathakrishnan</td>
<td>2.0</td>
<td>28-Mar-2016</td>
</tr>
<tr class="even">
<td>3</td>
<td>EA4#5553 update</td>
<td>Akilan Rathakrishnan</td>
<td>3.0</td>
<td>02-May-2016</td>
</tr>
<tr class="odd">
<td>4</td>
<td>EA4#7307</td>
<td>Akilan Rathakrishnan</td>
<td>4.0</td>
<td>27-Sep-2016</td>
</tr>
<tr class="even">
<td>5</td>
<td>EA4#7836 – added note for regenerating cfg files</td>
<td>Akilan Rathakrishnan</td>
<td>5.0</td>
<td>12-Dec-2016</td>
</tr>
</tbody>
</table>
<p>Table of Contents</p>
<p><a href="#abbrevations-and-acronyms">1 Abbrevations And Acronyms 4</a></p>
<p><a href="#references">2 References 5</a></p>
<p><a href="#dependencies">3 Dependencies 6</a></p>
<p><a href="#swcs">3.1 SWCs 6</a></p>
<p><a href="#global-functionsnon-rte-to-be-provided-to-integration-project">3.2 Global Functions(Non RTE) to be provided to Integration Project 6</a></p>
<p><a href="#configuration-requirements">4 Configuration REQUIREMeNTS 7</a></p>
<p><a href="#build-time-config">4.1 Build Time Config 7</a></p>
<p><a href="#configuration-files-to-be-provided-by-integration-project">4.2 Configuration Files to be provided by Integration Project 7</a></p>
<p><a href="#da-vinci-parameter-configuration-changes">4.3 Da Vinci Parameter Configuration Changes 7</a></p>
<p><a href="#davinci-interrupt-configuration-changes">4.4 DaVinci Interrupt Configuration Changes 8</a></p>
<p><a href="#manual-configuration-changes">4.5 Manual Configuration Changes 8</a></p>
<p><a href="#integration-dataflow-requirements">5 Integration DATAFLOW REQUIREMENTS 9</a></p>
<p><a href="#required-global-data-inputs">5.1 Required Global Data Inputs 9</a></p>
<p><a href="#required-global-data-outputs">5.2 Required Global Data Outputs 9</a></p>
<p><a href="#specific-include-path-present">5.3 Specific Include Path present 9</a></p>
<p><a href="#runnable-scheduling">6 Runnable Scheduling 10</a></p>
<p><a href="#memory-map-requirements">7 Memory Map REQUIREMENTS 11</a></p>
<p><a href="#mapping">7.1 Mapping 11</a></p>
<p><a href="#usage">7.2 Usage 11</a></p>
<p><a href="#non-rte-nvm-blocks">7.3 Non RTE NvM Blocks 11</a></p>
<p><a href="#rte-nvm-blocks">7.4 RTE NvM Blocks 11</a></p>
<p><a href="#compiler-settings">8 Compiler Settings 12</a></p>
<p><a href="#preprocessor-macro">8.1 Preprocessor MACRO 12</a></p>
<p><a href="#optimization-settings">8.2 Optimization Settings 12</a></p>
<p><a href="#appendix">9 Appendix 13</a></p>
<h1 id="abbrevations-and-acronyms">Abbrevations And Acronyms</h1>
<table>
<colgroup>
<col style="width: 28%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Abbreviation</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="even">
<td>DFD</td>
<td>Design functional diagram</td>
</tr>
<tr class="odd">
<td>MDD</td>
<td>Module design Document</td>
</tr>
<tr class="even">
<td></td>
<td>&lt;ADD more to the table if applicable&gt;</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="references">References</h1>
<p>This section lists the title &amp; version of all the documents that are referred for development of this document</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 22%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Sr. No.</strong></td>
<td><strong>Title</strong></td>
<td><strong>Version</strong></td>
</tr>
<tr class="even">
<td>&lt;1&gt;</td>
<td>&lt;FDD - &lt;FDD ES106A_StHlthSigStc_Design&gt;</td>
<td>Refer Synergy subproject version</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="dependencies">Dependencies</h1>
<h2 id="swcs">SWCs</h2>
<table>
<colgroup>
<col style="width: 30%" />
<col style="width: 69%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Module</strong></td>
<td><strong>Required Feature</strong></td>
</tr>
<tr class="even">
<td><strong>None</strong></td>
<td>N/A</td>
</tr>
</tbody>
</table>
<p>Note : Referencing the external components should be avoided in most cases. Only in unavoidable circumstance external components should be referred. Developer should track the references.</p>
<h2 id="global-functionsnon-rte-to-be-provided-to-integration-project">Global Functions(Non RTE) to be provided to Integration Project</h2>
<p>See section 6. Please note the server runnables listed can be used as needed in the integration project and can be called via the RTE or outside of the RTE as required</p>
<table>
<colgroup>
<col style="width: 51%" />
<col style="width: 27%" />
<col style="width: 21%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Non-Trusted Function</strong></td>
<td><strong>Parameters</strong></td>
<td><strong>Notes</strong></td>
</tr>
<tr class="even">
<td><strong>NONTRUSTED_NtWrapS_StHlthSigStc_UpdNvmPim</strong></td>
<td></td>
<td>This function shall be defined as a non-trusted function call to the application that StHlthSigStc is integrated.</td>
</tr>
<tr class="odd">
<td><strong>NONTRUSTED_NtWrapS_StHlthSigStc_ClrDataSample</strong></td>
<td></td>
<td>This function shall be defined as a non-trusted function call to the application that StHlthSigStc is integrated.</td>
</tr>
<tr class="even">
<td><strong>NONTRUSTED_NtWrapS_StHlthSigStc_UpdDataSample</strong></td>
<td></td>
<td>This function shall be defined as a non-trusted function call to the application that StHlthSigStc is integrated.</td>
</tr>
</tbody>
</table>
<h1 id="configuration-requirements">Configuration REQUIREMeNTS</h1>
<h2 id="build-time-config">Build Time Config</h2>
<table style="width:100%;">
<colgroup>
<col style="width: 36%" />
<col style="width: 53%" />
<col style="width: 9%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Modules</strong></td>
<td><strong>Notes</strong></td>
<td></td>
</tr>
<tr class="even">
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="configuration-files-to-be-provided-by-integration-project">Configuration Files to be provided by Integration Project</h2>
<p>StHlthSigStc_Cfg.c</p>
<p>StHlthSigStc_Cfg.h</p>
<p>Note 1: Include “StHlthSigStc_Cfg.h” in the “Rte_UserTypes.h” file since user defined typedefs are generated in this file.</p>
<p>Note 2: Configuration files “<em>StHlthSigStc_Cfg.c” and “StHlthSigStc_Cfg.h”</em></p>
<p>shall be regenerated whenever there is a change in text template files <em>StHlthSigStc_Cfg.c.tt and StHlthSigStc_Cfg.h.tt.</em></p>
<h2 id="da-vinci-parameter-configuration-changes">Da Vinci Parameter Configuration Changes</h2>
<p>Following configurations shall be made in DaVinci configurator for the component.</p>
<p>There are three containers that need to be instantiated for this components configuration.</p>
<ol type="1">
<li><p>StHlthSigStcApplicationConfigs : OS application in which this component is scheduled to run shall be configured in this container.</p></li>
</ol>
<table>
<colgroup>
<col style="width: 55%" />
<col style="width: 44%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Parameter Name</strong></td>
<td><strong>Parameter Value</strong></td>
</tr>
<tr class="even">
<td>OS Application Reference</td>
<td>Application in which ES106A scheduled</td>
</tr>
</tbody>
</table>
<ol start="2" type="1">
<li><p>StHlthSigStcCrConfigLists: List of CRC constants that are need to be checked for NvM validation shall be configured in this container. Each CRC constant shall have one entry.</p></li>
</ol>
<blockquote>
<p>Below table indicates list of CRC values currently considered.</p>
</blockquote>
<table>
<colgroup>
<col style="width: 55%" />
<col style="width: 44%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Parameter Name</strong></td>
<td><strong>Parameter Value</strong></td>
</tr>
<tr class="even">
<td>StHlthSigStcCrcStartSymbol</td>
<td>Application CRC symbol name</td>
</tr>
</tbody>
</table>
<ol start="3" type="1">
<li><p>StHlthSigStcSignalLists: This list shall have one entry for every monitored signal.</p></li>
</ol>
<blockquote>
<p>Following set of information shall be configured for every signal:</p>
</blockquote>
<ol type="a">
<li><p>Singal Name: Signal name of the State of Health signal (mentioned in the below table).</p></li>
<li><p>Task Id: Task id of the task in which the periodic(s) from the FDD, mentioned against respective signal in the below table, is scheduled.</p></li>
<li><p>Loop time: Loop time of the task with 1 micro second resolution.</p></li>
</ol>
<table>
<colgroup>
<col style="width: 49%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Signal Name</strong></td>
<td><strong>FDD</strong></td>
</tr>
<tr class="even">
<td>CtrlrTStHlth</td>
<td>ES210A_EcuTMeas</td>
</tr>
<tr class="odd">
<td>OutpAssiStHlth</td>
<td>ES259A_BattVltgCorrln</td>
</tr>
<tr class="even">
<td>DigTqSnsrAStHlth</td>
<td>ES229A_HwTqCorrln</td>
</tr>
<tr class="odd">
<td>DigTqSnsrBStHlth</td>
<td>ES229A_HwTqCorrln</td>
</tr>
<tr class="even">
<td>DigTqIdptSigStHlth</td>
<td>ES229A_HwTqCorrln</td>
</tr>
<tr class="odd">
<td>DutyCycStHlth</td>
<td>SF009A_DutyCycThermProtn</td>
</tr>
<tr class="even">
<td>EotImpctStHlth</td>
<td>SF011A_EotLrng</td>
</tr>
<tr class="odd">
<td>MotPosStHlth</td>
<td>ES241A_MotAg2Meas</td>
</tr>
<tr class="even">
<td>AbsltMotPosABDifStHlth</td>
<td>ES249A_MotAgCorrln</td>
</tr>
<tr class="odd">
<td>AbsltMotPosACDifStHlth</td>
<td>ES249A_MotAgCorrln</td>
</tr>
<tr class="even">
<td>AbsltMotPosBCDifStHlth</td>
<td>ES249A_MotAgCorrln</td>
</tr>
<tr class="odd">
<td>CurrMotSumABCStHlth</td>
<td>ES209A_CurrMeasCorrln</td>
</tr>
<tr class="even">
<td>CurrMotSumDEFStHlth</td>
<td>ES209A_CurrMeasCorrln</td>
</tr>
<tr class="odd">
<td>PhaAStHlth</td>
<td>ES320A_MotDrvDiagc</td>
</tr>
<tr class="even">
<td>PhaBStHlth</td>
<td>ES320A_MotDrvDiagc</td>
</tr>
<tr class="odd">
<td>PhaCStHlth</td>
<td>ES320A_MotDrvDiagc</td>
</tr>
<tr class="even">
<td>PhaDStHlth</td>
<td>ES320A_MotDrvDiagc</td>
</tr>
<tr class="odd">
<td>PhaEStHlth</td>
<td>ES320A_MotDrvDiagc</td>
</tr>
<tr class="even">
<td>PhaEStHlth</td>
<td>ES320A_MotDrvDiagc</td>
</tr>
<tr class="odd">
<td>RamEccSngBitCorrnStHlth</td>
<td>CM103A_RamMem</td>
</tr>
<tr class="even">
<td>FricEstimnStHlth</td>
<td>SF007A_SysFricLrng</td>
</tr>
<tr class="odd">
<td>WhlImbMaxCmpStHlth</td>
<td>SF015A_WhlImbRejctn</td>
</tr>
</tbody>
</table>
<h2 id="davinci-interrupt-configuration-changes">DaVinci Interrupt Configuration Changes</h2>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 9%" />
<col style="width: 38%" />
<col style="width: 34%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>ISR Name</strong></td>
<td><strong>VIM #</strong></td>
<td><strong>Priority Dependency</strong></td>
<td><strong>Notes</strong></td>
</tr>
<tr class="even">
<td><strong>N/A</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="manual-configuration-changes">Manual Configuration Changes</h2>
<table>
<colgroup>
<col style="width: 39%" />
<col style="width: 47%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Constant</strong></td>
<td><strong>Notes</strong></td>
<td><strong>SWC</strong></td>
</tr>
<tr class="even">
<td><strong>N/A</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="integration-dataflow-requirements">Integration DATAFLOW REQUIREMENTS</h1>
<h2 id="required-global-data-inputs">Required Global Data Inputs</h2>
<p>Refer DataDict.m file</p>
<h2 id="required-global-data-outputs">Required Global Data Outputs</h2>
<p>Refer DataDict.m file</p>
<h2 id="specific-include-path-present">Specific Include Path present</h2>
<p>Yes</p>
<h1 id="runnable-scheduling">Runnable Scheduling </h1>
<p>This section specifies the required runnable scheduling.</p>
<table style="width:100%;">
<colgroup>
<col style="width: 25%" />
<col style="width: 54%" />
<col style="width: 20%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Init</strong></td>
<td><strong>Scheduling Requirements</strong></td>
<td><strong>Trigger</strong></td>
</tr>
<tr class="even">
<td><strong>StHlthSigStcInit1</strong></td>
<td>Invoked by RTE during Init</td>
<td>RTE</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 51%" />
<col style="width: 39%" />
<col style="width: 9%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Runnable</strong></td>
<td><strong>Scheduling Requirements</strong></td>
<td><strong>Trigger</strong></td>
</tr>
<tr class="even">
<td><strong>ClrSigStcHlthData_Oper</strong></td>
<td>Server Runnable</td>
<td>Client Call</td>
</tr>
<tr class="odd">
<td><strong>GetSigStcHlthData_Oper</strong></td>
<td>Server Runnable</td>
<td>Client Call</td>
</tr>
<tr class="even">
<td><strong>StHlthStcPwrDwn_Oper</strong></td>
<td>Server Runnable</td>
<td>Client Call</td>
</tr>
<tr class="odd">
<td><strong>UpdStHlthStcData_Oper</strong></td>
<td>Server Runnable</td>
<td>Client Call</td>
</tr>
<tr class="even">
<td><strong>NONTRUSTED_NtWrapS_StHlthSigStc_ClrDataSample</strong></td>
<td><p>Non-Tusted function definition</p>
<p>(Index: NtWrapS_StHlthSigStc_ClrDataSample)</p></td>
<td>On Event</td>
</tr>
<tr class="odd">
<td><strong>NONTRUSTED_NtWrapS_StHlthSigStc_UpdNvmPim</strong></td>
<td><p>Non-Tusted function definition</p>
<p>(Index: NtWrapS_StHlthSigStc_UpdNvmPim)</p></td>
<td>On Event</td>
</tr>
<tr class="even">
<td><strong>NONTRUSTED_NtWrapS_StHlthSigStc_UpdDataSample</strong></td>
<td><p>Non-Tusted function definition</p>
<p>(Index: NtWrapS_StHlthSigStc_UpdDataSample)</p></td>
<td>On Event</td>
</tr>
</tbody>
</table>
<h1 id="memory-map-requirements">Memory Map REQUIREMENTS</h1>
<h2 id="mapping">Mapping</h2>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 26%" />
<col style="width: 28%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Memory Section</strong></td>
<td><strong>Contents</strong></td>
<td><strong>Notes</strong></td>
</tr>
<tr class="even">
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>* Each …START_SEC… constant is terminated by a …STOP_SEC… constant as specified in the AUTOSAR Memory Mapping requirements.</p>
<h2 id="usage">Usage</h2>
<table>
<colgroup>
<col style="width: 55%" />
<col style="width: 23%" />
<col style="width: 21%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Feature</strong></td>
<td><strong>RAM</strong></td>
<td><strong>ROM</strong></td>
</tr>
<tr class="even">
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Table 1: ARM Cortex R4 Memory Usage</p>
<h2 id="non-rte-nvm-blocks">Non RTE NvM Blocks</h2>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Block Name</strong></td>
</tr>
<tr class="even">
<td><strong>None</strong></td>
</tr>
</tbody>
</table>
<p>Note : Size of the NVM block if configured in developer</p>
<h2 id="rte-nvm-blocks"> RTE NvM Blocks</h2>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Block Name</strong></td>
</tr>
<tr class="even">
<td><strong>SigStcHistDataAry</strong></td>
</tr>
</tbody>
</table>
<p>Note : Size of the NVM block if configured in developer</p>
<h1 id="compiler-settings">Compiler Settings</h1>
<h2 id="preprocessor-macro"> Preprocessor MACRO</h2>
<p>None</p>
<h2 id="optimization-settings">Optimization Settings</h2>
<p>None</p>
<h1 id="appendix">Appendix</h1>
<p><em>&lt;This section is for appendix&gt;</em></p>
