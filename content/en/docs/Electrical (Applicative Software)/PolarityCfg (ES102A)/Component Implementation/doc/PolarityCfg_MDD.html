---
title: PolarityCfg_MDD
linkTitle: PolarityCfg_MDD
weight: 3
---

<p><strong>Module Design Document</strong></p>
<p><strong>For</strong></p>
<p><strong>‘PolarityCfg’</strong></p>
<p><strong>VERSION: 1.0</strong></p>
<p><strong>DATE: 26-May-2015</strong></p>
<p><strong>Prepared By:</strong></p>
<p><strong>Sankardu Varadapureddi,</strong></p>
<p><strong>Nexteer Automotive,</strong></p>
<p><strong>Saginaw, MI, USA</strong></p>
<p><strong><br />
Location:</strong> The official version of this document is stored in the Nexteer Configuration Management System.</p>
<p><strong>Revision History</strong></p>
<table style="width:100%;">
<colgroup>
<col style="width: 6%" />
<col style="width: 31%" />
<col style="width: 31%" />
<col style="width: 12%" />
<col style="width: 17%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Sl. No.</strong></td>
<td><strong>Description</strong></td>
<td><strong>Author</strong></td>
<td><strong>Version</strong></td>
<td><strong>Date</strong></td>
</tr>
<tr class="even">
<td>1</td>
<td>Initial Version</td>
<td>Sankardu Varadapureddi</td>
<td>1.0</td>
<td>26-May-2015</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong><u><br />
Table of Contents</u></strong></p>
<p><a href="#abbrevations-and-acronyms">1 Abbrevations And Acronyms <span>5</span></a></p>
<p><a href="#references">2 References <span>6</span></a></p>
<p><a href="#power-disconnect-high-level-description">3 Power Disconnect High-Level Description <span>7</span></a></p>
<p><a href="#design-details-of-software-module">4 Design details of software module <span>8</span></a></p>
<p><a href="#graphical-representation-of-power-disconnect">4.1 Graphical representation of POWER DISCONNECT <span>8</span></a></p>
<p><a href="#data-flow-diagram">4.2 Data Flow Diagram <span>8</span></a></p>
<p><a href="#module-level-dfd">4.2.1 Module level DFD <span>8</span></a></p>
<p><a href="#sub-module-level-dfd">4.2.2 Sub-Module level DFD <span>8</span></a></p>
<p><a href="#component-flow-diagram">4.3 COMPONENT FLOW DIAGRAM <span>8</span></a></p>
<p><a href="#variable-data-dictionary">5 Variable Data Dictionary <span>9</span></a></p>
<p><a href="#user-defined-typedef-definitiondeclaration">5.1 User defined typedef definition/declaration <span>9</span></a></p>
<p><a href="#variable-definition-for-enumerated-types">5.2 Variable definition for enumerated types <span>9</span></a></p>
<p><a href="#constant-data-dictionary">6 Constant Data Dictionary <span>10</span></a></p>
<p><a href="#programfixed-constants">6.1 Program(fixed) Constants <span>10</span></a></p>
<p><a href="#embedded-constants">6.1.1 Embedded Constants <span>10</span></a></p>
<p><a href="#local">6.1.1.1 Local <span>10</span></a></p>
<p><a href="#global">6.1.1.2 Global <span>10</span></a></p>
<p><a href="#module-specific-lookup-tables-constants">6.1.2 Module specific Lookup Tables Constants <span>10</span></a></p>
<p><a href="#software-module-implementation">7 Software Module Implementation <span>12</span></a></p>
<p><a href="#sub-module-functions">7.1 Sub-Module Functions <span>12</span></a></p>
<p><a href="#initialization-functions">7.1.1 Initialization Functions <span>12</span></a></p>
<p><a href="#init-polaritycfginit">7.1.1.1 INIT: PolarityCfgInit <span>12</span></a></p>
<p><a href="#design-rationale">7.1.1.1.1 Design Rationale <span>12</span></a></p>
<p><a href="#module-outputs">7.1.1.1.2 Module Outputs <span>12</span></a></p>
<p><a href="#module-internal">7.1.1.1.3 Module Internal <span>12</span></a></p>
<p><a href="#periodic-functions">7.1.2 PERIODIC FUNCTIONS <span>12</span></a></p>
<p><a href="#interrupt-functions">7.1.3 Interrupt Functions <span>12</span></a></p>
<p><a href="#server-runnables">7.1.4 Server runnables <span>13</span></a></p>
<p><a href="#polaritycfgread">7.1.4.1 PolarityCfgRead <span>13</span></a></p>
<p><a href="#design-rationale-1">7.1.4.1.1 Design Rationale <span>13</span></a></p>
<p><a href="#store-module-inputs-to-local-copies">7.1.4.1.2 Store Module Inputs to Local copies <span>13</span></a></p>
<p><a href="#processing-of-function">7.1.4.1.3 (Processing of function)……… <span>13</span></a></p>
<p><a href="#store-local-copy-of-outputs-into-module-outputs">7.1.4.1.4 Store Local copy of outputs into Module Outputs <span>13</span></a></p>
<p><a href="#polaritycfgwr">7.1.4.2 PolarityCfgWr <span>13</span></a></p>
<p><a href="#design-rationale-2">7.1.4.2.1 Design Rationale <span>13</span></a></p>
<p><a href="#store-module-inputs-to-local-copies-1">7.1.4.2.2 Store Module Inputs to Local copies <span>13</span></a></p>
<p><a href="#processing-of-function-1">7.1.4.2.3 (Processing of function)……… <span>13</span></a></p>
<p><a href="#store-local-copy-of-outputs-into-module-outputs-1">7.1.4.2.4 Store Local copy of outputs into Module Outputs <span>13</span></a></p>
<p><a href="#local-functionmacro-definitions">7.1.5 Local Function/Macro Definitions <span>13</span></a></p>
<p><a href="#local-function-1">7.1.5.1 Local Function #1 <span>13</span></a></p>
<p><a href="#description">7.1.5.2 Description <span>13</span></a></p>
<p><a href="#global-functionmacro-definitions">7.1.6 GLObAL Function/Macro Definitions <span>13</span></a></p>
<p><a href="#tranisition-functions">7.1.7 Tranisition FUNCTIONS <span>14</span></a></p>
<p><a href="#known-limitations-with-design">8 Known Limitations With Design <span>15</span></a></p>
<p><a href="#unit-test-consideration">9 UNIT TEST CONSIDERATION <span>16</span></a></p>
<p><a href="#appendix">10 Appendix <span>17</span></a></p>
<h1 id="abbrevations-and-acronyms">Abbrevations And Acronyms</h1>
<table>
<colgroup>
<col style="width: 28%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="header">
<th>Abbreviation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>DFD</td>
<td>Design functional diagram</td>
</tr>
<tr class="even">
<td>MDD</td>
<td>Module design Document</td>
</tr>
<tr class="odd">
<td>FDD</td>
<td>Functional Design Document</td>
</tr>
</tbody>
</table>
<h1 id="references">References</h1>
<p>This section lists the title &amp; version of all the documents that are referred for development of this document</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="header">
<th>Sr. No.</th>
<th>Title</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>MDD Guidelines</td>
<td>Process 3.06.00</td>
</tr>
<tr class="even">
<td>2</td>
<td>Software Naming Conventions</td>
<td>Process 3.06.00</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Software Design and Coding standards</td>
<td>Process 3.06.00</td>
</tr>
<tr class="even">
<td>4</td>
<td>FDD – ES102A_PolarityCfg_Design</td>
<td>See Synergy sub project version</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="power-disconnect-high-level-description">Power Disconnect High-Level Description</h1>
<p><em>This function will identify polarity control settings for certain points in the design.</em></p>
<h1 id="design-details-of-software-module">Design details of software module</h1>
<h2 id="graphical-representation-of-power-disconnect">Graphical representation of POWER DISCONNECT</h2>
<p><img src="ElectricPowerSteering_RH850_GM_T1XX_website/static/media/image1.png" style="width:2.39167in;height:4.925in" /></p>
<h2 id="data-flow-diagram">Data Flow Diagram</h2>
<p><em>Refer FDD</em></p>
<h2 id="module-level-dfd">Module level DFD</h2>
<p><em>Refer FDD</em></p>
<h2 id="sub-module-level-dfd">Sub-Module level DFD</h2>
<p><em>Refer FDD</em></p>
<h2 id="component-flow-diagram">COMPONENT FLOW DIAGRAM</h2>
<p><em>Refer FDD</em></p>
<h1 id="variable-data-dictionary">Variable Data Dictionary</h1>
<h2 id="user-defined-typedef-definitiondeclaration">User defined typedef definition/declaration </h2>
<p><em>&lt;This section documents any user types uniquely used for the module.&gt;</em></p>
<table>
<colgroup>
<col style="width: 34%" />
<col style="width: 31%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="header">
<th>Typedef Name</th>
<th>Element Name</th>
<th>User Defined Type</th>
<th><p>Legal Range</p>
<p>(min)</p></th>
<th><p>Legal Range</p>
<p>(max)</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>None</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="variable-definition-for-enumerated-types">Variable definition for enumerated types</h2>
<table>
<colgroup>
<col style="width: 44%" />
<col style="width: 40%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="header">
<th>Enum Name</th>
<th>Element Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>None</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="constant-data-dictionary">Constant Data Dictionary</h1>
<h2 id="programfixed-constants">Program(fixed) Constants</h2>
<h2 id="embedded-constants">Embedded Constants</h2>
<h2 id="local">Local </h2>
<table>
<colgroup>
<col style="width: 42%" />
<col style="width: 21%" />
<col style="width: 16%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr class="header">
<th>Constant Name</th>
<th>Resolution</th>
<th>Units</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>HWAG0POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000001U</td>
</tr>
<tr class="even">
<td>HWAG1POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000002U</td>
</tr>
<tr class="odd">
<td>HWAG2POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000004U</td>
</tr>
<tr class="even">
<td>HWAG3POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000008U</td>
</tr>
<tr class="odd">
<td>HWAG4POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000010U</td>
</tr>
<tr class="even">
<td>HWAG5POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000020U</td>
</tr>
<tr class="odd">
<td>HWAG6POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000040U</td>
</tr>
<tr class="even">
<td>HWAG7POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000080U</td>
</tr>
<tr class="odd">
<td>HWTQ0POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000100U</td>
</tr>
<tr class="even">
<td>HWTQ1POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000200U</td>
</tr>
<tr class="odd">
<td>HWTQ2POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000400U</td>
</tr>
<tr class="even">
<td>HWTQ3POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00000800U</td>
</tr>
<tr class="odd">
<td>HWTQ4POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00001000U</td>
</tr>
<tr class="even">
<td>HWTQ5POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00002000U</td>
</tr>
<tr class="odd">
<td>HWTQ6POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00004000U</td>
</tr>
<tr class="even">
<td>HWTQ7POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00008000U</td>
</tr>
<tr class="odd">
<td>MOTAGMECL0POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00010000U</td>
</tr>
<tr class="even">
<td>MOTAGMECL1POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00020000U</td>
</tr>
<tr class="odd">
<td>MOTAGMECL2POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00040000U</td>
</tr>
<tr class="even">
<td>MOTAGMECL3POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00080000U</td>
</tr>
<tr class="odd">
<td>MOTAGMECL4POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00100000U</td>
</tr>
<tr class="even">
<td>MOTAGMECL5POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00200000U</td>
</tr>
<tr class="odd">
<td>MOTAGMECL6POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00400000U</td>
</tr>
<tr class="even">
<td>MOTAGMECL7POL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x00800000U</td>
</tr>
<tr class="odd">
<td>MOTELECMECLPOL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x01000000U</td>
</tr>
<tr class="even">
<td>ASSIMECHPOL_CNT_U32</td>
<td>Bitfield Mask</td>
<td>NA</td>
<td>0x02000000U</td>
</tr>
</tbody>
</table>
<h2 id="global">Global</h2>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>Constant Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<h2 id="module-specific-lookup-tables-constants">Module specific Lookup Tables Constants</h2>
<table>
<colgroup>
<col style="width: 42%" />
<col style="width: 20%" />
<col style="width: 18%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="header">
<th>Constant Name</th>
<th>Resolution</th>
<th>Value</th>
<th>Software Segment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>None</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="software-module-implementation">Software Module Implementation</h1>
<h2 id="sub-module-functions">Sub-Module Functions </h2>
<h2 id="initialization-functions">Initialization Functions</h2>
<p><em>PolarityCfgInit</em></p>
<h2 id="init-polaritycfginit">INIT: PolarityCfgInit</h2>
<h2 id="design-rationale">Design Rationale</h2>
<p><em>Design follows implemenetation in FDD.</em></p>
<h2 id="module-outputs">Module Outputs</h2>
<p><em>Refer ‘PolarityCfgInit’ block in FDD</em></p>
<h2 id="module-internal">Module Internal </h2>
<p>None</p>
<h2 id="periodic-functions">PERIODIC FUNCTIONS </h2>
<p>None</p>
<h2 id="interrupt-functions">Interrupt Functions</h2>
<p><em>None</em></p>
<h2 id="server-runnables"><br />
Server runnables</h2>
<h2 id="polaritycfgread"> PolarityCfgRead</h2>
<h2 id="design-rationale-1">Design Rationale</h2>
<p><em>None</em></p>
<h2 id="store-module-inputs-to-local-copies">Store Module Inputs to Local copies</h2>
<p><em>None</em></p>
<h2 id="processing-of-function">(Processing of function)………</h2>
<p><em>Refer ‘PolarityCfgRead’ block in FDD</em></p>
<h2 id="store-local-copy-of-outputs-into-module-outputs">Store Local copy of outputs into Module Outputs</h2>
<p><em>None</em></p>
<h2 id="polaritycfgwr">PolarityCfgWr</h2>
<h2 id="design-rationale-2">Design Rationale</h2>
<p><em>None</em></p>
<h2 id="store-module-inputs-to-local-copies-1">Store Module Inputs to Local copies</h2>
<p><em>None</em></p>
<h2 id="processing-of-function-1">(Processing of function)………</h2>
<p><em>Refer</em> ‘<em>PolarityCfgWr’ block in FDD</em></p>
<h2 id="store-local-copy-of-outputs-into-module-outputs-1">Store Local copy of outputs into Module Outputs</h2>
<p><em>None</em></p>
<h2 id="local-functionmacro-definitions">Local Function/Macro Definitions</h2>
<h2 id="local-function-1">Local Function #1</h2>
<table>
<colgroup>
<col style="width: 19%" />
<col style="width: 35%" />
<col style="width: 13%" />
<col style="width: 19%" />
<col style="width: 11%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>GetPolarity</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>Polarity_Cnt_T_u32</td>
<td>uint32</td>
<td>0</td>
<td>0xFFFFFFFF</td>
</tr>
<tr class="odd">
<td></td>
<td>PolarityMask_Cnt_T_u32</td>
<td>uint32</td>
<td>0x00000001</td>
<td>0x02000000</td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>Polarity_Cnt_T_s08</td>
<td>sint08</td>
<td>-1</td>
<td>1</td>
</tr>
</tbody>
</table>
<h2 id="description">Description</h2>
<ul>
<li><p><strong>Design:</strong></p></li>
</ul>
<p>if ( (Polarity_Cnt_T_u32 &amp; PolarityMask_Cnt_T_u32) == PolarityMask_Cnt_T_u32 )</p>
<p>set ‘Polarity_Cnt_T_s08’ to ‘1’</p>
<p>else</p>
<p>set ‘Polarity_Cnt_T_s08’ to ‘-1’</p>
<ul>
<li><p><strong>Note:</strong> ‘PolarityMask_Cnt_T_u32’ is a bit field mask and takes values mentioned in table at sec 6.1.1.1</p></li>
</ul>
<h2 id="global-functionmacro-definitions">GLObAL Function/Macro Definitions</h2>
<p>None</p>
<h2 id="tranisition-functions">Tranisition FUNCTIONS </h2>
<p>None</p>
<h1 id="known-limitations-with-design">Known Limitations With Design</h1>
<p>None</p>
<h1 id="unit-test-consideration">UNIT TEST CONSIDERATION</h1>
<p>None</p>
<h1 id="appendix">Appendix</h1>
<p><em>None</em></p>
